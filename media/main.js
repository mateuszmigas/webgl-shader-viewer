!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=acquireVsCodeApi(),p=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return f.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return f.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;f.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),f.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),d=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},h=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},m=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},v=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},y=function(e){return v([0,0,0],e,1,3)},g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b={min:"0",max:"1",step:"0.1"},x=function(e,t){return e.hasOwnProperty(t)},E=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},A=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var T,w=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=C(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),C=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,A([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,A([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,A([n],e))};case r.SAMPLER_2D:return function(e){};default:E(e)}},S=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=new S((function(e){return e.name+";"+e.type})),L=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return F((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return I((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),R(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return N((function(t){l();e.setValue({slot:t.slot,textureData:!0})}));default:return _()}},_=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},P=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},F=function(e){var t=v([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},N=function(e){var t=y(),n=t[0];return t[1].setValues([0,0,0]),n},I=function(e){var t=y(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=m("row-with-gap"),i=v(t,(function(t){r(t),null==e||e(t)}),1,3,b),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,g(g({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=P({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return m("column-with-gap",[i,n,o])},R=function(e,t){var n=v([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=m("row-with-gap"),i=v(t,(function(t){r(t),null==e||e(t)}),1,4,b),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,g(g({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=P({custom:{display:"Custom",element:r},color:{display:"Color",element:i}});return m("column-with-gap",[a,r,i])},D=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},B=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(T||(T={}));var j=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=M(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.dispose=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),M=function(e){switch(e){case T.FLOAT_VEC3:return 3;case T.FLOAT_VEC4:return 4;default:E(e)}},k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},U=new S((function(e){return e.name+";"+e.type})),H=function(e){switch(e.getAttributeBufferType()){case T.FLOAT_VEC3:return J((function(t){e.setValue(t)}));case T.FLOAT_VEC4:var t=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(t),Y(t,(function(t){e.setValue(t)}));default:return G()}},G=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},J=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},Y=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},q=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};z(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,l,f,v,y,g,b,E,A,T,C,S,_,P,F,N,I,R;return X(this,(function(M){var G,J,Y;return e=new p,t=document.getElementById("viewer"),n=m("viewer-options"),r=m("viewer-shader-options"),i=m("viewer-content shader-errors"),a=q("viewer-content"),u=a[0],l=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),f=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},v=function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));_.setItems(t),N.setItems(t)}))},A=null,T=function(){r.innerHTML="";var e,t,n,o,a=l.context;if(E&&b){var u=function(e,t,n){var r=D(e,e.VERTEX_SHADER,t),o=D(e,e.FRAGMENT_SHADER,n),i=void 0;x(r,"error")&&(i=s(r.error,1));var a=void 0;return x(o,"error")&&(a=s(o.error,1)),i||a?[i,a]:B(e,r,o)}(a,b,E);if(Array.isArray(u))f("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{f("canvas");var c=u,p=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),d=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),m=function(e,t,n){var r=n.map((function(n){var r=O({},n),o=V.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new w(e,t,n.name,n.type);return{key:r,value:{component:h(L(i),n.name),uniformInfo:i}}}));return V.clear(),r.forEach((function(e){return V.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,p);m.forEach((function(e){return r.appendChild(e.component)}));var v=function(e,t,n){var r=n.map((function(n){var r=k({},n),o=U.get(r);if(o)return o.attributeBufferInfo.attachToProgram(t),{key:r,value:o};var i=new j(e,t,n.name,n.type);return{key:r,value:{component:h(H(i),n.name),attributeBufferInfo:i}}}));return U.clear(),r.forEach((function(e){return U.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,d);v.forEach((function(e){return r.appendChild(e.component)}));var y=m.map((function(e){return e.uniformInfo})),g=v.map((function(e){return e.attributeBufferInfo}));null!==A&&cancelAnimationFrame(A);var T=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(l.context,u,{uniforms:y,attributeBuffers:g}),A=requestAnimationFrame(T)};T()}}else f("none")},n.appendChild(m("viewer-shaders-title",[(G=o,J="",Y=document.createElement("h3"),Y.textContent=G,Y.className=J+" section-title",{element:Y}).element,d("Sync","viewer-refresh-button",v).element])),C=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==y||y(),t&&(y=e.subscribeToDocumentSave(t.id,(function(e){b=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return b=n,T(),[2]}}))}))})),S=C[0],_=C[1],n.appendChild(h(S,"Vertex Shader")),P=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==g||g(),t&&(g=e.subscribeToDocumentSave(t.id,(function(e){E=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return E=n,T(),[2]}}))}))})),F=P[0],N=P[1],n.appendChild(h(F,"Fragment Shader")),I=c((function(){})),R=I[0],I[1].setItems([{id:"cube",display:"Cube"},{id:"circle",display:"Circle"}]),n.appendChild(h(R,"Mesh")),n.appendChild(r),v(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZHJvcGRvd24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2FycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy91dWlkLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tbXVuaWNhdGlvblByb3h5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9pbnB1dE51bWJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvaW5wdXRDb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdHlwZUd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9jb21wb3NpdGVLZXlNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3dlYmdsL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dlYmdsQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9odG1sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2hlYWRlci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlVuaWZvcm1UeXBlIiwidHJhbnNsYXRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJlbXB0eUl0ZW0iLCJjcmVhdGVEcm9wZG93biIsIm9uQ2hhbmdlIiwiY2xhc3NOYW1lIiwib3B0aW9ucyIsImNvbWJpbmVkT3B0aW9ucyIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZWxlY3RlZEl0ZW0iLCJpdGVtRWxlbWVudHMiLCJzZXRTZWxlY3RlZEl0ZW0iLCJpdGVtIiwib25jaGFuZ2UiLCJmb3VuZEVsZW1lbnQiLCJmaW5kIiwiZSIsImlkIiwic2V0SXRlbXMiLCJpdGVtcyIsImlubmVySFRNTCIsImxlbmd0aCIsImRpc3BsYXkiLCJmb3JFYWNoIiwib3B0aW9uIiwidGV4dENvbnRlbnQiLCJzZWxlY3RlZCIsImFwcGVuZENoaWxkIiwicHVzaCIsImdldEl0ZW1zIiwibWFwIiwiaWUiLCJzZXRTZWxlY3RlZEl0ZW1CeUlkIiwiZ2V0U2VsZWN0ZWRJdGVtIiwiY2xlYXJTZWxlY3Rpb24iLCJyZW1vdmVMYXN0IiwidGV4dCIsImNvdW50Iiwic3Vic3RyaW5nIiwidXVpZHY0IiwicmVwbGFjZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsIm1lc3NhZ2VJZCIsInBvc3RNZXNzYWdlIiwidHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZSIsInBheWxvYWQiLCJmaWxlcyIsInJlbW92ZUxpc3RlbmVyIiwiZ2V0RG9jdW1lbnRUZXh0IiwiZmlsZU5hbWUiLCJzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZSIsImZpbGVQYXRoIiwiY2FsbGJhY2siLCJ0aGlzIiwiYXJyYXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVCdXR0b24iLCJvbkNsaWNrIiwiYnV0dG9uIiwib25jbGljayIsIndpdGhMYWJlbCIsIndyYXBwZXIiLCJsYWJlbCIsImNyZWF0ZURpdiIsImNoaWxkcmVuIiwiZGl2IiwiY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCIsImluaXRpYWxWYWx1ZSIsInJvd3MiLCJjb2x1bW5zIiwiaW5wdXRPcHRpb25zIiwiaW5wdXRHcmlkIiwiZ2V0VmFsdWVzIiwicm93IiwiaW5wdXRSb3ciLCJjb2x1bW4iLCJpbnB1dCIsIml0ZW1FbGVtZW50IiwiYXNzaWduIiwib25pbnB1dCIsIk51bWJlciIsInNldFZhbHVlcyIsIm5ld1ZhbHVlcyIsInNldFJlYWRvbmx5IiwicmVhZG9ubHkiLCJyZWFkT25seSIsImNyZWF0ZVZlY3RvcjMiLCJjb2xvcklucHV0UHJvcHMiLCJtaW4iLCJtYXgiLCJzdGVwIiwiaGFzUHJvcGVydHkiLCJvYmoiLCJwcm9wIiwiYXNzZXJ0TmV2ZXIiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJBdHRyaWJ1dGVCdWZmZXJUeXBlIiwiY29udGV4dCIsInByb2dyYW0iLCJhdHRhY2hUb1Byb2dyYW0iLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldHRlciIsImNyZWF0ZVVuaWZvcm1TZXR0ZXIiLCJzZXRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZGlzcG9zZSIsIkZMT0FUX1ZFQzIiLCJ1bmlmb3JtMmYiLCJGTE9BVF9WRUMzIiwidW5pZm9ybTNmIiwiRkxPQVRfVkVDNCIsInVuaWZvcm00ZiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImhhcyIsImNsZWFyIiwidW5pZm9ybUNvbXBvbmVudENhY2hlIiwiQ29tcG9zaXRlS2V5TWFwIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudCIsInVuaWZvcm1JbmZvIiwiY3JlYXRlVW5pZm9ybUZvclZlYzIiLCJjcmVhdGVVbmlmb3JtRm9yVmVjMyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWM0IiwiY3JlYXRlVW5pZm9ybUZvclRleHR1cmUiLCJzbG90IiwidGV4dHVyZURhdGEiLCJjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkIiwiaW5uZXJUZXh0IiwiY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiIsImVsZW1lbnRzIiwidmFsdWVzIiwib2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJvcHRpb25zRWxlbWVudCIsIm9wdGlvbnNDb250cm9sbGVyIiwiZW50cmllcyIsInVwZGF0ZSIsImN1c3RvbUVsZW1lbnQiLCJjb2xvckRpdiIsInNldENvbG9yIiwiY29sb3IiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb250YWluZXIiLCJjb250cm9sbGVyIiwiY3JlYXRlQ29sb3IzIiwiY29sb3JFbGVtZW50IiwiY3VzdG9tIiwiY3JlYXRlQ29sb3I0IiwiY29tcGlsZVNoYWRlciIsInJlbmRlcmluZ0NvbnRleHQiLCJzb3VyY2UiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZGVsZXRlUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZmxhdHRlbiIsImNvbmNhdCIsImJ1ZmZlckRhdGEiLCJGbG9hdDMyQXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldEF0dHJpYnV0ZUJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5Iiwic2l6ZSIsImdldE51bUNvbXBvbmVudHMiLCJGTE9BVCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJnZXRBdHRyaWJ1dGVCdWZmZXJUeXBlIiwiZGVsZXRlQnVmZmVyIiwiYnVmZmVyVHlwZSIsImF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50IiwiYXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNCIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCIsInJlc3VsdCIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiY3JlYXRlV2ViR0xDYW52YXMiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlckVudHJ5IiwidGFyZ2V0IiwiZG9tUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5Iiwib2JzZXJ2ZSIsInZzY29kZUFwaSIsInZpZXdlciIsImdldEVsZW1lbnRCeUlkIiwidmlld2VyT3B0aW9ucyIsInNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb21waWxhdGlvbkVycm9ycyIsIndlYkdMQ2FudmFzIiwid2ViR0xDb250cm9sbGVyIiwic2hvd0NvbnRlbnQiLCJjb250ZW50IiwidmlzaWJpbGl0eSIsInN5bmNTaGFkZXJEb2N1bWVudHMiLCJ0aGVuIiwic2QiLCJmIiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwiZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIiLCJhbmltYXRpb25GcmFtZUhhbmRsZSIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJ2ZXJ0ZXhTaGFkZXJFcnJvcnMiLCJmcmFnbWVudFNoYWRlckVycm9ycyIsImVycm9ycyIsInNlbGVjdGVkRnJhZ21lbnRDb250ZW50Iiwic2VsZWN0ZWRWZXJ0ZXhDb250ZW50IiwidmVydGV4U2hhZGVyQ29udGVudCIsImZyYWdtZW50U2hhZGVyQ29udGVudCIsIlZFUlRFWF9TSEFERVIiLCJGUkFHTUVOVF9TSEFERVIiLCJ2ZXJ0ZXhFcnJvciIsInVuZGVmaW5lZCIsImZyYWdtZW50RXJyb3IiLCJjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UiLCJqb2luIiwidW5pZm9ybXMiLCJudW1Vbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0UHJvZ3JhbVVuaWZvcm1zIiwiYXR0cmlidXRlQnVmZmVycyIsIm51bUF0dHJpYnV0ZUJ1ZmZlcnMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYnV0ZUJ1ZmZlciIsImdldEFjdGl2ZUF0dHJpYiIsImdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzIiwidW5pZm9ybUNvbXBvbmVudHMiLCJmcm9tQ2FjaGUiLCJVbmlmb3JtSW5mbyIsImNvbXBvbmVudCIsInVjIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMiLCJhYiIsImFiYyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVuZGVySW5mbyIsInVzZVByb2dyYW0iLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidSIsInByaW1pdGl2ZVR5cGUiLCJUUklBTkdMRVMiLCJkcmF3QXJyYXlzIiwicmVuZGVyUHJvZ3JhbSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5ld1ZlcnRleCIsInNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsIm5ld0NvbnRlbnQiLCJ2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQiLCJuZXdGcmFnbWVudCIsInNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwiZnJhZ21lbnREcm9wZG93bkVsZW1lbnQiLCJtZXNoRWxlbWVudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9D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MEIsRUFHMUJKLEksY0FqQkd3RCxFQUF1QixLQUFFMUQsRUFBMEIsS0FvQjFEYixFQUFjdk4sWUFDWmdELEVBQVU4TyxFQUF5QixvQkFHL0IsRUFBZ0N4VCxHQUFlLGVBQTlDeVQsRUFBVyxLQUFnQixLQUNuQnhTLFNBQVMsQ0FDdEIsQ0FBRUQsR0FBSSxPQUFRSyxRQUFTLFFBQ3ZCLENBQUVMLEdBQUksU0FBVUssUUFBUyxZQUUzQjROLEVBQWN2TixZQUFZZ0QsRUFBVStPLEVBQWEsU0FFakR4RSxFQUFjdk4sWUFBWXdOLEdBRTFCTyxJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgdHJhbnNsYXRpb25zID0ge1xyXG4gICAgc2hhZGVyczogXCJTSEFERVJTXCJcclxufSIsImltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5cclxuZXhwb3J0IGVudW0gVW5pZm9ybVR5cGUge1xyXG4gIEZMT0FUX1ZFQzIgPSAzNTY2NCxcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG4gIFNBTVBMRVJfMkQgPSAzNTY3OCxcclxufVxyXG5cclxuLy81MTIwIChCWVRFKSwgNTEyMSAoVU5TSUdORURfQllURSksIDUxMjIgKFNIT1JUKSwgNTEyMyAoVU5TSUdORURfU0hPUlQpLCA1MTI0IChJTlQpLFxyXG4vLyA1MTI1IChVTlNJR05FRF9JTlQpLCA1MTI2IChGTE9BVCksIDM1NjY0IChGTE9BVF9WRUMyKSxcclxuLy8gLCAzNTY2NyAoSU5UX1ZFQzIpLCAzNTY2OCAoSU5UX1ZFQzMpLCAzNTY2OSAoSU5UX1ZFQzQpLCAzNTY3MCAoQk9PTCksIDM1NjcxIChCT09MX1ZFQzIpLCAzNTY3MiAoQk9PTF9WRUMzKSwgMzU2NzMgKEJPT0xfVkVDNCksIDM1Njc0IChGTE9BVF9NQVQyKSwgMzU2NzUgKEZMT0FUX01BVDMpLCAzNTY3NiAoRkxPQVRfTUFUNClcclxuXHJcbmV4cG9ydCBjbGFzcyBVbmlmb3JtSW5mbzxUID0gYW55PiB7XHJcbiAgcHJpdmF0ZSB2YWx1ZTogVCB8IG51bGw7XHJcbiAgcHJpdmF0ZSBzZXR0ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBVbmlmb3JtVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbTogV2ViR0xQcm9ncmFtKSB7XHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuY29udGV4dC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdGhpcy5uYW1lKTtcclxuICAgIHRoaXMuc2V0dGVyID0gY3JlYXRlVW5pZm9ybVNldHRlcih0aGlzLnR5cGUsIHRoaXMuY29udGV4dCwgbG9jYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuICB9XHJcblxyXG4gIHNldFVuaWZvcm0oKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnNldHRlcih0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFVuaWZvcm1UeXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7fVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtU2V0dGVyID0gKFxyXG4gIHR5cGU6IFVuaWZvcm1UeXBlLFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBsb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb25cclxuKTogKCh2YWx1ZTogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjIpID0+IGNvbnRleHQudW5pZm9ybTJmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjMpID0+IGNvbnRleHQudW5pZm9ybTNmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjQpID0+IGNvbnRleHQudW5pZm9ybTRmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLlNBTVBMRVJfMkQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlRGF0YTogYm9vbGVhbiB9KSA9PiB7XHJcbiAgICAgICAgLy9jb250ZXh0LnRleGkodmFsdWUuc2xvdCk7XHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcih0eXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCB0eXBlIERyb3Bkb3duSXRlbSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRpc3BsYXk6IHN0cmluZztcclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gIGVtcHR5SXRlbTogdHJ1ZSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9XHJcbik6IFtcclxuICBIVE1MU2VsZWN0RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRJdGVtczogKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4gdm9pZDtcclxuICAgIGdldEl0ZW1zOiAoKSA9PiBEcm9wZG93bkl0ZW1bXTtcclxuICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgZ2V0U2VsZWN0ZWRJdGVtOiAoKSA9PiBEcm9wZG93bkl0ZW0gfCBudWxsO1xyXG4gICAgY2xlYXJTZWxlY3Rpb246ICgpID0+IHZvaWQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBjb21iaW5lZE9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgZHJvcGRvd24tYmFzZSAke2NsYXNzTmFtZX1gO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRJdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsID0gbnVsbDtcclxuICBsZXQgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxPcHRpb25FbGVtZW50OyBpdGVtOiBEcm9wZG93bkl0ZW0gfVtdID0gW107XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtID0gKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHtcclxuICAgIHNlbGVjdGVkSXRlbSA9IGl0ZW07XHJcbiAgICBvbkNoYW5nZShzZWxlY3RlZEl0ZW0pO1xyXG4gIH07XHJcblxyXG4gIGVsZW1lbnQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3VuZEVsZW1lbnQgPSBpdGVtRWxlbWVudHMuZmluZChlID0+IGUuaXRlbS5pZCA9PT0gZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgaWYgKGZvdW5kRWxlbWVudC5pdGVtLmlkKSBzZXRTZWxlY3RlZEl0ZW0oZm91bmRFbGVtZW50Lml0ZW0pO1xyXG4gICAgZWxzZSBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0SXRlbXMgPSAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBpdGVtRWxlbWVudHMubGVuZ3RoID0gMDtcclxuXHJcbiAgICBpZiAoIWl0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtXHJcbiAgICAgID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdXHJcbiAgICAgIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgIG9wdGlvbi52YWx1ZSA9IGl0ZW0uaWQ7XHJcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGl0ZW0uZGlzcGxheTtcclxuICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXRlbS5pZCA9PT0gc2VsZWN0ZWRJdGVtPy5pZDtcclxuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaCh7IGVsZW1lbnQ6IG9wdGlvbiwgaXRlbSB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldEl0ZW1zID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS5pdGVtKTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUlkID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4gKGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZSkpO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBlbGVtZW50LFxyXG4gICAge1xyXG4gICAgICBzZXRJdGVtcyxcclxuICAgICAgZ2V0SXRlbXMsXHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQsXHJcbiAgICAgIGdldFNlbGVjdGVkSXRlbSxcclxuICAgICAgY2xlYXJTZWxlY3Rpb24sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCByZW1vdmUgPSA8VD4oYXJyYXk6IFRbXSwgaXRlbTogVCkgPT4ge1xyXG4gIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcclxuXHJcbiAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZUxhc3QgPSAodGV4dDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gY291bnQpO1xyXG59O1xyXG4iLCIvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSBcIi4vLi4vdXRpbHMvYXJyYXlcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4vLi4vdXRpbHMvdXVpZFwiO1xyXG5kZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCI7IGlkOiBzdHJpbmcgfVxyXG4gIHwgeyB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiOyBpZDogc3RyaW5nOyBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcgfSB9XHJcbiAgfCB7IHR5cGU6IFwic3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIjsgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfVxyXG4gIHwgeyB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIjsgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfTtcclxuXHJcbmV4cG9ydCB0eXBlIFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlID1cclxuICB8IHtcclxuICAgICAgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIjtcclxuICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG4gICAgfVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiO1xyXG4gICAgICBpZDogc3RyaW5nO1xyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9O1xyXG4gICAgfVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBcIm9uRG9jdW1lbnRUZXh0Q2hhbmdlXCI7XHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZVBhdGg6IHN0cmluZzsgdGV4dDogc3RyaW5nIH07XHJcbiAgICB9O1xyXG5cclxuZXhwb3J0IHR5cGUgVW5zdWJzY3JpYmUgPSAoKSA9PiB2b2lkO1xyXG5cclxudHlwZSBQcm94eVJlc3BvbnNlTGlzdGVuZXIgPSAobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgVnNDb2RlQXBpUHJveHkge1xyXG4gIGV2ZW50TGlzdGVuZXJzOiBQcm94eVJlc3BvbnNlTGlzdGVuZXJbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldmVudCA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8eyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXT4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXRTaGFkZXJEb2N1bWVudHNcIiAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLmZpbGVzKTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldERvY3VtZW50VGV4dChmaWxlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSB1dWlkdjQoKTtcclxuXHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLFxyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPihyZXNvbHZlID0+IHtcclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldERvY3VtZW50VGV4dFwiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4gdm9pZFxyXG4gICk6IFVuc3Vic2NyaWJlIHtcclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwic3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIixcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZTogZmlsZVBhdGggfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBtZXNzYWdlLnR5cGUgPT09IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiAmJlxyXG4gICAgICAgIG1lc3NhZ2UucGF5bG9hZC5maWxlUGF0aCA9PT0gZmlsZVBhdGhcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIixcclxuICAgICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBQcm94eVJlc3BvbnNlTGlzdGVuZXIpIHtcclxuICAgIHJlbW92ZSh0aGlzLmV2ZW50TGlzdGVuZXJzLCBsaXN0ZW5lcik7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU/OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWUgPz8gXCJcIn0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURpdiA9IChjbGFzc05hbWU6IHN0cmluZywgY2hpbGRyZW4/OiBIVE1MRWxlbWVudFtdKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNoaWxkcmVuPy5mb3JFYWNoKGMgPT4gZGl2LmFwcGVuZENoaWxkKGMpKTtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCA9IDxUIGV4dGVuZHMgbnVtYmVyW10+KFxyXG4gIGluaXRpYWxWYWx1ZTogVCxcclxuICBvbkNoYW5nZTogKG5ld1ZhbHVlOiBUKSA9PiB2b2lkLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICBjb2x1bW5zOiBudW1iZXIsXHJcbiAgaW5wdXRPcHRpb25zPzogUGFydGlhbDxIVE1MSW5wdXRFbGVtZW50PlxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBUO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5wdXRHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBpbnB1dEdyaWQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWdyaWRcIjtcclxuXHJcbiAgY29uc3QgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfVtdID0gW107XHJcbiAgY29uc3Qgc2V0VmFsdWVzID0gKG5ld1ZhbHVlczogVCkgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWUudmFsdWUgPSBuZXdWYWx1ZXNbaW5kZXhdO1xyXG4gICAgICBpZS5lbGVtZW50LnZhbHVlID0gaWUudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH0pO1xyXG4gIGNvbnN0IGdldFZhbHVlcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoaWUgPT4gaWUudmFsdWUpIGFzIFQ7XHJcbiAgY29uc3Qgc2V0UmVhZG9ubHkgPSAocmVhZG9ubHk6IGJvb2xlYW4pID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5yZWFkT25seSA9IHJlYWRvbmx5KSk7XHJcblxyXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XHJcbiAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dFJvdy5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtcm93XCI7XHJcblxyXG4gICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2x1bW5zICsgY29sdW1uO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxWYWx1ZVtpbmRleF07XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gICAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZT8udG9TdHJpbmcoKTtcclxuICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBpdGVtRWxlbWVudHNbaW5kZXhdLnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcclxuICAgICAgICBvbkNoYW5nZT8uKGdldFZhbHVlcygpKTtcclxuICAgICAgfTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goaXRlbUVsZW1lbnQpO1xyXG4gICAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRHcmlkLmFwcGVuZENoaWxkKGlucHV0Um93KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBpbnB1dEdyaWQsXHJcbiAgICB7XHJcbiAgICAgIHNldFZhbHVlcyxcclxuICAgICAgZ2V0VmFsdWVzLFxyXG4gICAgICBzZXRSZWFkb25seSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjIgPSBbbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMiA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjI+KFswLCAwXSwgb25DaGFuZ2UsIDEsIDIpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjMgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3IzPihbMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCAzKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjQgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjQpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3I0PihbMCwgMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCA0KTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2IH0gZnJvbSBcIi4vd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IGNvbG9ySW5wdXRQcm9wcyA9IHtcclxuICBtaW46IFwiMFwiLFxyXG4gIG1heDogXCIxXCIsXHJcbiAgc3RlcDogXCIwLjFcIixcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3I0ID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjQpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNSwgMV0gYXMgQ29sb3I0O1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwke2NvbG9yWzNdfSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjQ+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICA0LFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yMyA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3IzKSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3IzO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjVdIGFzIENvbG9yMztcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sMSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjM+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICAzLFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGhhc1Byb3BlcnR5ID0gPFQgZXh0ZW5kcyB7fSwgUCBleHRlbmRzIFByb3BlcnR5S2V5PihcclxuICBvYmo6IFQsXHJcbiAgcHJvcDogUFxyXG4pOiBvYmogaXMgVCAmIFJlY29yZDxQLCB1bmtub3duPiA9PiB7XHJcbiAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhc3NlcnROZXZlciA9ICh2YWx1ZTogbmV2ZXIpOiBuZXZlciA9PiB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgdW5pb24gbWVtYmVyOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcclxufTtcclxuIiwiaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5cclxuZXhwb3J0IGVudW0gQXR0cmlidXRlQnVmZmVyVHlwZSB7XHJcbiAgRkxPQVRfVkVDMyA9IDM1NjY1LFxyXG4gIEZMT0FUX1ZFQzQgPSAzNTY2NixcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUJ1ZmZlckluZm8ge1xyXG4gIHByaXZhdGUgYnVmZmVyOiBXZWJHTEJ1ZmZlciB8IG51bGw7XHJcbiAgcHJpdmF0ZSBsb2NhdGlvbjogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGVcclxuICApIHtcclxuICAgIHRoaXMuYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgdGhpcy5idWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigpO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW06IFdlYkdMUHJvZ3JhbSkge1xyXG4gICAgdGhpcy5sb2NhdGlvbiA9IHRoaXMuY29udGV4dC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IG51bWJlcltdW10pIHtcclxuICAgIC8vbnVtRWxlbWVudHMgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICB0aGlzLmNvbnRleHQuYmluZEJ1ZmZlcih0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcbiAgICBjb25zdCBmbGF0dGVuID0gW10uY29uY2F0KC4uLm5ld1ZhbHVlKTtcclxuICAgIHRoaXMuY29udGV4dC5idWZmZXJEYXRhKFxyXG4gICAgICB0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KGZsYXR0ZW4pLFxyXG4gICAgICB0aGlzLmNvbnRleHQuU1RBVElDX0RSQVdcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBzZXRBdHRyaWJ1dGVCdWZmZXIoKSB7XHJcbiAgICBpZiAodGhpcy5idWZmZXIgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5jb250ZXh0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb24pO1xyXG4gICAgICB0aGlzLmNvbnRleHQuYmluZEJ1ZmZlcih0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcbiAgICAgIGNvbnN0IHNpemUgPSBnZXROdW1Db21wb25lbnRzKHRoaXMudHlwZSk7IC8vIDIgY29tcG9uZW50cyBwZXIgaXRlcmF0aW9uXHJcbiAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmNvbnRleHQuRkxPQVQ7IC8vIHRoZSBkYXRhIGlzIDMyYml0IGZsb2F0c1xyXG4gICAgICBjb25zdCBub3JtYWxpemUgPSBmYWxzZTsgLy8gZG9uJ3Qgbm9ybWFsaXplIHRoZSBkYXRhXHJcbiAgICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSBtb3ZlIGZvcndhcmQgc2l6ZSAqIHNpemVvZih0eXBlKSBlYWNoIGl0ZXJhdGlvbiB0byBnZXQgdGhlIG5leHQgcG9zaXRpb25cclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYnVmZmVyXHJcbiAgICAgIHRoaXMuY29udGV4dC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgICAgIHRoaXMubG9jYXRpb24sXHJcbiAgICAgICAgc2l6ZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIG5vcm1hbGl6ZSxcclxuICAgICAgICBzdHJpZGUsXHJcbiAgICAgICAgb2Zmc2V0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcclxuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGdldE51bUNvbXBvbmVudHMgPSAoYnVmZmVyVHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSkgPT4ge1xyXG4gIHN3aXRjaCAoYnVmZmVyVHlwZSkge1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiAzO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiA0O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgYXNzZXJ0TmV2ZXIoYnVmZmVyVHlwZSk7XHJcbiAgfVxyXG59O1xyXG4iLCJleHBvcnQgY2xhc3MgQ29tcG9zaXRlS2V5TWFwPFRLZXksIFRWYWx1ZT4ge1xyXG4gIHByaXZhdGUgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFRWYWx1ZT4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBrZXlTZWxlY3RvcjogKGNvbXBvc2l0ZUtleTogVEtleSkgPT4gc3RyaW5nKSB7fVxyXG5cclxuICBnZXQoa2V5OiBUS2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KHRoaXMua2V5U2VsZWN0b3Ioa2V5KSk7XHJcbiAgfVxyXG5cclxuICBzZXQoa2V5OiBUS2V5LCB2YWx1ZTogVFZhbHVlKSB7XHJcbiAgICB0aGlzLm1hcC5zZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBoYXMoa2V5OiBUS2V5KSB7XHJcbiAgICB0aGlzLm1hcC5oYXModGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5tYXAuY2xlYXIoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlQ29sb3IzLCBjcmVhdGVDb2xvcjQgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvaW5wdXRDb2xvclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuLi9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2LCB3aXRoTGFiZWwgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4uL3V1aWRcIjtcclxuXHJcbmNvbnN0IHVuaWZvcm1Db21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgeyBjb21wb25lbnQ6IEhUTUxFbGVtZW50OyB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHVuaWZvcm1zOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gdW5pZm9ybXMubWFwKHVuaWZvcm0gPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi51bmlmb3JtLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUudW5pZm9ybUluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVuaWZvcm1JbmZvID0gbmV3IFVuaWZvcm1JbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICB1bmlmb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pZm9ybS50eXBlXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm1JbmZvKSxcclxuICAgICAgICB1bmlmb3JtLm5hbWVcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZTogeyBjb21wb25lbnQsIHVuaWZvcm1JbmZvIH0gfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdW5pZm9ybUNvbXBvbmVudENhY2hlLmNsZWFyKCk7XHJcbiAgdW5pZm9ybUNvbXBvbmVudHMuZm9yRWFjaCh1YyA9PiB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuc2V0KHVjLmtleSwgdWMudmFsdWUpKTtcclxuXHJcbiAgcmV0dXJuIHVuaWZvcm1Db21wb25lbnRzLm1hcCh1YyA9PiB1Yy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50ID0gKHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbykgPT4ge1xyXG4gIHN3aXRjaCAodW5pZm9ybUluZm8uZ2V0VW5pZm9ybVR5cGUoKSkge1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzIodmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWMzKHZhbHVlID0+IHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNCA9IFsxLCAwLCAwLCAxXTtcclxuICAgICAgdW5pZm9ybUluZm8uc2V0VmFsdWUoaW5pdGlhbFZhbHVlKTtcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWM0KGluaXRpYWxWYWx1ZSwgdmFsdWUgPT5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSlcclxuICAgICAgKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlKHZhbHVlID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50c2V0VmFsdWUgPSB1dWlkdjQoKTtcclxuICAgICAgICAvL2xvYWQgd2l0aCBkZWJvdW5jZSA9PiB0aGVuXHJcbiAgICAgICAgdW5pZm9ybUluZm8uc2V0VmFsdWUoeyBzbG90OiB2YWx1ZS5zbG90LCB0ZXh0dXJlRGF0YTogdHJ1ZSB9KTtcclxuICAgICAgfSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIHVuaWZvcm1cIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24gPSAoZWxlbWVudHM6IHtcclxuICBba2V5OiBzdHJpbmddOiB7IGRpc3BsYXk6IHN0cmluZzsgZWxlbWVudDogSFRNTEVsZW1lbnQgfTtcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtvcHRpb25zRWxlbWVudCwgb3B0aW9uc0NvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBpdGVtID0+IHtcclxuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XHJcblxyXG4gICAgICBPYmplY3QudmFsdWVzKGVsZW1lbnRzKS5mb3JFYWNoKG9lID0+IG9lLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcblxyXG4gICAgICBlbGVtZW50c1tpdGVtLmlkXS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9LFxyXG4gICAgXCJcIixcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRJdGVtcyhcclxuICAgIE9iamVjdC5lbnRyaWVzKGVsZW1lbnRzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcclxuICAgICAgaWQ6IGtleSxcclxuICAgICAgZGlzcGxheTogdmFsdWUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJZChcImN1c3RvbVwiKTtcclxuICByZXR1cm4gb3B0aW9uc0VsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMiA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzQgPSAoXHJcbiAgaW5pdGlhbFZhbHVlOiBWZWN0b3I0LFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjQodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBbY29sb3JFbGVtZW50LCBjb2xvckNvbnRyb2xsZXJdID0gY3JlYXRlQ29sb3I0KHVwZGF0ZSk7XHJcbiAgY29sb3JDb250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24oe1xyXG4gICAgY3VzdG9tOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQsXHJcbiAgICB9LFxyXG4gICAgY29sb3I6IHtcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuIiwiaW1wb3J0IHsgcmVtb3ZlTGFzdCB9IGZyb20gXCIuLi9hcnJheVwiO1xyXG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZUJ1ZmZlckluZm8sIEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSBmcm9tIFwiLi9hdHRyaWJ1dGVCdWZmZXJcIjtcclxuaW1wb3J0IHsgVW5pZm9ybUluZm8sIFVuaWZvcm1UeXBlIH0gZnJvbSBcIi4vdW5pZm9ybVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXIgPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHR5cGU6IEdMZW51bSxcclxuICBzb3VyY2U6IHN0cmluZ1xyXG4pOiBXZWJHTFNoYWRlciB8IHsgZXJyb3I6IHN0cmluZyB9ID0+IHtcclxuICBjb25zdCBzaGFkZXIgPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgc2hhZGVyLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5DT01QSUxFX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBzaGFkZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZXJyb3IsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBsZXQgdmVydGV4RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICBmcmFnbWVudEVycm9yID0gcmVtb3ZlTGFzdChmcmFnbWVudFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgLy90b2RvIGNsZWFudXBcclxuICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIFNoYWRlckNvbXBpbGVFcnJvcnM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShjb250ZXh0LCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxyXG4gIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxyXG4pID0+IHtcclxuICBjb25zdCBwcm9ncmFtID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuTElOS19TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYENyZWF0aW5nIHByb2dyYW0gZmFpbGVkOiAke3JlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbVVuaWZvcm1zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfVU5JRk9STVNcclxuICApO1xyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtVW5pZm9ybXM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IHVuaWZvcm0gPSBjb250ZXh0LmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiB1bmlmb3JtLm5hbWUsIHR5cGU6IHVuaWZvcm0udHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1BdHRyaWJ1dGVCdWZmZXJzID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX0FUVFJJQlVURVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtQXR0cmlidXRlQnVmZmVyczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlQnVmZmVyID0gY29udGV4dC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiBhdHRyaWJ1dGVCdWZmZXIubmFtZSwgdHlwZTogYXR0cmlidXRlQnVmZmVyLnR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlclByb2dyYW0gPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICByZW5kZXJJbmZvOiB7XHJcbiAgICB1bmlmb3JtczogVW5pZm9ybUluZm9bXTtcclxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IEF0dHJpYnV0ZUJ1ZmZlckluZm9bXTtcclxuICAgIC8vdGV4dHVyZXNcclxuICB9XHJcbikgPT4ge1xyXG4gIGNvbnRleHQudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICBjb250ZXh0LnZpZXdwb3J0KDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xyXG4gIGNvbnRleHQuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcclxuICBjb250ZXh0LmNsZWFyKGNvbnRleHQuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gIHJlbmRlckluZm8udW5pZm9ybXMuZm9yRWFjaCh1ID0+IHUuc2V0VW5pZm9ybSgpKTtcclxuICByZW5kZXJJbmZvLmF0dHJpYnV0ZUJ1ZmZlcnMuZm9yRWFjaChhYiA9PiBhYi5zZXRBdHRyaWJ1dGVCdWZmZXIoKSk7XHJcbiAgLy8gY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAvLyAgIC4uLnJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVycy5tYXAoKGFiKSA9PiBhYi5nZXRFbGVtZW50c0NvdW50KCkpXHJcbiAgLy8gKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcbiAgY29uc3QgY291bnQgPSAzO1xyXG4gIGNvbnRleHQuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFNoYWRlckNvbXBpbGVFcnJvcnMgPSBbXHJcbiAgdmVydGV4U2hhZGVyRXJyb3JzOiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJFcnJvcnM6IHN0cmluZ1xyXG5dO1xyXG5leHBvcnQgY29uc3QgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyA9IChyZXN1bHQ6IFNoYWRlckNvbXBpbGVFcnJvcnMpID0+IHtcclxuICBjb25zdCBbdmVydGV4U2hhZGVyRXJyb3JzLCBmcmFnbWVudFNoYWRlckVycm9yc10gPSByZXN1bHQ7XHJcblxyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKHZlcnRleFNoYWRlckVycm9ycykge1xyXG4gICAgZXJyb3JzLnB1c2goXCJWRVJURVggU0hBREVSOlwiLCB2ZXJ0ZXhTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZyYWdtZW50U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIkZSQUdNRU5UIFNIQURFUjpcIiwgZnJhZ21lbnRTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycy5qb2luKFwiXFxyXFxuXCIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9LFxyXG4gIHsgY29tcG9uZW50OiBIVE1MRWxlbWVudDsgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mbyB9XHJcbj4oa2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICBhdHRyaWJ1dGVCdWZmZXJzOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyA9IGF0dHJpYnV0ZUJ1ZmZlcnMubWFwKGF0dHJpYnV0ZUJ1ZmZlciA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLmF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZnJvbUNhY2hlID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUuYXR0cmlidXRlQnVmZmVySW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mbyA9IG5ldyBBdHRyaWJ1dGVCdWZmZXJJbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIubmFtZSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIudHlwZVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjb21wb25lbnQgPSB3aXRoTGFiZWwoXHJcbiAgICAgICAgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50KGF0dHJpYnV0ZUJ1ZmZlckluZm8pLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IHsgY29tcG9uZW50LCBhdHRyaWJ1dGVCdWZmZXJJbmZvIH0gfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLnNldCh1Yy5rZXksIHVjLnZhbHVlKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLm1hcCh1YyA9PiB1Yy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQgPSAoXHJcbiAgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mb1xyXG4pID0+IHtcclxuICBzd2l0Y2ggKGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyh2YWx1ZSA9PiB7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdID0gW1xyXG4gICAgICAgIFswLCAwLCAwLCAxXSxcclxuICAgICAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgICAgICBbMC43LCAwLCAwLCAxXSxcclxuICAgICAgXTtcclxuICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0KGluaXRpYWxWYWx1ZSwgdmFsdWUgPT4ge1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgYXR0cmlidXRlIGJ1ZmZlclwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeShlID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDQgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcbiIsImltcG9ydCB7IG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2h0bWxcIjtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlYkdMQ2FudmFzID0gKFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nXHJcbik6IFtcclxuICBIVE1MQ2FudmFzRWxlbWVudCxcclxuICB7XHJcbiAgICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gIGNhbnZhcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG4gIG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0KGNhbnZhcywgcmVjdCA9PiB7XHJcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIC8vdG9kbyBtb3ZlIHRvIGVycm9yc1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJnbCBjb250ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGNhbnZhcyxcclxuICAgIHtcclxuICAgICAgY29udGV4dCxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0ID0gKFxyXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXHJcbiAgY2FsbGJhY2s6IChyZWN0YW5nbGU6IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICB9KSA9PiB2b2lkXHJcbik6ICgoKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZWxlbWVudHMgPT4ge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJFbnRyeSA9IGVsZW1lbnRzLmZpbmQoZSA9PiBlLnRhcmdldCA9PT0gZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKG9ic2VydmVyRW50cnkpIHtcclxuICAgICAgY29uc3QgZG9tUmVjdCA9IG9ic2VydmVyRW50cnkudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgeDogZG9tUmVjdC54LFxyXG4gICAgICAgIHk6IGRvbVJlY3QueSxcclxuICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuICByZXR1cm4gKCkgPT4gcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyB0cmFuc2xhdGlvbnMgfSBmcm9tIFwiLi8uLi90cmFuc2xhdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IFVuc3Vic2NyaWJlLCBWc0NvZGVBcGlQcm94eSB9IGZyb20gXCIuL2NvbW11bmljYXRpb25Qcm94eVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZWN0aW9uVGl0bGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2hlYWRlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVCdXR0b24gYXMgY3JlYXRlQnV0dG9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9idXR0b25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2LCB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIH0gZnJvbSBcIi4uL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnRcIjtcclxuaW1wb3J0IHtcclxuICBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UsXHJcbiAgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyxcclxuICBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyxcclxuICBnZXRQcm9ncmFtVW5pZm9ybXMsXHJcbiAgcmVuZGVyUHJvZ3JhbSxcclxuICBTaGFkZXJDb21waWxlRXJyb3JzLFxyXG59IGZyb20gXCIuLi91dGlscy93ZWJnbC9pbmRleFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIH0gZnJvbSBcIi4uL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVXZWJHTENhbnZhcyB9IGZyb20gXCIuL2NvbXBvbmVudHMvd2ViZ2xDYW52YXNcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZVZpZXdlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCB2c2NvZGVBcGkgPSBuZXcgVnNDb2RlQXBpUHJveHkoKTtcclxuICBjb25zdCB2aWV3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdlclwiKTtcclxuICBjb25zdCB2aWV3ZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJDb21waWxhdGlvbkVycm9ycyA9IGNyZWF0ZURpdihcInZpZXdlci1jb250ZW50IHNoYWRlci1lcnJvcnNcIik7XHJcbiAgY29uc3QgW3dlYkdMQ2FudmFzLCB3ZWJHTENvbnRyb2xsZXJdID0gY3JlYXRlV2ViR0xDYW52YXMoXCJ2aWV3ZXItY29udGVudFwiKTtcclxuXHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHdlYkdMQ2FudmFzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQoc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh2aWV3ZXJPcHRpb25zKTtcclxuXHJcbiAgY29uc3Qgc2hvd0NvbnRlbnQgPSAoY29udGVudDogXCJjYW52YXNcIiB8IFwiZXJyb3JzXCIgfCBcIm5vbmVcIikgPT4ge1xyXG4gICAgd2ViR0xDYW52YXMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiY2FudmFzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImVycm9yc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3luY1NoYWRlckRvY3VtZW50cyA9ICgpID0+IHtcclxuICAgIHZzY29kZUFwaS5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoZiA9PiAoe1xyXG4gICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogVW5zdWJzY3JpYmUgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IGFuaW1hdGlvbkZyYW1lSGFuZGxlOiBudW1iZXIgPSBudWxsO1xyXG5cclxuICBjb25zdCBvblNoYWRlckNvbnRlbnRDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgc2hhZGVyT3B0aW9ucy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdlYkdMQ29udHJvbGxlci5jb250ZXh0O1xyXG5cclxuICAgIGlmIChzZWxlY3RlZEZyYWdtZW50Q29udGVudCAmJiBzZWxlY3RlZFZlcnRleENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGlsZVNoYWRlcnNGcm9tU291cmNlKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50LFxyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJlcnJvcnNcIik7XHJcbiAgICAgICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuaW5uZXJUZXh0ID0gZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyhcclxuICAgICAgICAgIHJlc3VsdCBhcyBTaGFkZXJDb21waWxlRXJyb3JzXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93Q29udGVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjb25zdCBwcm9ncmFtID0gcmVzdWx0IGFzIFdlYkdMUHJvZ3JhbTtcclxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IGdldFByb2dyYW1Vbmlmb3Jtcyhjb250ZXh0LCBwcm9ncmFtKTtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJzID0gZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMoY29udGV4dCwgcHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIHVuaWZvcm1zXHJcbiAgICAgICAgKTtcclxuICAgICAgICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHVjLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVyc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5mb3JFYWNoKGFiID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKGFiLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtSW5mb3MgPSB1bmlmb3JtQ29tcG9uZW50cy5tYXAodWMgPT4gdWMudW5pZm9ybUluZm8pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm9zID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5tYXAoXHJcbiAgICAgICAgICBhYmMgPT4gYWJjLmF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVIYW5kbGUgIT09IG51bGwpXHJcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUhhbmRsZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbmRlclByb2dyYW0od2ViR0xDb250cm9sbGVyLmNvbnRleHQsIHJlc3VsdCwge1xyXG4gICAgICAgICAgICB1bmlmb3JtczogdW5pZm9ybUluZm9zLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzOiBhdHRyaWJ1dGVCdWZmZXJJbmZvcyxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYW5pbWF0aW9uRnJhbWVIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0NvbnRlbnQoXCJub25lXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVycy10aXRsZVwiLCBbXHJcbiAgICAgIGNyZWF0ZVNlY3Rpb25UaXRsZSh0cmFuc2xhdGlvbnMuc2hhZGVycywgXCJcIikuZWxlbWVudCxcclxuICAgICAgY3JlYXRlQnV0dG9uKFwiU3luY1wiLCBcInZpZXdlci1yZWZyZXNoLWJ1dHRvblwiLCBzeW5jU2hhZGVyRG9jdW1lbnRzKVxyXG4gICAgICAgIC5lbGVtZW50LFxyXG4gICAgXSlcclxuICApO1xyXG5cclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyBuZXdWZXJ0ZXggPT4ge1xyXG4gICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld1ZlcnRleCkge1xyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSA9IHZzY29kZUFwaS5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld1ZlcnRleC5pZCxcclxuICAgICAgICAgIG5ld0NvbnRlbnQgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdDb250ZW50O1xyXG4gICAgICAgICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3VmVydGV4XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld1ZlcnRleC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKHZlcnRleERyb3Bkb3duRWxlbWVudCwgXCJWZXJ0ZXggU2hhZGVyXCIpKTtcclxuXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld0ZyYWdtZW50ID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2c2NvZGVBcGkuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdGcmFnbWVudC5pZCxcclxuICAgICAgICAgIG5ld0NvbnRlbnQgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0ZyYWdtZW50XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld0ZyYWdtZW50LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChmcmFnbWVudERyb3Bkb3duRWxlbWVudCwgXCJGcmFnbWVudCBTaGFkZXJcIilcclxuICApO1xyXG5cclxuICBjb25zdCBbbWVzaEVsZW1lbnQsIG1lc2hDb250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKCgpID0+IHt9KTtcclxuICBtZXNoQ29udHJvbGxlci5zZXRJdGVtcyhbXHJcbiAgICB7IGlkOiBcImN1YmVcIiwgZGlzcGxheTogXCJDdWJlXCIgfSxcclxuICAgIHsgaWQ6IFwiY2lyY2xlXCIsIGRpc3BsYXk6IFwiQ2lyY2xlXCIgfSxcclxuICBdKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChtZXNoRWxlbWVudCwgXCJNZXNoXCIpKTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxuXHJcbiAgc3luY1NoYWRlckRvY3VtZW50cygpO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==