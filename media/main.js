!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),l=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,u=o.length;i<u;i++,l++)r[l]=o[i];return r};console.log("fse");var l=document.getElementById("main-container"),o=document.createElement("canvas"),i=function(e){var t=document.createElement("select"),n=null,l=[],o=function(t){e(n=t)};t.onchange=function(){var e=l.find((function(e){return e.item.id===t.value}));e.item.id?o(e.item):o(null)};return{element:t,controller:{setItems:function(e){t.innerHTML="",l.length=0,e.find((function(e){return e.id===(null==n?void 0:n.id)}))||o(null),r([{id:"",display:""}],e).forEach((function(e){var r=document.createElement("option");r.value=e.id,r.textContent=e.display,r.selected=e.id===(null==n?void 0:n.id),t.appendChild(r),l.push({element:r,item:e})}))},getItems:function(){return l.map((function(e){return e.item}))},setSelectedItemById:function(e){o(null),l.forEach((function(t){t.item.id===e?(t.element.selected=!0,o(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return n},clearSelection:function(){l.forEach((function(e){return e.element.selected=!1})),o(null)}}}}((function(e){console.log("item changed",e)})),u=i.element,c=i.controller;c.setItems([{id:"1",display:"ala1"},{id:"2",display:"ala2"},{id:"3",display:"ala3"}]),c.setSelectedItemById("2");var a={element:m=document.createElement("textarea"),controller:{getText:function(){return m.value},setText:function(e){return m.value=e}}},d=a.element,f=a.controller;l.appendChild(u),l.appendChild(d),f.setText("dupa"),o.width=500,o.height=500,l.appendChild(o);var m,s=o.getContext("2d");s.fillStyle="green",s.fillRect(150,150,200,450)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3RleHRBcmVhLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29uc29sZSIsImxvZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50Iiwib25DaGFuZ2UiLCJlbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsImNvbnRyb2xsZXIiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsImNyZWF0ZURyb3Bkb3duIiwiZHJvcGRvd25FbGVtZW50IiwiZHJvcGRvd25Db250cm9sbGVyIiwiZ2V0VGV4dCIsInNldFRleHQiLCJ0ZXh0IiwidGV4dEFyZWFFbGVtZW50IiwidGV4dEFyZWFDb250cm9sbGVyIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFB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LEVBQVVMLFNBQVNHLGNBQWMsWUFNckNZLFdBQVksQ0FDVnFCLFFBTlksV0FBTSxPQUFBL0IsRUFBUXRCLE9BTzFCc0QsUUFOWSxTQUFDQyxHQUFpQixPQUFDakMsRUFBUXRCLE1BQVF1RCxLQ3FCeENDLEVBQWUsVUFDWkMsRUFBa0IsYUFHaEMsRUFBUWYsWUFBWVMsR0FDcEIsRUFBUVQsWUFBWWMsR0FDcEJDLEVBQW1CSCxRQUFRLFFBRTNCbkMsRUFBT3VDLE1BQVEsSUFDZnZDLEVBQU93QyxPQUFTLElBQ2hCLEVBQVFqQixZQUFZdkIsR0FDcEIsSURsQ01HLEVDa0NBLEVBQVVILEVBQU95QyxXQUFXLE1BQ2xDLEVBQVFDLFVBQVksUUFDcEIsRUFBUUMsU0FBUyxJQUFLLElBQUssSUFBSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVRleHRBcmVhID0gKCk6IHtcclxuICBlbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gIGNvbnRyb2xsZXI6IHtcclxuICAgIHNldFRleHQ6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBnZXRUZXh0OiAoKSA9PiBzdHJpbmc7XHJcbiAgfTtcclxufSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcclxuICBjb25zdCBnZXRUZXh0ID0gKCkgPT4gZWxlbWVudC52YWx1ZTtcclxuICBjb25zdCBzZXRUZXh0ID0gKHRleHQ6IHN0cmluZykgPT4gKGVsZW1lbnQudmFsdWUgPSB0ZXh0KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGVsZW1lbnQsXHJcbiAgICBjb250cm9sbGVyOiB7XHJcbiAgICAgIGdldFRleHQsXHJcbiAgICAgIHNldFRleHQsXHJcbiAgICB9LFxyXG4gIH07XHJcbn07XHJcbiIsImltcG9ydCB7IGNyZWF0ZVRleHRBcmVhIH0gZnJvbSBcIi4vY29tcG9uZW50cy90ZXh0QXJlYVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuXHJcbmNvbnNvbGUubG9nKFwiZnNlXCIpO1xyXG5cclxuLy9jcmVhdGUgc2VjdGlvblxyXG4vL2NyZWF0ZSB0aXRsZVxyXG4vL2NyZWF0ZSBkcm9wZG93blxyXG4vL2NyYWV0ZSB0aXRsZVxyXG4vL2NyZWF0ZSBpbnB1dFxyXG5cclxuLy8gY3JlYXRlRHJvcGRvd24gPT4gZWxlbWVudCwgY29udHJvbGxlciB7IHNldEl0ZW1zLCBzZXRTZWxlY3RlZEl0ZW1JZCwgZ2V0U2VsZWN0ZWRJdGVtSWQsIGdldEl0ZW1zIH1cclxuXHJcbntcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluLWNvbnRhaW5lclwiKTtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gIGNvbnN0IHtcclxuICAgIGVsZW1lbnQ6IGRyb3Bkb3duRWxlbWVudCxcclxuICAgIGNvbnRyb2xsZXI6IGRyb3Bkb3duQ29udHJvbGxlcixcclxuICB9ID0gY3JlYXRlRHJvcGRvd24oKGl0ZW0pID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiaXRlbSBjaGFuZ2VkXCIsIGl0ZW0pO1xyXG4gIH0pO1xyXG4gIGRyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhbXHJcbiAgICB7IGlkOiBcIjFcIiwgZGlzcGxheTogXCJhbGExXCIgfSxcclxuICAgIHsgaWQ6IFwiMlwiLCBkaXNwbGF5OiBcImFsYTJcIiB9LFxyXG4gICAgeyBpZDogXCIzXCIsIGRpc3BsYXk6IFwiYWxhM1wiIH0sXHJcbiAgXSk7XHJcbiAgZHJvcGRvd25Db250cm9sbGVyLnNldFNlbGVjdGVkSXRlbUJ5SWQoXCIyXCIpO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBlbGVtZW50OiB0ZXh0QXJlYUVsZW1lbnQsXHJcbiAgICBjb250cm9sbGVyOiB0ZXh0QXJlYUNvbnRyb2xsZXIsXHJcbiAgfSA9IGNyZWF0ZVRleHRBcmVhKCk7XHJcblxyXG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZHJvcGRvd25FbGVtZW50KTtcclxuICBlbGVtZW50LmFwcGVuZENoaWxkKHRleHRBcmVhRWxlbWVudCk7XHJcbiAgdGV4dEFyZWFDb250cm9sbGVyLnNldFRleHQoXCJkdXBhXCIpO1xyXG5cclxuICBjYW52YXMud2lkdGggPSA1MDA7XHJcbiAgY2FudmFzLmhlaWdodCA9IDUwMDtcclxuICBlbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgY29udGV4dC5maWxsUmVjdCgxNTAsIDE1MCwgMjAwLCA0NTApO1xyXG59XHJcbiIsImV4cG9ydCB0eXBlIERyb3Bkb3duSXRlbSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRpc3BsYXk6IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWRcclxuKToge1xyXG4gIGVsZW1lbnQ6IEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gIGNvbnRyb2xsZXI6IHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICBjbGVhclNlbGVjdGlvbjogKCkgPT4gdm9pZDtcclxuICB9O1xyXG59ID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoKGUpID0+IGUuaXRlbS5pZCA9PT0gZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgaWYgKGZvdW5kRWxlbWVudC5pdGVtLmlkKSBzZXRTZWxlY3RlZEl0ZW0oZm91bmRFbGVtZW50Lml0ZW0pO1xyXG4gICAgZWxzZSBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0SXRlbXMgPSAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBpdGVtRWxlbWVudHMubGVuZ3RoID0gMDtcclxuXHJcbiAgICBpZiAoIWl0ZW1zLmZpbmQoKGkpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc10uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xyXG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBpdGVtLmRpc3BsYXk7XHJcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQ7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goeyBlbGVtZW50OiBvcHRpb24sIGl0ZW0gfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJdGVtcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoKGllKSA9PiBpZS5pdGVtKTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUlkID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSkgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IChpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2UpKTtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZWxlbWVudCxcclxuICAgIGNvbnRyb2xsZXI6IHtcclxuICAgICAgc2V0SXRlbXMsXHJcbiAgICAgIGdldEl0ZW1zLFxyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkLFxyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW0sXHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uLFxyXG4gICAgfSxcclxuICB9O1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9