!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";n.r(t);var r,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e){return Math.min(Math.max(e,1),10)},u=function(){function e(e,t,n){var r=this;this.element=e,this.positionProvider=t,this.onPositionChange=n,this.pointerPosition={x:0,y:0},this.eventListeners=new Map,this.isMoving=!1,this.dispatchAction=function(e){var t=function(e,t){switch(t.type){case"orbitRotate":return o(o({},e),{latitude:(r=e.latitude+t.deltaLatitude,u=Math.PI/2-.1,Math.min(Math.max(r,0),u)),longitude:(n=e.longitude+t.deltaLongitude,n>Math.PI?n-2*Math.PI:n<-Math.PI?n+2*Math.PI:n)});case"zoomInAt":return o(o({},e),{radius:i(e.radius-.1)});case"zoomOutAt":return o(o({},e),{radius:i(e.radius+.1)});default:return e}var n,r,u}(r.positionProvider(),e);r.onPositionChange(t)},this.onMouseDown=function(e){0===e.button&&(r.pointerPosition={x:e.offsetX,y:e.offsetY},r.isMoving=!0)},this.onMouseMove=function(e){if(r.isMoving){r.dispatchAction({type:"orbitRotate",deltaLongitude:.01*-(e.offsetX-r.pointerPosition.x),deltaLatitude:.01*(e.offsetY-r.pointerPosition.y)})}r.pointerPosition={x:e.offsetX,y:e.offsetY}},this.onMouseUp=function(){r.isMoving=!1},this.onMouseLeave=function(){r.isMoving=!1},this.onWheel=function(e){var t=e.deltaY<0?"zoomInAt":"zoomOutAt";r.dispatchAction({type:t})},this.registerEvent("mousedown",this.onMouseDown),this.registerEvent("mousemove",this.onMouseMove),this.registerEvent("mouseup",this.onMouseUp),this.registerEvent("mouseleave",this.onMouseLeave),this.registerEvent("wheel",this.onWheel)}return e.prototype.dispose=function(){var e=this;this.eventListeners.forEach((function(t,n){return e.element.removeEventListener(n,t)}))},e.prototype.registerEvent=function(e,t){this.element.addEventListener(e,t),this.eventListeners.set(e,t)},e}(),a=acquireVsCodeApi(),s={vertexFilePath:null,fragmentFilePath:null,drawMode:"elements"},c=function(){var e;return null!==(e=a.getState())&&void 0!==e?e:s},f=function(e){return a.setState(Object.assign(c(),e))},l=function(){function e(e){this.context=e,this.count=0,this.buffer=e.createBuffer()}return e.prototype.setValue=function(e){this.count=e.length,this.context.bindBuffer(this.context.ELEMENT_ARRAY_BUFFER,this.buffer),this.context.bufferData(this.context.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),this.context.STATIC_DRAW)},e.prototype.setIndexBuffer=function(){this.context.bindBuffer(this.context.ELEMENT_ARRAY_BUFFER,this.buffer)},e.prototype.getCount=function(){return this.count},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),p="SHADERS",h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},m={emptyItem:!0},v=function(e,t,n){var r=h(h({},m),n),o=document.createElement("select");o.className="dropdown-base "+t;var i=null,u=[],a=function(t){e(i=t)};o.onchange=function(){var e=u.find((function(e){return e.item.id===o.value}));e.item.id?a(e.item):a(null)};var s=function(e){u.forEach((function(t){t.item.id===e?(t.element.selected=!0,a(t.item)):t.element.selected=!1}))};return[o,{setItems:function(e){o.innerHTML="",u.length=0,(r.emptyItem?d([{id:"",display:""}],e):d(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==i?void 0:i.id),o.appendChild(t),u.push({element:t,item:e})}))},getItems:function(){return u.map((function(e){return e.item}))},setSelectedItemById:s,setSelectedItemByIndex:function(e){return s(u[e].item.id)},getSelectedItem:function(){return i},clearSelection:function(){u.forEach((function(e){return e.element.selected=!1})),a(null)}}]},y=function(e,t){var n=v((function(n){n?(e.forEach((function(e){return e.element.classList.add("hidden")})),e.find((function(e){return e.id===n.id})).element.classList.remove("hidden"),null==t||t(n.id)):null==t||t(null)}),"",{emptyItem:!1}),r=n[0],o=n[1];return o.setItems(e.map((function(e){return{id:e.id,display:e.display}}))),o.setSelectedItemByIndex(0),r},g=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},b=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},x=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},E=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var u=[],a=function(){return u.map((function(e){return e.value}))},s=0;s<n;s++){var c=document.createElement("div");c.className="edit-input-row";for(var f=function(n){var i=s*r+n,f=e[i],l=document.createElement("input"),p={element:l,value:f};Object.assign(l,o),l.className="edit-input",l.type="number",l.value=null==f?void 0:f.toString(),l.oninput=function(){u[i].value=Number(l.value),null==t||t(a())},u.push(p),c.appendChild(l)},l=0;l<r;l++)f(l);i.appendChild(c)}return[i,{setValues:function(e){return u.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:a,setReadonly:function(e){return u.forEach((function(t){return t.element.readOnly=e}))}}]},A=function(e){return E([0,0,0],e,1,3)},w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},T={min:"0",max:"1",step:"0.1"},M=function(e,t){return e.hasOwnProperty(t)},S=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},C=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var I,P=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=L(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.getUniformName=function(){return this.name},e.prototype.dispose=function(){},e}(),L=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,C([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,C([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,C([n],e))};case r.FLOAT_MAT4:return function(e){return t.uniformMatrix4fv(n,!1,e)};case r.SAMPLER_2D:return function(e){};default:S(e)}},O=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){return this.map.has(this.keySelector(e))},e.prototype.entriesStrKey=function(){return Array.from(this.map.entries())},e.prototype.deleteStrKey=function(e){this.map.delete(e)},e.prototype.delete=function(e){this.map.delete(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),F=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=new O((function(e){return e.name+";"+e.type})),B=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return R((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return D((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),U(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return k((function(t){F();e.setValue({slot:t.slot,textureData:!0})}));case r.FLOAT_MAT4:default:return N()}},R=function(e){var t=E([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},N=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},D=function(e){var t=A(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=x("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,3,T),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,w(w({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=y([{id:"custom",display:"Custom",element:n},{id:"color",display:"Color",element:o}]);return x("column-with-gap",[i,n,o])},U=function(e,t){var n=E([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=x("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,4,T),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,w(w({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var u=y([{id:"custom",display:"Custom",element:r},{id:"color",display:"Color",element:i}]);return x("column-with-gap",[u,r,i])},k=function(e){var t=A(),n=t[0];return t[1].setValues([0,0,0]),n},j=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},H=function(e,t){return e.substring(0,e.length-t)},Y=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},z=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))},G=function(){function e(e){this.value=e,this.observers=[]}return e.prototype.attach=function(e){this.observers.push(e)},e.prototype.detach=function(e){j(this.observers,e)},e.prototype.detachAll=function(){this.observers.length=0},e.prototype.setValue=function(e){this.value=e,this.notify()},e.prototype.getValue=function(){return this.value},e.prototype.forceNotify=function(){this.notify()},e.prototype.notify=function(){if(null!==this.value){var e=this.value;this.observers.forEach((function(t){return t(e)}))}},e}();!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(I||(I={}));var K=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.count=0,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.count=e.length,this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=W(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.getCount=function(){return this.count},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),W=function(e){switch(e){case I.FLOAT_VEC3:return 3;case I.FLOAT_VEC4:return 4;default:S(e)}},X=function(){return(X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},J=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},q=function(e){return e.name+";"+e.type},Q=new O(q),Z=function(e,t,n,r){var o,i,u=n.map((function(n){var o=X({},n),i=Q.get(o);if(i)return i.attributeBufferInfo.attachToProgram(t),{key:o,value:i};var u=new K(e,t,n.name,n.type),a=r.filter((function(e){return e.type===u.getAttributeBufferType()})),s=function(e){return u.setValue(e)},c=a.length?te(J([$(u)],ee(a,u)),s):ne(u,s),f=c.element,l=c.dispose;return{key:o,value:{component:b(f,n.name),attributeBufferInfo:u,dispose:function(){u.deleteBuffer(),null==l||l()}}}}));return i=(o=u).map((function(e){return q(e.key)})),Q.entriesStrKey().filter((function(e){return!i.includes(e[0])})).forEach((function(e){e[1].dispose(),Q.deleteStrKey(e[0])})),o.forEach((function(e){Q.has(e.key)||Q.set(e.key,e.value)})),u.map((function(e){return e.value}))},$=function(e){return X({id:"custom",display:"Custom"},ne(e))},ee=function(e,t){return e.map((function(e){var n=re(t.getAttributeBufferType(),!1,e.value);return{id:F(),element:n,display:e.name,value:e.value}}))},te=function(e,t){var n=null;return{element:x("column-with-gap",J([y(e,(function(r){null==n||n();var o=e.find((function(e){return e.id===r})),i=function(e){return t(e)};o.value.attach(i),i(o.value.getValue()),n=function(){return o.value.detach(i)}}))],e.map((function(e){return e.element})))),dispose:function(){return null==n?void 0:n()}}},ne=function(e,t){var n=new G((e.getAttributeBufferType(),[[0,0,0,1],[0,.5,0,1],[.9,0,0,1],[0,.5,0,1],[.7,0,0,1],[.7,.5,0,1]]));return t&&n.attach((function(t){e.setValue(t)})),{element:re(e.getAttributeBufferType(),!0,n),value:n,dispose:function(){return n.detachAll()}}},re=function(e,t,n){switch(e){case I.FLOAT_VEC4:return ie(n,t);default:return oe()}},oe=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},ie=function(e,t){var n=document.createElement("input");if(n.className="edit-input",n.disabled=!t,!t){e.attach((function(e){return n.value=JSON.stringify(e)}))}return n.value=JSON.stringify(e.getValue()),n.oninput=function(){try{var t=JSON.parse(n.value);if(Array.isArray(t))t.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;e.setValue(t)}catch(e){console.log("this is not a json")}},n},ue=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},ae=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=F();return a.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=F();return a.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;a.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),a.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){j(this.eventListeners,e)},e}(),se=function(e){return[].concat(e,e,e,e)},ce=new Map([["cube",{display:"Cube",positions:[[-.5,-.5,.5,1],[.5,-.5,.5,1],[.5,.5,.5,1],[-.5,.5,.5,1],[-.5,-.5,-.5,1],[-.5,.5,-.5,1],[.5,.5,-.5,1],[.5,-.5,-.5,1],[-.5,.5,-.5,1],[-.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,-.5,1],[-.5,-.5,-.5,1],[.5,-.5,-.5,1],[.5,-.5,.5,1],[-.5,-.5,.5,1],[.5,-.5,-.5,1],[.5,.5,-.5,1],[.5,.5,.5,1],[.5,-.5,.5,1],[-.5,-.5,-.5,1],[-.5,-.5,.5,1],[-.5,.5,.5,1],[-.5,.5,-.5,1]],colors:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r}(se([1,1,1,1]),se([1,0,0,1]),se([0,1,0,1]),se([0,0,1,1]),se([1,1,0,1]),se([1,0,1,1])),indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}]]);console.log(ce);var fe;!function(e){e.create=function(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.perspective=function(e,t,n,r,o){var i,u=1/Math.tan(t/2);return e[0]=u/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(r-o),e[10]=(o+r)*i,e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r),e},e.lookAt=function(e,t,n,r){var o,i,u,a,s,c,f,l,p,h,d=t[0],m=t[1],v=t[2],y=r[0],g=r[1],b=r[2],x=n[0],E=n[1],A=n[2];return Math.abs(d-x)<1e-6&&Math.abs(m-E)<1e-6&&Math.abs(v-A)<1e-6?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=d-x,l=m-E,p=v-A,o=g*(p*=h=1/Math.hypot(f,l,p))-b*(l*=h),i=b*(f*=h)-y*p,u=y*l-g*f,(h=Math.hypot(o,i,u))?(o*=h=1/h,i*=h,u*=h):(o=0,i=0,u=0),a=l*u-p*i,s=p*o-f*u,c=f*i-l*o,(h=Math.hypot(a,s,c))?(a*=h=1/h,s*=h,c*=h):(a=0,s=0,c=0),e[0]=o,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=s,e[6]=l,e[7]=0,e[8]=u,e[9]=c,e[10]=p,e[11]=0,e[12]=-(o*d+i*m+u*v),e[13]=-(a*d+s*m+c*v),e[14]=-(f*d+l*m+p*v),e[15]=1,e)}}(fe||(fe={}));var le=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}s((r=r.apply(e,t||[])).next())}))},pe=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};le(void 0,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,h,d,m,y,E,A,w,T,S,C,L,O,F,R,N,D,U,k,j,K,W,X,J,q,Q;return pe(this,(function($){var ee,te,ne;return e=new ae,t=c(),n=document.getElementById("viewer"),r=x("viewer-options"),o=x("viewer-shader-options"),i=x("viewer-content shader-errors"),a=ue("viewer-content"),s=a[0],h=a[1],d=new Map([["positions",{name:"Binding - Mesh positions",type:I.FLOAT_VEC4,value:new G([])}],["colors",{name:"Binding - Mesh colors",type:I.FLOAT_VEC4,value:new G([])}]]),m={drawMode:"arrays"},y={longitude:1,latitude:1,radius:2},new u(s,(function(){return y}),(function(e){y=e,console.log("viewport",y)})),n.appendChild(s),n.appendChild(i),n.appendChild(r),E=function(e){s.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},A=function(){e.getShaderDocuments().then((function(e){var n=e.map((function(e){return{id:e.filePath,display:e.fileName}}));D.setItems(n),t.vertexFilePath&&n.some((function(e){return e.id===t.vertexFilePath}))&&D.setSelectedItemById(t.vertexFilePath),j.setItems(n),t.fragmentFilePath&&n.some((function(e){return e.id===t.fragmentFilePath}))&&j.setSelectedItemById(t.fragmentFilePath)}))},L=null,O=function(e){var t=ce.get(e),n=t.positions,r=t.colors;d.get("positions").value.setValue(n),d.get("colors").value.setValue(r)},F=function(){o.innerHTML="";var e=h.context;if(C&&S){var t=function(e,t,n){var r=Y(e,e.VERTEX_SHADER,t),o=Y(e,e.FRAGMENT_SHADER,n),i=void 0;M(r,"error")&&(i=H(r.error,1));var u=void 0;return M(o,"error")&&(u=H(o.error,1)),i||u?[i,u]:z(e,r,o)}(e,S,C);if(Array.isArray(t))E("errors"),i.innerText=function(e){var t=e[0],n=e[1],r=[];return t&&r.push("VERTEX SHADER:",t),n&&r.push("FRAGMENT SHADER:",n),r.join("\r\n")}(t);else{E("canvas");var n=t,r=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(e,n),u=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(e,n),a=function(e,t,n){var r=n.map((function(n){var r=V({},n),o=_.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new P(e,t,n.name,n.type);return{key:r,value:{component:b(B(i),n.name),uniformInfo:i}}}));return _.clear(),r.forEach((function(e){return _.set(e.key,e.value)})),r.map((function(e){return e.value}))}(e,n,r);a.forEach((function(e){return o.appendChild(e.component)}));var s=Z(e,n,u,Array.from(d.values()));s.forEach((function(e){return o.appendChild(e.component)}));var c=a.map((function(e){return e.uniformInfo})),f=s.map((function(e){return e.attributeBufferInfo})),p=new l(e);p.setValue([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),null!==L&&cancelAnimationFrame(L);var v=c.find((function(e){return"uModelViewMatrix"===e.getUniformName()})),g=c.find((function(e){return"uProjectionMatrix"===e.getUniformName()})),x=function(t){var r=45*Math.PI/180,o=e.canvas,i=o.clientWidth/o.clientHeight,u=fe.create();fe.perspective(u,r,i,.1,100);var a=fe.create(),s=function(e){var t=e.radius*Math.sin(e.latitude),n=e.radius*Math.cos(e.latitude),r=n*Math.cos(e.longitude);return{x:n*Math.sin(e.longitude),y:t,z:r}}(y);fe.lookAt(a,[s.x,s.y,s.z],[0,0,0],[0,1,0]),g.setValue(u),v.setValue(a),function(e,t,n,r){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),n.uniformInfos.forEach((function(e){return e.setUniform()})),n.attributeBufferInfos.forEach((function(e){return e.setAttributeBuffer()}));var o=e.TRIANGLES;if("arrays"===r.drawMode){var i=Math.min.apply(Math,n.attributeBufferInfos.map((function(e){return e.getCount()})));e.drawArrays(o,0,i)}else n.indexBufferInfo.setIndexBuffer(),e.drawElements(o,n.indexBufferInfo.getCount(),e.UNSIGNED_SHORT,0)}(e,n,{uniformInfos:c,attributeBufferInfos:f,indexBufferInfo:p},m),L=requestAnimationFrame(x)};x(0)}}else E("none")},r.appendChild(x("viewer-shaders-title",[(ee=p,te="",ne=document.createElement("h3"),ne.textContent=ee,ne.className=te+" section-title",{element:ne}).element,g("Sync","viewer-refresh-button",A).element])),R=v((function(t){return le(void 0,void 0,void 0,(function(){var n;return pe(this,(function(r){switch(r.label){case 0:return null==w||w(),t&&(w=e.subscribeToDocumentSave(t.id,(function(e){S=e,F()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return S=n,f({vertexFilePath:t?t.id:null}),F(),[2]}}))}))})),N=R[0],(D=R[1]).setSelectedItemById(t.vertexFilePath),r.appendChild(b(N,"Vertex Shader")),U=v((function(t){return le(void 0,void 0,void 0,(function(){var n;return pe(this,(function(r){switch(r.label){case 0:return null==T||T(),t&&(T=e.subscribeToDocumentSave(t.id,(function(e){C=e,F()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return C=n,f({fragmentFilePath:t?t.id:null}),F(),[2]}}))}))})),k=U[0],(j=U[1]).setSelectedItemById(t.fragmentFilePath),r.appendChild(b(k,"Fragment Shader")),K=v((function(e){return e&&O(e.id)}),void 0,{emptyItem:!1}),W=K[0],(X=K[1]).setItems(Array.from(ce.entries()).map((function(e){return{id:e[0],display:e[1].display}}))),X.setSelectedItemByIndex(0),r.appendChild(b(W,"Mesh")),J=v((function(e){e&&(m.drawMode=e.id,f({drawMode:e.id}))}),void 0,{emptyItem:!1}),q=J[0],(Q=J[1]).setItems([{id:"arrays",display:"Arrays"},{id:"elements",display:"Elements"}]),Q.setSelectedItemById(t.drawMode),r.appendChild(b(q,"Draw mode")),r.appendChild(o),A(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9jYW1lcmFNYW5pcHVsYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW11bmljYXRpb24vdnNjb2RlQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vc3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvaW5kZXhCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi90cmFuc2xhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9kcm9wZG93bi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2lucHV0VmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaW5wdXRDb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy90eXBlR3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9jb21wb3NpdGVLZXlNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi91dWlkLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy93ZWJnbC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL3dlYmdsQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL2h0bWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9jb21tdW5pY2F0aW9uL3ZpZXdlckVuZHBvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL21lc2hlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9tYXRoLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJjbGFtcFJhZGl1cyIsInJhZGl1cyIsIk1hdGgiLCJtaW4iLCJtYXgiLCJlbGVtZW50IiwicG9zaXRpb25Qcm92aWRlciIsIm9uUG9zaXRpb25DaGFuZ2UiLCJwb2ludGVyUG9zaXRpb24iLCJ4IiwieSIsImV2ZW50TGlzdGVuZXJzIiwiTWFwIiwiaXNNb3ZpbmciLCJkaXNwYXRjaEFjdGlvbiIsImFjdGlvbiIsIm5ld1ZpZXdwb3J0IiwicG9zaXRpb24iLCJ0eXBlIiwibGF0aXR1ZGUiLCJkZWx0YUxhdGl0dWRlIiwibGltaXRUb3AiLCJQSSIsImxvbmdpdHVkZSIsImRlbHRhTG9uZ2l0dWRlIiwicmVkdWNlciIsIm9uTW91c2VEb3duIiwiZSIsImJ1dHRvbiIsIm9mZnNldFgiLCJvZmZzZXRZIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvbldoZWVsIiwiZGVsdGFZIiwidGhpcyIsInJlZ2lzdGVyRXZlbnQiLCJkaXNwb3NlIiwiZm9yRWFjaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldCIsInZzY29kZUFwaSIsImFjcXVpcmVWc0NvZGVBcGkiLCJkZWZhdWx0U3RhdGUiLCJ2ZXJ0ZXhGaWxlUGF0aCIsImZyYWdtZW50RmlsZVBhdGgiLCJkcmF3TW9kZSIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsImFzc2lnbiIsImNvbnRleHQiLCJjb3VudCIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInNldFZhbHVlIiwibmV3VmFsdWUiLCJsZW5ndGgiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiVWludDE2QXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldEluZGV4QnVmZmVyIiwiZ2V0Q291bnQiLCJkZWxldGVCdWZmZXIiLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImlkIiwic2V0U2VsZWN0ZWRJdGVtQnlJZCIsImllIiwic2VsZWN0ZWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwiZGlzcGxheSIsIm9wdGlvbiIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJzZXRTZWxlY3RlZEl0ZW1CeUluZGV4IiwiaW5kZXgiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsImNyZWF0ZUVsZW1lbnRzRHJvcGRvd24iLCJlbGVtZW50cyIsIm9lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwib3B0aW9uc0VsZW1lbnQiLCJvcHRpb25zQ29udHJvbGxlciIsImNyZWF0ZUJ1dHRvbiIsInRleHQiLCJvbkNsaWNrIiwib25jbGljayIsIndpdGhMYWJlbCIsIndyYXBwZXIiLCJsYWJlbCIsImNyZWF0ZURpdiIsImNoaWxkcmVuIiwiZGl2IiwiY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCIsImluaXRpYWxWYWx1ZSIsInJvd3MiLCJjb2x1bW5zIiwiaW5wdXRPcHRpb25zIiwiaW5wdXRHcmlkIiwiZ2V0VmFsdWVzIiwicm93IiwiaW5wdXRSb3ciLCJjb2x1bW4iLCJpbnB1dCIsIml0ZW1FbGVtZW50IiwidG9TdHJpbmciLCJvbmlucHV0IiwiTnVtYmVyIiwic2V0VmFsdWVzIiwibmV3VmFsdWVzIiwic2V0UmVhZG9ubHkiLCJyZWFkb25seSIsInJlYWRPbmx5IiwiY3JlYXRlVmVjdG9yMyIsImNvbG9ySW5wdXRQcm9wcyIsInN0ZXAiLCJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJhc3NlcnROZXZlciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIkF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJwcm9ncmFtIiwiYXR0YWNoVG9Qcm9ncmFtIiwibG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJzZXR0ZXIiLCJjcmVhdGVVbmlmb3JtU2V0dGVyIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZ2V0VW5pZm9ybU5hbWUiLCJGTE9BVF9WRUMyIiwidW5pZm9ybTJmIiwiRkxPQVRfVkVDMyIsInVuaWZvcm0zZiIsIkZMT0FUX1ZFQzQiLCJ1bmlmb3JtNGYiLCJGTE9BVF9NQVQ0IiwidW5pZm9ybU1hdHJpeDRmdiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsImhhcyIsImVudHJpZXNTdHJLZXkiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwiZGVsZXRlU3RyS2V5IiwiZGVsZXRlIiwiY2xlYXIiLCJ1dWlkdjQiLCJyZXBsYWNlIiwicmFuZG9tIiwidW5pZm9ybUNvbXBvbmVudENhY2hlIiwiQ29tcG9zaXRlS2V5TWFwIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudCIsInVuaWZvcm1JbmZvIiwiY3JlYXRlVW5pZm9ybUZvclZlYzIiLCJjcmVhdGVVbmlmb3JtRm9yVmVjMyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWM0IiwiY3JlYXRlVW5pZm9ybUZvclRleHR1cmUiLCJzbG90IiwidGV4dHVyZURhdGEiLCJjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkIiwidXBkYXRlIiwiY3VzdG9tRWxlbWVudCIsImlubmVyVGV4dCIsImNvbG9yRGl2Iiwic2V0Q29sb3IiLCJjb2xvciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbnRhaW5lciIsImNvbnRyb2xsZXIiLCJjcmVhdGVDb2xvcjMiLCJjb2xvckVsZW1lbnQiLCJjcmVhdGVDb2xvcjQiLCJhcnJheSIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVMYXN0Iiwic3Vic3RyaW5nIiwiY29tcGlsZVNoYWRlciIsInJlbmRlcmluZ0NvbnRleHQiLCJzb3VyY2UiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZGVsZXRlUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwib2JzZXJ2ZXJzIiwiYXR0YWNoIiwib2JzZXJ2ZXIiLCJkZXRhY2giLCJkZXRhY2hBbGwiLCJub3RpZnkiLCJnZXRWYWx1ZSIsImZvcmNlTm90aWZ5IiwiZ2V0QXR0cmliTG9jYXRpb24iLCJBUlJBWV9CVUZGRVIiLCJmbGF0dGVuIiwiY29uY2F0IiwiRmxvYXQzMkFycmF5Iiwic2V0QXR0cmlidXRlQnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJzaXplIiwiZ2V0TnVtQ29tcG9uZW50cyIsIkZMT0FUIiwidmVydGV4QXR0cmliUG9pbnRlciIsImdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJidWZmZXJUeXBlIiwiY29tcG9uZW50Q2FjaGUiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVycyIsImF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdzIiwibmV3VmFsdWVzU3RyS2V5cyIsImNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJmcm9tQ2FjaGUiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImFwcGxpY2FibGVCaW5kaW5ncyIsImZpbHRlciIsImIiLCJ1cGRhdGVCdWZmZXIiLCJjcmVhdGVTZWxlY3Rpb25Db21wb25lbnQiLCJjcmVhdGVDdXN0b21PcHRpb24iLCJjcmVhdGVCaW5kaW5nT3B0aW9ucyIsImNyZWF0ZUVkaXRhYmxlQ29tcG9uZW50IiwiY29tcG9uZW50IiwidiIsImluY2x1ZGVzIiwibnciLCJiaW5kaW5nIiwiY3JlYXRlRWxlbWVudEZvclR5cGUiLCJjYWxsYmFjayIsImN1c3RvbVZhbHVlIiwiYXR0cmlidXRlQnVmZmVyVHlwZSIsImVkaXRhYmxlIiwiY3VycmVudFZhbHVlIiwiY3JlYXRlRWxlbWVudFZlYzQiLCJjcmVhdGVFbGVtZW50Tm90U3VwcG9ydGVkIiwiZGlzYWJsZWQiLCJyZXN1bHQiLCJwYXJzZSIsImlzQXJyYXkiLCJldmVyeSIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVXZWJHTENhbnZhcyIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmVyRW50cnkiLCJ0YXJnZXQiLCJkb21SZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib2JzZXJ2ZSIsIndpbmRvdyIsImV2ZW50IiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwibWVzc2FnZUlkIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsInJlcGVhdDRUaW1lcyIsIm1lc2hlcyIsInBvc2l0aW9ucyIsImNvbG9ycyIsImluZGljZXMiLCJtYXQ0Iiwib3V0IiwicGVyc3BlY3RpdmUiLCJmb3Z5IiwiYXNwZWN0IiwibmVhciIsImZhciIsIm5mIiwiZiIsInRhbiIsIkluZmluaXR5IiwibG9va0F0IiwiZXllIiwiY2VudGVyIiwidXAiLCJ4MCIsIngxIiwieDIiLCJ5MCIsInkxIiwieTIiLCJ6MCIsInoxIiwiejIiLCJsZW4iLCJleWV4IiwiZXlleSIsImV5ZXoiLCJ1cHgiLCJ1cHkiLCJ1cHoiLCJjZW50ZXJ4IiwiY2VudGVyeSIsImNlbnRlcnoiLCJhYnMiLCJpZGVudGl0eTMiLCJoeXBvdCIsInZpZXdlckVuZHBvaW50Iiwidmlld2VyU3RhdGUiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsIm1lc2hBdHRyaWJ1dGVCaW5kaW5ncyIsImRyYXdPcHRpb25zIiwiY2FtZXJhUG9zaXRpb24iLCJDYW1lcmFQb3NpdGlvbk1hbmlwdWxhdG9yIiwibmV3UG9zaXRpb24iLCJzaG93Q29udGVudCIsImNvbnRlbnQiLCJ2aXNpYmlsaXR5Iiwic3luY1NoYWRlckRvY3VtZW50cyIsInRoZW4iLCJzZCIsInZlcnRleERyb3Bkb3duQ29udHJvbGxlciIsInNvbWUiLCJmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlciIsImFuaW1hdGlvbkZyYW1lSGFuZGxlIiwib25NZXNoQ2hhbmdlZCIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJzZWxlY3RlZEZyYWdtZW50Q29udGVudCIsInNlbGVjdGVkVmVydGV4Q29udGVudCIsInZlcnRleFNoYWRlckNvbnRlbnQiLCJmcmFnbWVudFNoYWRlckNvbnRlbnQiLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIiwidmVydGV4RXJyb3IiLCJ1bmRlZmluZWQiLCJmcmFnbWVudEVycm9yIiwiY29tcGlsZVNoYWRlcnNGcm9tU291cmNlIiwidmVydGV4U2hhZGVyRXJyb3JzIiwiZnJhZ21lbnRTaGFkZXJFcnJvcnMiLCJlcnJvcnMiLCJqb2luIiwiZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyIsInByb2dyYW1Vbmlmb3JtcyIsIm51bVVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwidW5pZm9ybSIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRQcm9ncmFtVW5pZm9ybXMiLCJwcm9ncmFtQXR0cmlidXRlQnVmZmVycyIsIm51bUF0dHJpYnV0ZUJ1ZmZlcnMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImdldEFjdGl2ZUF0dHJpYiIsImdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzIiwidW5pZm9ybUNvbXBvbmVudHMiLCJ1bmlmb3JtcyIsIlVuaWZvcm1JbmZvIiwidWMiLCJjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyIsImF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMiLCJ2YWx1ZXMiLCJhYiIsImFiYyIsIkluZGV4QnVmZmVySW5mbyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidSIsIm5vdyIsImZpZWxkT2ZWaWV3IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJwcm9qZWN0aW9uTWF0cml4IiwibW9kZWxWaWV3TWF0cml4IiwidmVjIiwic2luIiwiY29zIiwieiIsImNhbWVyYVBvc2l0aW9uVG9WZWN0b3IzIiwicmVuZGVySW5mbyIsInVzZVByb2dyYW0iLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJjbGVhckRlcHRoIiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwidW5pZm9ybUluZm9zIiwiYXR0cmlidXRlQnVmZmVySW5mb3MiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwibnVtRWxlbWVudHMiLCJkcmF3QXJyYXlzIiwiaW5kZXhCdWZmZXJJbmZvIiwiZHJhd0VsZW1lbnRzIiwiVU5TSUdORURfU0hPUlQiLCJyZW5kZXJQcm9ncmFtIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV3VmVydGV4Iiwic2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwibmV3Q29udGVudCIsInZlcnRleERyb3Bkb3duRWxlbWVudCIsIm5ld0ZyYWdtZW50Iiwic2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJmcmFnbWVudERyb3Bkb3duRWxlbWVudCIsIm1lc2hEcm9wZG93bkVsZW1lbnQiLCJtZXNoRHJvcGRvd25Db250cm9sbGVyIiwiZHJhd01vZGVFbGVtZW50IiwiZHJhd01vZGVDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRC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MkMsS0FFNUJBLGFBR25Cc1gsRUFBdUIvVyx1QkFBdUIsR0FFOUMwUSxFQUFjOVEsWUFBWW9CLEVBQVU4VixFQUFxQixTQUVuRCxFQUF3QzFZLEdBQzVDLFNBQUFVLEdBQ09BLElBQ0xrUyxFQUFZblUsU0FBV2lDLEVBQUtJLEdBQzVCbkMsRUFBUyxDQUFFRixTQUFVaUMsRUFBS0ksYUFFNUJxVCxFQUNBLENBQUVwVSxXQUFXLElBUFI2WSxFQUFlLE1BQUVDLEVBQWtCLE1BU3ZCM1gsU0FBUyxDQUMxQixDQUFFSixHQUFJLFNBQVVPLFFBQVMsVUFDekIsQ0FBRVAsR0FBSSxXQUFZTyxRQUFTLGNBRTdCd1gsRUFBbUI5WCxvQkFBb0JvUixFQUFZMVQsVUFDbkQ2VCxFQUFjOVEsWUFBWW9CLEVBQVVnVyxFQUFpQixjQUlyRHRHLEVBQWM5USxZQUFZK1EsR0FFMUJZLEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImltcG9ydCB7XHJcbiAgTWF0cml4NEFycmF5LFxyXG4gIFZlY3RvcjJBcnJheSxcclxuICBWZWN0b3IzQXJyYXksXHJcbiAgVmVjdG9yNEFycmF5LFxyXG59IGZyb20gXCIuLi8uLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgRkxPQVRfTUFUNCA9IDM1Njc2LFxyXG4gIFNBTVBMRVJfMkQgPSAzNTY3OCxcclxufVxyXG5cclxuLy81MTIwIChCWVRFKSwgNTEyMSAoVU5TSUdORURfQllURSksIDUxMjIgKFNIT1JUKSwgNTEyMyAoVU5TSUdORURfU0hPUlQpLCA1MTI0IChJTlQpLFxyXG4vLyA1MTI1IChVTlNJR05FRF9JTlQpLCA1MTI2IChGTE9BVCksIDM1NjY0IChGTE9BVF9WRUMyKSxcclxuLy8gLCAzNTY2NyAoSU5UX1ZFQzIpLCAzNTY2OCAoSU5UX1ZFQzMpLCAzNTY2OSAoSU5UX1ZFQzQpLCAzNTY3MCAoQk9PTCksIDM1NjcxIChCT09MX1ZFQzIpLCAzNTY3MiAoQk9PTF9WRUMzKSwgMzU2NzMgKEJPT0xfVkVDNCksIDM1Njc0IChGTE9BVF9NQVQyKSwgMzU2NzUgKEZMT0FUX01BVDMpLFxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybU5hbWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMkFycmF5KSA9PiBjb250ZXh0LnVuaWZvcm0yZihsb2NhdGlvbiwgLi4udmFsdWUpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gKHZhbHVlOiBWZWN0b3IzQXJyYXkpID0+IGNvbnRleHQudW5pZm9ybTNmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjRBcnJheSkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfTUFUNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogTWF0cml4NEFycmF5KSA9PlxyXG4gICAgICAgIGNvbnRleHQudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxudHlwZSBFdmVudFR5cGUgPSBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwO1xyXG50eXBlIEV2ZW50SGFuZGxlcjxUIGV4dGVuZHMgRXZlbnQ+ID0gKGV2ZW50OiBUKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbWVyYVBvc2l0aW9uVG9WZWN0b3IzID0gKFxyXG4gIGNhbWVyYVBvc2l0aW9uOiBDYW1lcmFQb3NpdGlvblxyXG4pOiBWZWN0b3IzID0+IHtcclxuICBjb25zdCB5ID0gY2FtZXJhUG9zaXRpb24ucmFkaXVzICogTWF0aC5zaW4oY2FtZXJhUG9zaXRpb24ubGF0aXR1ZGUpO1xyXG4gIGNvbnN0IHIgPSBjYW1lcmFQb3NpdGlvbi5yYWRpdXMgKiBNYXRoLmNvcyhjYW1lcmFQb3NpdGlvbi5sYXRpdHVkZSk7XHJcbiAgY29uc3QgeiA9IHIgKiBNYXRoLmNvcyhjYW1lcmFQb3NpdGlvbi5sb25naXR1ZGUpO1xyXG4gIGNvbnN0IHggPSByICogTWF0aC5zaW4oY2FtZXJhUG9zaXRpb24ubG9uZ2l0dWRlKTtcclxuICByZXR1cm4geyB4LCB5LCB6IH07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDYW1lcmFQb3NpdGlvbiA9IHtcclxuICBsYXRpdHVkZTogbnVtYmVyO1xyXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xyXG4gIHJhZGl1czogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBBY3Rpb24gPVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBcIm9yYml0Um90YXRlXCI7XHJcbiAgICAgIGRlbHRhTGF0aXR1ZGU6IG51bWJlcjtcclxuICAgICAgZGVsdGFMb25naXR1ZGU6IG51bWJlcjtcclxuICAgIH1cclxuICB8IHsgdHlwZTogXCJ6b29tSW5BdFwiIH1cclxuICB8IHsgdHlwZTogXCJ6b29tT3V0QXRcIiB9O1xyXG5cclxuY29uc3QgY2xhbXBMYXRpdHVkZSA9IChsYXRpdHVkZTogbnVtYmVyKSA9PiB7XHJcbiAgY29uc3QgbGltaXRUb3AgPSBNYXRoLlBJIC8gMi4wIC0gMC4xO1xyXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChsYXRpdHVkZSwgMCksIGxpbWl0VG9wKTtcclxufTtcclxuXHJcbmNvbnN0IGNsYW1wTG9uZ2l0dWRlID0gKGxvbmdpdHVkZTogbnVtYmVyKSA9PiB7XHJcbiAgaWYgKGxvbmdpdHVkZSA+IE1hdGguUEkpIHJldHVybiBsb25naXR1ZGUgLSBNYXRoLlBJICogMi4wO1xyXG4gIGVsc2UgaWYgKGxvbmdpdHVkZSA8IC1NYXRoLlBJKSByZXR1cm4gbG9uZ2l0dWRlICsgTWF0aC5QSSAqIDIuMDtcclxuICBlbHNlIHJldHVybiBsb25naXR1ZGU7XHJcbn07XHJcblxyXG5jb25zdCBjbGFtcFJhZGl1cyA9IChyYWRpdXM6IG51bWJlcikgPT4ge1xyXG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChyYWRpdXMsIDEpLCAxMCk7XHJcbn07XHJcblxyXG5jb25zdCByZWR1Y2VyID0gKHBvc2l0aW9uOiBDYW1lcmFQb3NpdGlvbiwgYWN0aW9uOiBBY3Rpb24pOiBDYW1lcmFQb3NpdGlvbiA9PiB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBcIm9yYml0Um90YXRlXCI6IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5wb3NpdGlvbixcclxuICAgICAgICBsYXRpdHVkZTogY2xhbXBMYXRpdHVkZShwb3NpdGlvbi5sYXRpdHVkZSArIGFjdGlvbi5kZWx0YUxhdGl0dWRlKSxcclxuICAgICAgICBsb25naXR1ZGU6IGNsYW1wTG9uZ2l0dWRlKHBvc2l0aW9uLmxvbmdpdHVkZSArIGFjdGlvbi5kZWx0YUxvbmdpdHVkZSksXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjYXNlIFwiem9vbUluQXRcIjoge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnBvc2l0aW9uLFxyXG4gICAgICAgIHJhZGl1czogY2xhbXBSYWRpdXMocG9zaXRpb24ucmFkaXVzIC0gMC4xKSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGNhc2UgXCJ6b29tT3V0QXRcIjoge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnBvc2l0aW9uLFxyXG4gICAgICAgIHJhZGl1czogY2xhbXBSYWRpdXMocG9zaXRpb24ucmFkaXVzICsgMC4xKSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtZXJhUG9zaXRpb25NYW5pcHVsYXRvciB7XHJcbiAgcHJpdmF0ZSBwb2ludGVyUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcclxuICBldmVudExpc3RlbmVycyA9IG5ldyBNYXA8c3RyaW5nLCBFdmVudEhhbmRsZXI8RXZlbnQ+PigpO1xyXG4gIHByaXZhdGUgaXNNb3ZpbmcgPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZWN0ZWQgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgICBwcml2YXRlIHBvc2l0aW9uUHJvdmlkZXI6ICgpID0+IENhbWVyYVBvc2l0aW9uLFxyXG4gICAgcHJpdmF0ZSBvblBvc2l0aW9uQ2hhbmdlOiAobmV3UG9zaXRpb246IENhbWVyYVBvc2l0aW9uKSA9PiB2b2lkXHJcbiAgKSB7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXCJtb3VzZWRvd25cIiwgdGhpcy5vbk1vdXNlRG93bik7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudChcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbk1vdXNlTGVhdmUpO1xyXG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KFwid2hlZWxcIiwgdGhpcy5vbldoZWVsKTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+XHJcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWdpc3RlckV2ZW50PFQgZXh0ZW5kcyBFdmVudD4oXHJcbiAgICB0eXBlOiBFdmVudFR5cGUsXHJcbiAgICBoYW5kbGVyOiBFdmVudEhhbmRsZXI8VD5cclxuICApIHtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQodHlwZSwgaGFuZGxlciBhcyBFdmVudEhhbmRsZXI8RXZlbnQ+KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGlzcGF0Y2hBY3Rpb24gPSAoYWN0aW9uOiBBY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IG5ld1ZpZXdwb3J0ID0gcmVkdWNlcih0aGlzLnBvc2l0aW9uUHJvdmlkZXIoKSwgYWN0aW9uKTtcclxuICAgIHRoaXMub25Qb3NpdGlvbkNoYW5nZShuZXdWaWV3cG9ydCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlRG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZS5idXR0b24gPT09IDApIHtcclxuICAgICAgdGhpcy5wb2ludGVyUG9zaXRpb24gPSB7IHg6IGUub2Zmc2V0WCwgeTogZS5vZmZzZXRZIH07XHJcbiAgICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgb25Nb3VzZU1vdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNNb3ZpbmcpIHtcclxuICAgICAgY29uc3QgbXVsdGlwbGllciA9IDAuMDE7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hBY3Rpb24oe1xyXG4gICAgICAgIHR5cGU6IFwib3JiaXRSb3RhdGVcIixcclxuICAgICAgICBkZWx0YUxvbmdpdHVkZTogLShlLm9mZnNldFggLSB0aGlzLnBvaW50ZXJQb3NpdGlvbi54KSAqIG11bHRpcGxpZXIsXHJcbiAgICAgICAgZGVsdGFMYXRpdHVkZTogKGUub2Zmc2V0WSAtIHRoaXMucG9pbnRlclBvc2l0aW9uLnkpICogbXVsdGlwbGllcixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wb2ludGVyUG9zaXRpb24gPSB7IHg6IGUub2Zmc2V0WCwgeTogZS5vZmZzZXRZIH07XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBvbk1vdXNlTGVhdmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBvbldoZWVsID0gKGU6IFdoZWVsRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGFjdGlvbiA9IGUuZGVsdGFZIDwgMCA/IFwiem9vbUluQXRcIiA6IFwiem9vbU91dEF0XCI7XHJcblxyXG4gICAgdGhpcy5kaXNwYXRjaEFjdGlvbih7XHJcbiAgICAgIHR5cGU6IGFjdGlvbixcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgTWVzc2FnZVJlcXVlc3QgfSBmcm9tIFwiLi9tZXNzYWdlc1wiO1xyXG5cclxuZGVjbGFyZSBjb25zdCBhY3F1aXJlVnNDb2RlQXBpOiAoKSA9PiB7XHJcbiAgZ2V0U3RhdGU6ICgpID0+IGFueTtcclxuICBzZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBNZXNzYWdlUmVxdWVzdCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2c2NvZGVBcGkgPSBhY3F1aXJlVnNDb2RlQXBpKCk7XHJcbiIsImltcG9ydCB7IHZzY29kZUFwaSB9IGZyb20gXCIuL2NvbW11bmljYXRpb24vdnNjb2RlQXBpXCI7XHJcblxyXG50eXBlIFN0YXRlID0ge1xyXG4gIHZlcnRleEZpbGVQYXRoOiBzdHJpbmcgfCBudWxsO1xyXG4gIGZyYWdtZW50RmlsZVBhdGg6IHN0cmluZyB8IG51bGw7XHJcbiAgZHJhd01vZGU6IHN0cmluZztcclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRTdGF0ZTogU3RhdGUgPSB7XHJcbiAgdmVydGV4RmlsZVBhdGg6IG51bGwsXHJcbiAgZnJhZ21lbnRGaWxlUGF0aDogbnVsbCxcclxuICBkcmF3TW9kZTogXCJlbGVtZW50c1wiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXRlID0gKCk6IFN0YXRlID0+IHZzY29kZUFwaS5nZXRTdGF0ZSgpID8/IGRlZmF1bHRTdGF0ZTtcclxuZXhwb3J0IGNvbnN0IHNldFN0YXRlID0gKG5ld1N0YXRlOiBQYXJ0aWFsPFN0YXRlPikgPT5cclxuICB2c2NvZGVBcGkuc2V0U3RhdGUoT2JqZWN0LmFzc2lnbihnZXRTdGF0ZSgpLCBuZXdTdGF0ZSkpO1xyXG4iLCJleHBvcnQgY2xhc3MgSW5kZXhCdWZmZXJJbmZvIHtcclxuICBwcml2YXRlIGJ1ZmZlcjogV2ViR0xCdWZmZXIgfCBudWxsO1xyXG4gIHByaXZhdGUgY291bnQ6IG51bWJlciA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyW10pIHtcclxuICAgIHRoaXMuY291bnQgPSBuZXdWYWx1ZS5sZW5ndGg7XHJcbiAgICB0aGlzLmNvbnRleHQuYmluZEJ1ZmZlcih0aGlzLmNvbnRleHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgIHRoaXMuY29udGV4dC5idWZmZXJEYXRhKFxyXG4gICAgICB0aGlzLmNvbnRleHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBVaW50MTZBcnJheShuZXdWYWx1ZSksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEluZGV4QnVmZmVyKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmJpbmRCdWZmZXIodGhpcy5jb250ZXh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcbiAgfVxyXG5cclxuICBnZXRDb3VudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvdW50O1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQnVmZmVyKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHsgZW1wdHlJdGVtOiBib29sZWFuIH1cclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUluZGV4OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGdldFNlbGVjdGVkSXRlbTogKCkgPT4gRHJvcGRvd25JdGVtIHwgbnVsbDtcclxuICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY29tYmluZWRPcHRpb25zID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYGRyb3Bkb3duLWJhc2UgJHtjbGFzc05hbWV9YDtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoZSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtXHJcbiAgICAgID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdXHJcbiAgICAgIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgIG9wdGlvbi52YWx1ZSA9IGl0ZW0uaWQ7XHJcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGl0ZW0uZGlzcGxheTtcclxuICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXRlbS5pZCA9PT0gc2VsZWN0ZWRJdGVtPy5pZDtcclxuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaCh7IGVsZW1lbnQ6IG9wdGlvbiwgaXRlbSB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldEl0ZW1zID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS5pdGVtKTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUlkID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJbmRleCA9IChpbmRleDogbnVtYmVyKSA9PlxyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZChpdGVtRWxlbWVudHNbaW5kZXhdLml0ZW0uaWQpO1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJbmRleCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duID0gKFxyXG4gIGVsZW1lbnRzOiB7IGlkOiBzdHJpbmc7IGRpc3BsYXk6IHN0cmluZzsgZWxlbWVudDogSFRNTEVsZW1lbnQgfVtdLFxyXG4gIG9uQ2hhbmdlPzogKGlkOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtvcHRpb25zRWxlbWVudCwgb3B0aW9uc0NvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBpdGVtID0+IHtcclxuICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgb25DaGFuZ2U/LihudWxsKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW1lbnRzLmZvckVhY2gob2UgPT4gb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuICAgICAgZWxlbWVudHMuZmluZChpID0+IGkuaWQgPT09IGl0ZW0uaWQpLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgICAgb25DaGFuZ2U/LihpdGVtLmlkKTtcclxuICAgIH0sXHJcbiAgICBcIlwiLFxyXG4gICAgeyBlbXB0eUl0ZW06IGZhbHNlIH1cclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgZWxlbWVudHMubWFwKGUgPT4gKHtcclxuICAgICAgaWQ6IGUuaWQsXHJcbiAgICAgIGRpc3BsYXk6IGUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJbmRleCgwKTtcclxuICByZXR1cm4gb3B0aW9uc0VsZW1lbnQ7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU/OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWUgPz8gXCJcIn0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURpdiA9IChjbGFzc05hbWU6IHN0cmluZywgY2hpbGRyZW4/OiBIVE1MRWxlbWVudFtdKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNoaWxkcmVuPy5mb3JFYWNoKGMgPT4gZGl2LmFwcGVuZENoaWxkKGMpKTtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCA9IDxUIGV4dGVuZHMgbnVtYmVyW10+KFxyXG4gIGluaXRpYWxWYWx1ZTogVCxcclxuICBvbkNoYW5nZTogKG5ld1ZhbHVlOiBUKSA9PiB2b2lkLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICBjb2x1bW5zOiBudW1iZXIsXHJcbiAgaW5wdXRPcHRpb25zPzogUGFydGlhbDxIVE1MSW5wdXRFbGVtZW50PlxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBUO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5wdXRHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBpbnB1dEdyaWQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWdyaWRcIjtcclxuXHJcbiAgY29uc3QgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfVtdID0gW107XHJcbiAgY29uc3Qgc2V0VmFsdWVzID0gKG5ld1ZhbHVlczogVCkgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWUudmFsdWUgPSBuZXdWYWx1ZXNbaW5kZXhdO1xyXG4gICAgICBpZS5lbGVtZW50LnZhbHVlID0gaWUudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH0pO1xyXG4gIGNvbnN0IGdldFZhbHVlcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoaWUgPT4gaWUudmFsdWUpIGFzIFQ7XHJcbiAgY29uc3Qgc2V0UmVhZG9ubHkgPSAocmVhZG9ubHk6IGJvb2xlYW4pID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5yZWFkT25seSA9IHJlYWRvbmx5KSk7XHJcblxyXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XHJcbiAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dFJvdy5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtcm93XCI7XHJcblxyXG4gICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2x1bW5zICsgY29sdW1uO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxWYWx1ZVtpbmRleF07XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gICAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZT8udG9TdHJpbmcoKTtcclxuICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBpdGVtRWxlbWVudHNbaW5kZXhdLnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcclxuICAgICAgICBvbkNoYW5nZT8uKGdldFZhbHVlcygpKTtcclxuICAgICAgfTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goaXRlbUVsZW1lbnQpO1xyXG4gICAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRHcmlkLmFwcGVuZENoaWxkKGlucHV0Um93KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBpbnB1dEdyaWQsXHJcbiAgICB7XHJcbiAgICAgIHNldFZhbHVlcyxcclxuICAgICAgZ2V0VmFsdWVzLFxyXG4gICAgICBzZXRSZWFkb25seSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiaW1wb3J0IHsgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXksIFZlY3RvcjRBcnJheSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjIgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjJBcnJheSkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjJBcnJheT4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yM0FycmF5KSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yM0FycmF5PihbMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCAzKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3I0ID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3I0QXJyYXkpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3I0QXJyYXk+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgY29sb3JJbnB1dFByb3BzID0ge1xyXG4gIG1pbjogXCIwXCIsXHJcbiAgbWF4OiBcIjFcIixcclxuICBzdGVwOiBcIjAuMVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjQgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yNCkgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yNDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41LCAxXSBhcyBDb2xvcjQ7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LCR7Y29sb3JbM119KWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yND4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDQsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3IzID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjMpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjM7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNV0gYXMgQ29sb3IzO1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwxKWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yMz4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDMsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSA8VCBleHRlbmRzIHt9LCBQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxyXG4gIG9iajogVCxcclxuICBwcm9wOiBQXHJcbik6IG9iaiBpcyBUICYgUmVjb3JkPFAsIHVua25vd24+ID0+IHtcclxuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KHByb3ApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFzc2VydE5ldmVyID0gKHZhbHVlOiBuZXZlcik6IG5ldmVyID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCB1bmlvbiBtZW1iZXI6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBjb3VudDogbnVtYmVyID0gMDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHRoaXMuYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIHRoaXMubG9jYXRpb24gPSB0aGlzLmNvbnRleHQuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgdGhpcy5uYW1lKTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXJbXVtdKSB7XHJcbiAgICB0aGlzLmNvdW50ID0gbmV3VmFsdWUubGVuZ3RoO1xyXG4gICAgdGhpcy5jb250ZXh0LmJpbmRCdWZmZXIodGhpcy5jb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xyXG4gICAgY29uc3QgZmxhdHRlbiA9IFtdLmNvbmNhdCguLi5uZXdWYWx1ZSk7XHJcbiAgICB0aGlzLmNvbnRleHQuYnVmZmVyRGF0YShcclxuICAgICAgdGhpcy5jb250ZXh0LkFSUkFZX0JVRkZFUixcclxuICAgICAgbmV3IEZsb2F0MzJBcnJheShmbGF0dGVuKSxcclxuICAgICAgdGhpcy5jb250ZXh0LlNUQVRJQ19EUkFXXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0QXR0cmlidXRlQnVmZmVyKCkge1xyXG4gICAgaWYgKHRoaXMuYnVmZmVyICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmxvY2F0aW9uKTtcclxuICAgICAgdGhpcy5jb250ZXh0LmJpbmRCdWZmZXIodGhpcy5jb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xyXG4gICAgICBjb25zdCBzaXplID0gZ2V0TnVtQ29tcG9uZW50cyh0aGlzLnR5cGUpOyAvLyAyIGNvbXBvbmVudHMgcGVyIGl0ZXJhdGlvblxyXG4gICAgICBjb25zdCB0eXBlID0gdGhpcy5jb250ZXh0LkZMT0FUOyAvLyB0aGUgZGF0YSBpcyAzMmJpdCBmbG9hdHNcclxuICAgICAgY29uc3Qgbm9ybWFsaXplID0gZmFsc2U7IC8vIGRvbid0IG5vcm1hbGl6ZSB0aGUgZGF0YVxyXG4gICAgICBjb25zdCBzdHJpZGUgPSAwOyAvLyAwID0gbW92ZSBmb3J3YXJkIHNpemUgKiBzaXplb2YodHlwZSkgZWFjaCBpdGVyYXRpb24gdG8gZ2V0IHRoZSBuZXh0IHBvc2l0aW9uXHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IDA7IC8vIHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGJ1ZmZlclxyXG4gICAgICB0aGlzLmNvbnRleHQudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICB0aGlzLmxvY2F0aW9uLFxyXG4gICAgICAgIHNpemUsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBub3JtYWxpemUsXHJcbiAgICAgICAgc3RyaWRlLFxyXG4gICAgICAgIG9mZnNldFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnR5cGU7XHJcbiAgfVxyXG5cclxuICBnZXRDb3VudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvdW50O1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQnVmZmVyKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBnZXROdW1Db21wb25lbnRzID0gKGJ1ZmZlclR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUpID0+IHtcclxuICBzd2l0Y2ggKGJ1ZmZlclR5cGUpIHtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gMztcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gNDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKGJ1ZmZlclR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUtleU1hcDxUS2V5LCBUVmFsdWU+IHtcclxuICBwcml2YXRlIG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUVmFsdWU+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUga2V5U2VsZWN0b3I6IChjb21wb3NpdGVLZXk6IFRLZXkpID0+IHN0cmluZykge31cclxuXHJcbiAgZ2V0KGtleTogVEtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwLmdldCh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgc2V0KGtleTogVEtleSwgdmFsdWU6IFRWYWx1ZSkge1xyXG4gICAgdGhpcy5tYXAuc2V0KHRoaXMua2V5U2VsZWN0b3Ioa2V5KSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgaGFzKGtleTogVEtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwLmhhcyh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgZW50cmllc1N0cktleSgpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmVudHJpZXMoKSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVTdHJLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlKGtleTogVEtleSkge1xyXG4gICAgdGhpcy5tYXAuZGVsZXRlKHRoaXMua2V5U2VsZWN0b3Ioa2V5KSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMubWFwLmNsZWFyKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcclxuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpID0+IHtcclxuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcclxuICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gIH0pO1xyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZVZlY3RvcjIsXHJcbiAgY3JlYXRlVmVjdG9yMyxcclxuICBjcmVhdGVWZWN0b3I0LFxyXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2lucHV0VmVjdG9yXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xvcjMsIGNyZWF0ZUNvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2lucHV0Q29sb3JcIjtcclxuaW1wb3J0IHsgVW5pZm9ybUluZm8sIFVuaWZvcm1UeXBlIH0gZnJvbSBcIi4vdW5pZm9ybVwiO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVLZXlNYXAgfSBmcm9tIFwiLi4vY29tcG9zaXRlS2V5TWFwXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiwgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi91dWlkXCI7XHJcbmltcG9ydCB7IFZlY3RvcjRBcnJheSwgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcclxuXHJcbmNvbnN0IHVuaWZvcm1Db21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgeyBjb21wb25lbnQ6IEhUTUxFbGVtZW50OyB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHVuaWZvcm1zOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gdW5pZm9ybXMubWFwKHVuaWZvcm0gPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi51bmlmb3JtLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUudW5pZm9ybUluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVuaWZvcm1JbmZvID0gbmV3IFVuaWZvcm1JbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICB1bmlmb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pZm9ybS50eXBlXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm1JbmZvKSxcclxuICAgICAgICB1bmlmb3JtLm5hbWVcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZTogeyBjb21wb25lbnQsIHVuaWZvcm1JbmZvIH0gfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdW5pZm9ybUNvbXBvbmVudENhY2hlLmNsZWFyKCk7XHJcbiAgdW5pZm9ybUNvbXBvbmVudHMuZm9yRWFjaCh1YyA9PiB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuc2V0KHVjLmtleSwgdWMudmFsdWUpKTtcclxuXHJcbiAgcmV0dXJuIHVuaWZvcm1Db21wb25lbnRzLm1hcCh1YyA9PiB1Yy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50ID0gKHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbykgPT4ge1xyXG4gIHN3aXRjaCAodW5pZm9ybUluZm8uZ2V0VW5pZm9ybVR5cGUoKSkge1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzIodmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWMzKHZhbHVlID0+IHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNEFycmF5ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfTUFUNDpcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzIgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjJBcnJheSkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCA9ICgpID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBcInVuc3VwcG9ydGVkLWVycm9yXCI7XHJcbiAgZGl2LmlubmVyVGV4dCA9IFwiTm90IHN1cHBvcnRlZCB1bmlmb3JtXCI7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzQXJyYXkpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yMyh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoWzEsIDAsIDBdKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFtcclxuICAgIHsgaWQ6IFwiY3VzdG9tXCIsIGRpc3BsYXk6IFwiQ3VzdG9tXCIsIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQgfSxcclxuICAgIHsgaWQ6IFwiY29sb3JcIiwgZGlzcGxheTogXCJDb2xvclwiLCBlbGVtZW50OiBjb2xvckVsZW1lbnQgfSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjNCA9IChcclxuICBpbml0aWFsVmFsdWU6IFZlY3RvcjRBcnJheSxcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNEFycmF5KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjQodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBbY29sb3JFbGVtZW50LCBjb2xvckNvbnRyb2xsZXJdID0gY3JlYXRlQ29sb3I0KHVwZGF0ZSk7XHJcbiAgY29sb3JDb250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24oW1xyXG4gICAgeyBpZDogXCJjdXN0b21cIiwgZGlzcGxheTogXCJDdXN0b21cIiwgZWxlbWVudDogY3VzdG9tRWxlbWVudCB9LFxyXG4gICAgeyBpZDogXCJjb2xvclwiLCBkaXNwbGF5OiBcIkNvbG9yXCIsIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCB9LFxyXG4gIF0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuXHJcbi8vdG9kb1xyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVTcmM6IHN0cmluZyB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjMoKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgcmVtb3ZlID0gPFQ+KGFycmF5OiBUW10sIGl0ZW06IFQpID0+IHtcclxuICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XHJcblxyXG4gIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVMYXN0ID0gKHRleHQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xyXG4gIHJldHVybiB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIGNvdW50KTtcclxufTtcclxuIiwiaW1wb3J0IHsgSW5kZXhCdWZmZXJJbmZvIH0gZnJvbSBcIi4vaW5kZXhCdWZmZXJcIjtcclxuaW1wb3J0IHsgcmVtb3ZlTGFzdCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vYXJyYXlcIjtcclxuaW1wb3J0IHsgaGFzUHJvcGVydHkgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuXHJcbmV4cG9ydCB0eXBlIERyYXdPcHRpb25zID0ge1xyXG4gIGRyYXdNb2RlOiBcImVsZW1lbnRzXCIgfCBcImFycmF5c1wiO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXIgPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHR5cGU6IEdMZW51bSxcclxuICBzb3VyY2U6IHN0cmluZ1xyXG4pOiBXZWJHTFNoYWRlciB8IHsgZXJyb3I6IHN0cmluZyB9ID0+IHtcclxuICBjb25zdCBzaGFkZXIgPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgc2hhZGVyLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5DT01QSUxFX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBzaGFkZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZXJyb3IsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBsZXQgdmVydGV4RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICBmcmFnbWVudEVycm9yID0gcmVtb3ZlTGFzdChmcmFnbWVudFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgLy90b2RvIGNsZWFudXBcclxuICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIFNoYWRlckNvbXBpbGVFcnJvcnM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShjb250ZXh0LCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxyXG4gIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxyXG4pID0+IHtcclxuICBjb25zdCBwcm9ncmFtID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuTElOS19TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYENyZWF0aW5nIHByb2dyYW0gZmFpbGVkOiAke3JlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbVVuaWZvcm1zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfVU5JRk9STVNcclxuICApO1xyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtVW5pZm9ybXM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IHVuaWZvcm0gPSBjb250ZXh0LmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiB1bmlmb3JtLm5hbWUsIHR5cGU6IHVuaWZvcm0udHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1BdHRyaWJ1dGVCdWZmZXJzID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX0FUVFJJQlVURVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtQXR0cmlidXRlQnVmZmVyczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlQnVmZmVyID0gY29udGV4dC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiBhdHRyaWJ1dGVCdWZmZXIubmFtZSwgdHlwZTogYXR0cmlidXRlQnVmZmVyLnR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlclByb2dyYW0gPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICByZW5kZXJJbmZvOiB7XHJcbiAgICB1bmlmb3JtSW5mb3M6IFVuaWZvcm1JbmZvW107XHJcbiAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvczogQXR0cmlidXRlQnVmZmVySW5mb1tdO1xyXG4gICAgaW5kZXhCdWZmZXJJbmZvOiBJbmRleEJ1ZmZlckluZm87XHJcbiAgICAvL3RleHR1cmVzXHJcbiAgfSxcclxuICBkcmF3T3B0aW9uczogRHJhd09wdGlvbnNcclxuKSA9PiB7XHJcbiAgLy90b2RvXHJcbiAgY29udGV4dC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gIGNvbnRleHQudmlld3BvcnQoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XHJcbiAgLy9jb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgY29udGV4dC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7IC8vIENsZWFyIHRvIGJsYWNrLCBmdWxseSBvcGFxdWVcclxuICBjb250ZXh0LmNsZWFyRGVwdGgoMS4wKTsgLy8gQ2xlYXIgZXZlcnl0aGluZ1xyXG4gIC8vIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTsgICAgICAgICAgIC8vIEVuYWJsZSBkZXB0aCB0ZXN0aW5nXHJcbiAgY29udGV4dC5lbmFibGUoY29udGV4dC5ERVBUSF9URVNUKTtcclxuXHJcbiAgY29udGV4dC5kZXB0aEZ1bmMoY29udGV4dC5MRVFVQUwpOyAvLyBOZWFyIHRoaW5ncyBvYnNjdXJlIGZhciB0aGluZ3NcclxuICBjb250ZXh0LmNsZWFyKGNvbnRleHQuQ09MT1JfQlVGRkVSX0JJVCB8IGNvbnRleHQuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgLy9jb250ZXh0LmVuYWJsZShjb250ZXh0LkNVTExfRkFDRSk7XHJcblxyXG4gIHJlbmRlckluZm8udW5pZm9ybUluZm9zLmZvckVhY2godSA9PiB1LnNldFVuaWZvcm0oKSk7XHJcbiAgcmVuZGVySW5mby5hdHRyaWJ1dGVCdWZmZXJJbmZvcy5mb3JFYWNoKGFiID0+IGFiLnNldEF0dHJpYnV0ZUJ1ZmZlcigpKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcblxyXG4gIGlmIChkcmF3T3B0aW9ucy5kcmF3TW9kZSA9PT0gXCJhcnJheXNcIikge1xyXG4gICAgY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAgICAgLi4ucmVuZGVySW5mby5hdHRyaWJ1dGVCdWZmZXJJbmZvcy5tYXAoYWIgPT4gYWIuZ2V0Q291bnQoKSlcclxuICAgICk7XHJcbiAgICBjb250ZXh0LmRyYXdBcnJheXMocHJpbWl0aXZlVHlwZSwgb2Zmc2V0LCBudW1FbGVtZW50cyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlbmRlckluZm8uaW5kZXhCdWZmZXJJbmZvLnNldEluZGV4QnVmZmVyKCk7XHJcbiAgICBjb250ZXh0LmRyYXdFbGVtZW50cyhcclxuICAgICAgcHJpbWl0aXZlVHlwZSxcclxuICAgICAgcmVuZGVySW5mby5pbmRleEJ1ZmZlckluZm8uZ2V0Q291bnQoKSwgLy9udW1FbGVtZW50cyxcclxuICAgICAgY29udGV4dC5VTlNJR05FRF9TSE9SVCxcclxuICAgICAgb2Zmc2V0XHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFNoYWRlckNvbXBpbGVFcnJvcnMgPSBbXHJcbiAgdmVydGV4U2hhZGVyRXJyb3JzOiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJFcnJvcnM6IHN0cmluZ1xyXG5dO1xyXG5leHBvcnQgY29uc3QgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyA9IChyZXN1bHQ6IFNoYWRlckNvbXBpbGVFcnJvcnMpID0+IHtcclxuICBjb25zdCBbdmVydGV4U2hhZGVyRXJyb3JzLCBmcmFnbWVudFNoYWRlckVycm9yc10gPSByZXN1bHQ7XHJcblxyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKHZlcnRleFNoYWRlckVycm9ycykge1xyXG4gICAgZXJyb3JzLnB1c2goXCJWRVJURVggU0hBREVSOlwiLCB2ZXJ0ZXhTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZyYWdtZW50U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIkZSQUdNRU5UIFNIQURFUjpcIiwgZnJhZ21lbnRTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycy5qb2luKFwiXFxyXFxuXCIpO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBBcnJheVV0aWxzIGZyb20gXCIuLi8uLi8uLi9jb21tb24vYXJyYXlcIjtcclxuZXhwb3J0IHR5cGUgT2JzZXJ2ZXI8VD4gPSAodmFsdWU6IFQpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZTxUPiB7XHJcbiAgb2JzZXJ2ZXJzOiBPYnNlcnZlcjxUPltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdmFsdWU6IFQgfCBudWxsKSB7fVxyXG5cclxuICBhdHRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIGRldGFjaChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pIHtcclxuICAgIEFycmF5VXRpbHMucmVtb3ZlKHRoaXMub2JzZXJ2ZXJzLCBvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBkZXRhY2hBbGwoKSB7XHJcbiAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZm9yY2VOb3RpZnkoKSB7XHJcbiAgICB0aGlzLm5vdGlmeSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBub3RpZnkoKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2gobyA9PiBvKHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi8uLi9vYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duIH0gZnJvbSBcIi4vLi4vLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVLZXlNYXAgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tcG9zaXRlS2V5TWFwXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiwgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBWZWN0b3I0QXJyYXkgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcclxuXHJcbnR5cGUgQ2FjaGVLZXkgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbn07XHJcblxyXG50eXBlIENhY2hlVmFsdWUgPSB7XHJcbiAgY29tcG9uZW50OiBIVE1MRWxlbWVudDtcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvO1xyXG4gIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBrZXlTZWxlY3RvciA9IChrZXk6IENhY2hlS2V5KTogc3RyaW5nID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWA7XHJcbmNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxDYWNoZUtleSwgQ2FjaGVWYWx1ZT4oa2V5U2VsZWN0b3IpO1xyXG5cclxuY29uc3QgcmVidWlsZENhY2hlID0gKG5ld1ZhbHVlczogeyBrZXk6IENhY2hlS2V5OyB2YWx1ZTogQ2FjaGVWYWx1ZSB9W10pID0+IHtcclxuICBjb25zdCBuZXdWYWx1ZXNTdHJLZXlzID0gbmV3VmFsdWVzLm1hcCh2ID0+IGtleVNlbGVjdG9yKHYua2V5KSk7XHJcbiAgY29uc3QgY29tcG9uZW50c1RvUmVtb3ZlID0gY29tcG9uZW50Q2FjaGVcclxuICAgIC5lbnRyaWVzU3RyS2V5KClcclxuICAgIC5maWx0ZXIoZSA9PiAhbmV3VmFsdWVzU3RyS2V5cy5pbmNsdWRlcyhlWzBdKSk7XHJcblxyXG4gIGNvbXBvbmVudHNUb1JlbW92ZS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgY1sxXS5kaXNwb3NlKCk7XHJcbiAgICBjb21wb25lbnRDYWNoZS5kZWxldGVTdHJLZXkoY1swXSk7XHJcbiAgfSk7XHJcblxyXG4gIG5ld1ZhbHVlcy5mb3JFYWNoKG53ID0+IHtcclxuICAgIGlmICghY29tcG9uZW50Q2FjaGUuaGFzKG53LmtleSkpIGNvbXBvbmVudENhY2hlLnNldChudy5rZXksIG53LnZhbHVlKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0VmFsdWUgPSAodHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSkgPT4ge1xyXG4gIHJldHVybiBbXHJcbiAgICBbMCwgMCwgMCwgMV0sXHJcbiAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgIFswLjksIDAsIDAsIDFdLFxyXG4gICAgWzAsIDAuNSwgMCwgMV0sXHJcbiAgICBbMC43LCAwLCAwLCAxXSxcclxuICAgIFswLjcsIDAuNSwgMCwgMV0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmcgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbiAgdmFsdWU6IE9ic2VydmFibGU8YW55PjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgYXR0cmlidXRlQnVmZmVyczogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdLFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdzOiBBdHRyaWJ1dGVCdWZmZXJCaW5kaW5nW11cclxuKSA9PiB7XHJcbiAgY29uc3QgY29tcG9uZW50cyA9IGF0dHJpYnV0ZUJ1ZmZlcnMubWFwKGF0dHJpYnV0ZUJ1ZmZlciA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLmF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZnJvbUNhY2hlID0gY29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUuYXR0cmlidXRlQnVmZmVySW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mbyA9IG5ldyBBdHRyaWJ1dGVCdWZmZXJJbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIubmFtZSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIudHlwZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgYXBwbGljYWJsZUJpbmRpbmdzID0gYXR0cmlidXRlQnVmZmVyQmluZGluZ3MuZmlsdGVyKFxyXG4gICAgICAgIGIgPT4gYi50eXBlID09PSBhdHRyaWJ1dGVCdWZmZXJJbmZvLmdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdXBkYXRlQnVmZmVyID0gKHZhbHVlOiBudW1iZXJbXVtdKSA9PlxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG5cclxuICAgICAgY29uc3QgeyBlbGVtZW50LCBkaXNwb3NlIH0gPSBhcHBsaWNhYmxlQmluZGluZ3MubGVuZ3RoXHJcbiAgICAgICAgPyBjcmVhdGVTZWxlY3Rpb25Db21wb25lbnQoXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICBjcmVhdGVDdXN0b21PcHRpb24oYXR0cmlidXRlQnVmZmVySW5mbyksXHJcbiAgICAgICAgICAgICAgLi4uY3JlYXRlQmluZGluZ09wdGlvbnMoYXBwbGljYWJsZUJpbmRpbmdzLCBhdHRyaWJ1dGVCdWZmZXJJbmZvKSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgdXBkYXRlQnVmZmVyXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgOiBjcmVhdGVFZGl0YWJsZUNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvLCB1cGRhdGVCdWZmZXIpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBrZXksXHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIGNvbXBvbmVudDogd2l0aExhYmVsKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lKSxcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uZGVsZXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGRpc3Bvc2U/LigpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZWJ1aWxkQ2FjaGUoY29tcG9uZW50cyk7XHJcbiAgcmV0dXJuIGNvbXBvbmVudHMubWFwKGMgPT4gYy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDdXN0b21PcHRpb24gPSAoYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mbykgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogXCJjdXN0b21cIixcclxuICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgICAuLi5jcmVhdGVFZGl0YWJsZUNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvKSxcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQmluZGluZ09wdGlvbnMgPSAoXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M6IEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdbXSxcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvXHJcbikgPT4ge1xyXG4gIHJldHVybiBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5tYXAoYmluZGluZyA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudEZvclR5cGUoXHJcbiAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpLFxyXG4gICAgICBmYWxzZSxcclxuICAgICAgYmluZGluZy52YWx1ZVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdXVpZHY0KCksXHJcbiAgICAgIGVsZW1lbnQsXHJcbiAgICAgIGRpc3BsYXk6IGJpbmRpbmcubmFtZSxcclxuICAgICAgdmFsdWU6IGJpbmRpbmcudmFsdWUsXHJcbiAgICB9O1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU2VsZWN0aW9uQ29tcG9uZW50ID0gKFxyXG4gIG9wdGlvbnM6IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5OiBzdHJpbmc7XHJcbiAgICB2YWx1ZTogT2JzZXJ2YWJsZTxhbnk+O1xyXG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgfVtdLFxyXG4gIG9uQ2hhbmdlOiAodmFsdWU6IGFueSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBsZXQgZGV0YWNoOiAoKSA9PiB2b2lkID0gbnVsbDtcclxuICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24ob3B0aW9ucywgaWQgPT4ge1xyXG4gICAgICBkZXRhY2g/LigpO1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zLmZpbmQobyA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHZhbHVlOiBhbnkpID0+IG9uQ2hhbmdlKHZhbHVlKTtcclxuICAgICAgb3B0aW9uLnZhbHVlLmF0dGFjaChjYWxsYmFjayk7XHJcbiAgICAgIGNhbGxiYWNrKG9wdGlvbi52YWx1ZS5nZXRWYWx1ZSgpKTtcclxuICAgICAgZGV0YWNoID0gKCkgPT4gb3B0aW9uLnZhbHVlLmRldGFjaChjYWxsYmFjayk7XHJcbiAgICB9KSxcclxuICAgIC4uLm9wdGlvbnMubWFwKG8gPT4gby5lbGVtZW50KSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGVsZW1lbnQsXHJcbiAgICBkaXNwb3NlOiAoKSA9PiBkZXRhY2g/LigpLFxyXG4gIH07XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVFZGl0YWJsZUNvbXBvbmVudCA9IChcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gIG9uQ2hhbmdlPzogKHZhbHVlOiBhbnkpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgY3VzdG9tVmFsdWUgPSBuZXcgT2JzZXJ2YWJsZTxhbnk+KFxyXG4gICAgZ2V0RGVmYXVsdFZhbHVlKGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpKVxyXG4gICk7XHJcblxyXG4gIGlmIChvbkNoYW5nZSlcclxuICAgIGN1c3RvbVZhbHVlLmF0dGFjaCgodmFsdWU6IGFueSkgPT4ge1xyXG4gICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudEZvclR5cGUoXHJcbiAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLmdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSxcclxuICAgIHRydWUsXHJcbiAgICBjdXN0b21WYWx1ZVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBlbGVtZW50LFxyXG4gICAgdmFsdWU6IGN1c3RvbVZhbHVlLFxyXG4gICAgZGlzcG9zZTogKCkgPT4gY3VzdG9tVmFsdWUuZGV0YWNoQWxsKCksXHJcbiAgfTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUVsZW1lbnRGb3JUeXBlID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlclR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUsXHJcbiAgZWRpdGFibGU6IGJvb2xlYW4sXHJcbiAgY3VycmVudFZhbHVlOiBPYnNlcnZhYmxlPGFueT5cclxuKSA9PiB7XHJcbiAgc3dpdGNoIChhdHRyaWJ1dGVCdWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRWZWM0KGN1cnJlbnRWYWx1ZSwgZWRpdGFibGUpO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnROb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVFbGVtZW50Tm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRWxlbWVudFZlYzQgPSAoXHJcbiAgdmFsdWU6IE9ic2VydmFibGU8VmVjdG9yNEFycmF5PixcclxuICBlZGl0YWJsZTogYm9vbGVhblxyXG4pID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5kaXNhYmxlZCA9ICFlZGl0YWJsZTtcclxuXHJcbiAgaWYgKCFlZGl0YWJsZSkge1xyXG4gICAgY29uc3QgbGlzdGVuZXIgPSAodmFsdWU6IFZlY3RvcjRBcnJheSkgPT5cclxuICAgICAgKGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuICAgIHZhbHVlLmF0dGFjaChsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICBpbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlLmdldFZhbHVlKCkpO1xyXG4gIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KGUgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gNCA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YWx1ZS5zZXRWYWx1ZShyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGpzb25cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy9Xcm9uZyBmb3JtYXQhIFNob3VsZCBiZSBbW3gxLHkxXSwgW3gyLHkyXSwgLi4uXVxyXG4gIHJldHVybiBpbnB1dDtcclxufTtcclxuIiwiaW1wb3J0IHsgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgfSBmcm9tIFwiLi4vdXRpbHMvaHRtbFwiO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViR0xDYW52YXMgPSAoXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuKTogW1xyXG4gIEhUTUxDYW52YXNFbGVtZW50LFxyXG4gIHtcclxuICAgIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbiAgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QoY2FudmFzLCByZWN0ID0+IHtcclxuICAgIGNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgfSk7XHJcblxyXG4gIGlmICghY29udGV4dCkge1xyXG4gICAgLy90b2RvIG1vdmUgdG8gZXJyb3JzXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHdlYmdsIGNvbnRleHRcIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW1xyXG4gICAgY2FudmFzLFxyXG4gICAge1xyXG4gICAgICBjb250ZXh0LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbGVtZW50cyA9PiB7XHJcbiAgICBjb25zdCBvYnNlcnZlckVudHJ5ID0gZWxlbWVudHMuZmluZChlID0+IGUudGFyZ2V0ID09PSBlbGVtZW50KTtcclxuXHJcbiAgICBpZiAob2JzZXJ2ZXJFbnRyeSkge1xyXG4gICAgICBjb25zdCBkb21SZWN0ID0gb2JzZXJ2ZXJFbnRyeS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNhbGxiYWNrKHtcclxuICAgICAgICB4OiBkb21SZWN0LngsXHJcbiAgICAgICAgeTogZG9tUmVjdC55LFxyXG4gICAgICAgIHdpZHRoOiBkb21SZWN0LndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogZG9tUmVjdC5oZWlnaHQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xyXG4gIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbn07XHJcbiIsImltcG9ydCB7IHJlbW92ZSB9IGZyb20gXCIuLi9hcnJheVwiO1xyXG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi4vdXVpZFwiO1xyXG5pbXBvcnQgeyBNZXNzYWdlUmVzcG9uc2UgfSBmcm9tIFwiLi9tZXNzYWdlc1wiO1xyXG5pbXBvcnQgeyB2c2NvZGVBcGkgfSBmcm9tIFwiLi92c2NvZGVBcGlcIjtcclxuXHJcbnR5cGUgUmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlld2VyRW5kcG9pbnQge1xyXG4gIGV2ZW50TGlzdGVuZXJzOiBSZXNwb25zZUxpc3RlbmVyW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZXZlbnQgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZXZlbnQuZGF0YSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRTaGFkZXJEb2N1bWVudHMoKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSB1dWlkdjQoKTtcclxuXHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiLFxyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHsgZmlsZVBhdGg6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZyB9W10+KHJlc29sdmUgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldFNoYWRlckRvY3VtZW50c1wiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQuZmlsZXMpO1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0RG9jdW1lbnRUZXh0KGZpbGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldERvY3VtZW50VGV4dFwiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4gdm9pZFxyXG4gICk6ICgpID0+IHZvaWQge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBtZXNzYWdlLnR5cGUgPT09IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiAmJlxyXG4gICAgICAgIG1lc3NhZ2UucGF5bG9hZC5maWxlUGF0aCA9PT0gZmlsZVBhdGhcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIixcclxuICAgICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBSZXNwb25zZUxpc3RlbmVyKSB7XHJcbiAgICByZW1vdmUodGhpcy5ldmVudExpc3RlbmVycywgbGlzdGVuZXIpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3I0QXJyYXkgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4vdXRpbHMvb2JzZXJ2YWJsZVwiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyXCI7XHJcblxyXG50eXBlIE1lc2hJbmZvID0ge1xyXG4gIGRpc3BsYXk6IHN0cmluZztcclxuICBwb3NpdGlvbnM6IFZlY3RvcjRBcnJheVtdO1xyXG4gIGNvbG9yczogVmVjdG9yNEFycmF5W107XHJcbiAgaW5kaWNlczogbnVtYmVyW107XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVwZWF0NFRpbWVzID0gPFQ+KGFycmF5OiBUW10pID0+IHtcclxuICByZXR1cm4gW10uY29uY2F0KGFycmF5LCBhcnJheSwgYXJyYXksIGFycmF5KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtZXNoZXMgPSBuZXcgTWFwPHN0cmluZywgTWVzaEluZm8+KFtcclxuICBbXHJcbiAgICBcImN1YmVcIixcclxuICAgIHtcclxuICAgICAgZGlzcGxheTogXCJDdWJlXCIsXHJcbiAgICAgIHBvc2l0aW9uczogW1xyXG4gICAgICAgIC8vIEZyb250IGZhY2VcclxuICAgICAgICBbLTAuNSwgLTAuNSwgMC41LCAxXSxcclxuICAgICAgICBbMC41LCAtMC41LCAwLjUsIDFdLFxyXG4gICAgICAgIFswLjUsIDAuNSwgMC41LCAxXSxcclxuICAgICAgICBbLTAuNSwgMC41LCAwLjUsIDFdLFxyXG5cclxuICAgICAgICAvLyBCYWNrIGZhY2VcclxuICAgICAgICBbLTAuNSwgLTAuNSwgLTAuNSwgMV0sXHJcbiAgICAgICAgWy0wLjUsIDAuNSwgLTAuNSwgMV0sXHJcbiAgICAgICAgWzAuNSwgMC41LCAtMC41LCAxXSxcclxuICAgICAgICBbMC41LCAtMC41LCAtMC41LCAxXSxcclxuXHJcbiAgICAgICAgLy8gVG9wIGZhY2VcclxuICAgICAgICBbLTAuNSwgMC41LCAtMC41LCAxXSxcclxuICAgICAgICBbLTAuNSwgMC41LCAwLjUsIDFdLFxyXG4gICAgICAgIFswLjUsIDAuNSwgMC41LCAxXSxcclxuICAgICAgICBbMC41LCAwLjUsIC0wLjUsIDFdLFxyXG5cclxuICAgICAgICAvLyBCb3R0b20gZmFjZVxyXG4gICAgICAgIFstMC41LCAtMC41LCAtMC41LCAxXSxcclxuICAgICAgICBbMC41LCAtMC41LCAtMC41LCAxXSxcclxuICAgICAgICBbMC41LCAtMC41LCAwLjUsIDFdLFxyXG4gICAgICAgIFstMC41LCAtMC41LCAwLjUsIDFdLFxyXG5cclxuICAgICAgICAvLyBSaWdodCBmYWNlXHJcbiAgICAgICAgWzAuNSwgLTAuNSwgLTAuNSwgMV0sXHJcbiAgICAgICAgWzAuNSwgMC41LCAtMC41LCAxXSxcclxuICAgICAgICBbMC41LCAwLjUsIDAuNSwgMV0sXHJcbiAgICAgICAgWzAuNSwgLTAuNSwgMC41LCAxXSxcclxuXHJcbiAgICAgICAgLy8gTGVmdCBmYWNlXHJcbiAgICAgICAgWy0wLjUsIC0wLjUsIC0wLjUsIDFdLFxyXG4gICAgICAgIFstMC41LCAtMC41LCAwLjUsIDFdLFxyXG4gICAgICAgIFstMC41LCAwLjUsIDAuNSwgMV0sXHJcbiAgICAgICAgWy0wLjUsIDAuNSwgLTAuNSwgMV0sXHJcbiAgICAgIF0sXHJcbiAgICAgIGNvbG9yczogW1xyXG4gICAgICAgIC4uLnJlcGVhdDRUaW1lcyhbMS4wLCAxLjAsIDEuMCwgMS4wXSksIC8vIEZyb250IGZhY2U6IHdoaXRlXHJcbiAgICAgICAgLi4ucmVwZWF0NFRpbWVzKFsxLjAsIDAuMCwgMC4wLCAxLjBdKSwgLy8gQmFjayBmYWNlOiByZWRcclxuICAgICAgICAuLi5yZXBlYXQ0VGltZXMoWzAuMCwgMS4wLCAwLjAsIDEuMF0pLCAvLyBUb3AgZmFjZTogZ3JlZW5cclxuICAgICAgICAuLi5yZXBlYXQ0VGltZXMoWzAuMCwgMC4wLCAxLjAsIDEuMF0pLCAvLyBCb3R0b20gZmFjZTogYmx1ZVxyXG4gICAgICAgIC4uLnJlcGVhdDRUaW1lcyhbMS4wLCAxLjAsIDAuMCwgMS4wXSksIC8vIFJpZ2h0IGZhY2U6IHllbGxvd1xyXG4gICAgICAgIC4uLnJlcGVhdDRUaW1lcyhbMS4wLCAwLjAsIDEuMCwgMS4wXSksIC8vIExlZnQgZmFjZTogcHVycGxlXHJcbiAgICAgIF0sXHJcbiAgICAgIGluZGljZXM6IFtcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgMixcclxuICAgICAgICAwLFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgMywgLy8gZnJvbnRcclxuICAgICAgICA0LFxyXG4gICAgICAgIDUsXHJcbiAgICAgICAgNixcclxuICAgICAgICA0LFxyXG4gICAgICAgIDYsXHJcbiAgICAgICAgNywgLy8gYmFja1xyXG4gICAgICAgIDgsXHJcbiAgICAgICAgOSxcclxuICAgICAgICAxMCxcclxuICAgICAgICA4LFxyXG4gICAgICAgIDEwLFxyXG4gICAgICAgIDExLCAvLyB0b3BcclxuICAgICAgICAxMixcclxuICAgICAgICAxMyxcclxuICAgICAgICAxNCxcclxuICAgICAgICAxMixcclxuICAgICAgICAxNCxcclxuICAgICAgICAxNSwgLy8gYm90dG9tXHJcbiAgICAgICAgMTYsXHJcbiAgICAgICAgMTcsXHJcbiAgICAgICAgMTgsXHJcbiAgICAgICAgMTYsXHJcbiAgICAgICAgMTgsXHJcbiAgICAgICAgMTksIC8vIHJpZ2h0XHJcbiAgICAgICAgMjAsXHJcbiAgICAgICAgMjEsXHJcbiAgICAgICAgMjIsXHJcbiAgICAgICAgMjAsXHJcbiAgICAgICAgMjIsXHJcbiAgICAgICAgMjMsIC8vIGxlZnRcclxuICAgICAgXSxcclxuICAgIH0sXHJcbiAgXSxcclxuXSk7XHJcblxyXG5jb25zb2xlLmxvZyhtZXNoZXMpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1lc2hCaW5kaW5ncyA9ICgpID0+XHJcbiAgbmV3IE1hcChbXHJcbiAgICBbXHJcbiAgICAgIFwicG9zaXRpb25zXCIsXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiBcIkJpbmRpbmcgLSBNZXNoIHBvc2l0aW9uc1wiLFxyXG4gICAgICAgIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNCxcclxuICAgICAgICB2YWx1ZTogbmV3IE9ic2VydmFibGUoW10pLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgXCJjb2xvcnNcIixcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6IFwiQmluZGluZyAtIE1lc2ggY29sb3JzXCIsXHJcbiAgICAgICAgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0LFxyXG4gICAgICAgIHZhbHVlOiBuZXcgT2JzZXJ2YWJsZShbXSksXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIF0pO1xyXG4iLCIvL2dsLW1hdHJpeCBmdW5jdGlvbnNcclxuZXhwb3J0IG5hbWVzcGFjZSBtYXQ0IHtcclxuICBjb25zdCBFUFNJTE9OID0gMC4wMDAwMDE7XHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xyXG4gICAgb3V0WzBdID0gMTtcclxuICAgIG91dFs1XSA9IDE7XHJcbiAgICBvdXRbMTBdID0gMTtcclxuICAgIG91dFsxNV0gPSAxO1xyXG4gICAgcmV0dXJuIG91dDtcclxuICB9XHJcbiAgZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlKFxyXG4gICAgb3V0OiBhbnksXHJcbiAgICBmb3Z5OiBhbnksXHJcbiAgICBhc3BlY3Q6IGFueSxcclxuICAgIG5lYXI6IGFueSxcclxuICAgIGZhcjogYW55XHJcbiAgKSB7XHJcbiAgICBsZXQgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcclxuICAgICAgbmY7XHJcbiAgICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gICAgb3V0WzRdID0gMDtcclxuICAgIG91dFs1XSA9IGY7XHJcbiAgICBvdXRbNl0gPSAwO1xyXG4gICAgb3V0WzddID0gMDtcclxuICAgIG91dFs4XSA9IDA7XHJcbiAgICBvdXRbOV0gPSAwO1xyXG4gICAgb3V0WzExXSA9IC0xO1xyXG4gICAgb3V0WzEyXSA9IDA7XHJcbiAgICBvdXRbMTNdID0gMDtcclxuICAgIG91dFsxNV0gPSAwO1xyXG5cclxuICAgIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XHJcbiAgICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcclxuICAgICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xyXG4gICAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG91dFsxMF0gPSAtMTtcclxuICAgICAgb3V0WzE0XSA9IC0yICogbmVhcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH1cclxuICBmdW5jdGlvbiBpZGVudGl0eTMob3V0OiBhbnkpIHtcclxuICAgIG91dFswXSA9IDE7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICAgIG91dFszXSA9IDA7XHJcbiAgICBvdXRbNF0gPSAwO1xyXG4gICAgb3V0WzVdID0gMTtcclxuICAgIG91dFs2XSA9IDA7XHJcbiAgICBvdXRbN10gPSAwO1xyXG4gICAgb3V0WzhdID0gMDtcclxuICAgIG91dFs5XSA9IDA7XHJcbiAgICBvdXRbMTBdID0gMTtcclxuICAgIG91dFsxMV0gPSAwO1xyXG4gICAgb3V0WzEyXSA9IDA7XHJcbiAgICBvdXRbMTNdID0gMDtcclxuICAgIG91dFsxNF0gPSAwO1xyXG4gICAgb3V0WzE1XSA9IDE7XHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH1cclxuICBleHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dDogYW55LCBleWU6IGFueSwgY2VudGVyOiBhbnksIHVwOiBhbnkpIHtcclxuICAgIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XHJcbiAgICB2YXIgZXlleCA9IGV5ZVswXTtcclxuICAgIHZhciBleWV5ID0gZXllWzFdO1xyXG4gICAgdmFyIGV5ZXogPSBleWVbMl07XHJcbiAgICB2YXIgdXB4ID0gdXBbMF07XHJcbiAgICB2YXIgdXB5ID0gdXBbMV07XHJcbiAgICB2YXIgdXB6ID0gdXBbMl07XHJcbiAgICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcclxuICAgIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xyXG4gICAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBFUFNJTE9OICYmXHJcbiAgICAgIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IEVQU0lMT04gJiZcclxuICAgICAgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgRVBTSUxPTlxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBpZGVudGl0eTMob3V0KTtcclxuICAgIH1cclxuXHJcbiAgICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xyXG4gICAgejEgPSBleWV5IC0gY2VudGVyeTtcclxuICAgIHoyID0gZXlleiAtIGNlbnRlcno7XHJcbiAgICBsZW4gPSAxIC8gTWF0aC5oeXBvdCh6MCwgejEsIHoyKTtcclxuICAgIHowICo9IGxlbjtcclxuICAgIHoxICo9IGxlbjtcclxuICAgIHoyICo9IGxlbjtcclxuICAgIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcclxuICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcclxuICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcclxuICAgIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XHJcblxyXG4gICAgaWYgKCFsZW4pIHtcclxuICAgICAgeDAgPSAwO1xyXG4gICAgICB4MSA9IDA7XHJcbiAgICAgIHgyID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxlbiA9IDEgLyBsZW47XHJcbiAgICAgIHgwICo9IGxlbjtcclxuICAgICAgeDEgKj0gbGVuO1xyXG4gICAgICB4MiAqPSBsZW47XHJcbiAgICB9XHJcblxyXG4gICAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcclxuICAgIHkxID0gejIgKiB4MCAtIHowICogeDI7XHJcbiAgICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xyXG4gICAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcclxuXHJcbiAgICBpZiAoIWxlbikge1xyXG4gICAgICB5MCA9IDA7XHJcbiAgICAgIHkxID0gMDtcclxuICAgICAgeTIgPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGVuID0gMSAvIGxlbjtcclxuICAgICAgeTAgKj0gbGVuO1xyXG4gICAgICB5MSAqPSBsZW47XHJcbiAgICAgIHkyICo9IGxlbjtcclxuICAgIH1cclxuXHJcbiAgICBvdXRbMF0gPSB4MDtcclxuICAgIG91dFsxXSA9IHkwO1xyXG4gICAgb3V0WzJdID0gejA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gICAgb3V0WzRdID0geDE7XHJcbiAgICBvdXRbNV0gPSB5MTtcclxuICAgIG91dFs2XSA9IHoxO1xyXG4gICAgb3V0WzddID0gMDtcclxuICAgIG91dFs4XSA9IHgyO1xyXG4gICAgb3V0WzldID0geTI7XHJcbiAgICBvdXRbMTBdID0gejI7XHJcbiAgICBvdXRbMTFdID0gMDtcclxuICAgIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XHJcbiAgICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xyXG4gICAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcclxuICAgIG91dFsxNV0gPSAxO1xyXG4gICAgcmV0dXJuIG91dDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBDYW1lcmFQb3NpdGlvbixcclxuICBDYW1lcmFQb3NpdGlvbk1hbmlwdWxhdG9yLFxyXG4gIGNhbWVyYVBvc2l0aW9uVG9WZWN0b3IzLFxyXG59IGZyb20gXCIuL3V0aWxzL2NhbWVyYU1hbmlwdWxhdG9yXCI7XHJcbmltcG9ydCB7IGdldFN0YXRlLCBzZXRTdGF0ZSB9IGZyb20gXCIuLy4uLy4uL2NvbW1vbi9zdGF0ZVwiO1xyXG5pbXBvcnQgeyBJbmRleEJ1ZmZlckluZm8gfSBmcm9tIFwiLi91dGlscy93ZWJnbC9pbmRleEJ1ZmZlclwiO1xyXG5pbXBvcnQgeyB0cmFuc2xhdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3RyYW5zbGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VjdGlvblRpdGxlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9oZWFkZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlQnV0dG9uIGFzIGNyZWF0ZUJ1dHRvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiwgd2l0aExhYmVsIH0gZnJvbSBcIi4vY29tcG9uZW50cy93cmFwcGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyB9IGZyb20gXCIuL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnRcIjtcclxuaW1wb3J0IHtcclxuICBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UsXHJcbiAgRHJhd09wdGlvbnMsXHJcbiAgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyxcclxuICBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyxcclxuICBnZXRQcm9ncmFtVW5pZm9ybXMsXHJcbiAgcmVuZGVyUHJvZ3JhbSxcclxuICBTaGFkZXJDb21waWxlRXJyb3JzLFxyXG59IGZyb20gXCIuL3V0aWxzL3dlYmdsL2luZGV4XCI7XHJcbmltcG9ydCB7IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgfSBmcm9tIFwiLi91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgY3JlYXRlV2ViR0xDYW52YXMgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dlYmdsQ2FudmFzXCI7XHJcbmltcG9ydCB7IFZpZXdlckVuZHBvaW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb21tdW5pY2F0aW9uL3ZpZXdlckVuZHBvaW50XCI7XHJcbmltcG9ydCB7IGNyZWF0ZU1lc2hCaW5kaW5ncywgbWVzaGVzIH0gZnJvbSBcIi4vbWVzaGVzXCI7XHJcbmltcG9ydCB7IG1hdDQgfSBmcm9tIFwiLi91dGlscy9tYXRoXCI7XHJcblxyXG5jb25zdCBjcmVhdGVWaWV3ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3Qgdmlld2VyRW5kcG9pbnQgPSBuZXcgVmlld2VyRW5kcG9pbnQoKTtcclxuICBjb25zdCB2aWV3ZXJTdGF0ZSA9IGdldFN0YXRlKCk7XHJcbiAgY29uc3Qgdmlld2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItY29udGVudCBzaGFkZXItZXJyb3JzXCIpO1xyXG4gIGNvbnN0IFt3ZWJHTENhbnZhcywgd2ViR0xDb250cm9sbGVyXSA9IGNyZWF0ZVdlYkdMQ2FudmFzKFwidmlld2VyLWNvbnRlbnRcIik7XHJcbiAgY29uc3QgbWVzaEF0dHJpYnV0ZUJpbmRpbmdzID0gY3JlYXRlTWVzaEJpbmRpbmdzKCk7XHJcbiAgY29uc3QgZHJhd09wdGlvbnM6IERyYXdPcHRpb25zID0geyBkcmF3TW9kZTogXCJhcnJheXNcIiB9O1xyXG4gIGxldCBjYW1lcmFQb3NpdGlvbjogQ2FtZXJhUG9zaXRpb24gPSB7IGxvbmdpdHVkZTogMSwgbGF0aXR1ZGU6IDEsIHJhZGl1czogMiB9O1xyXG4gIGNvbnN0IGNhbWVyYVBvc2l0aW9uTWFuaXB1bGF0b3IgPSBuZXcgQ2FtZXJhUG9zaXRpb25NYW5pcHVsYXRvcihcclxuICAgIHdlYkdMQ2FudmFzLFxyXG4gICAgKCkgPT4gY2FtZXJhUG9zaXRpb24sXHJcbiAgICBuZXdQb3NpdGlvbiA9PiB7XHJcbiAgICAgIGNhbWVyYVBvc2l0aW9uID0gbmV3UG9zaXRpb247XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidmlld3BvcnRcIiwgY2FtZXJhUG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh3ZWJHTENhbnZhcyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQodmlld2VyT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHNob3dDb250ZW50ID0gKGNvbnRlbnQ6IFwiY2FudmFzXCIgfCBcImVycm9yc1wiIHwgXCJub25lXCIpID0+IHtcclxuICAgIHdlYkdMQ2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImNhbnZhc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJlcnJvcnNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN5bmNTaGFkZXJEb2N1bWVudHMgPSAoKSA9PiB7XHJcbiAgICB2aWV3ZXJFbmRwb2ludC5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoZiA9PiAoe1xyXG4gICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdmlld2VyU3RhdGUudmVydGV4RmlsZVBhdGggJiZcclxuICAgICAgICBmaWxlcy5zb21lKGYgPT4gZi5pZCA9PT0gdmlld2VyU3RhdGUudmVydGV4RmlsZVBhdGgpXHJcbiAgICAgIClcclxuICAgICAgICB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJZChcclxuICAgICAgICAgIHZpZXdlclN0YXRlLnZlcnRleEZpbGVQYXRoXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB2aWV3ZXJTdGF0ZS5mcmFnbWVudEZpbGVQYXRoICYmXHJcbiAgICAgICAgZmlsZXMuc29tZShmID0+IGYuaWQgPT09IHZpZXdlclN0YXRlLmZyYWdtZW50RmlsZVBhdGgpXHJcbiAgICAgIClcclxuICAgICAgICBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUlkKFxyXG4gICAgICAgICAgdmlld2VyU3RhdGUuZnJhZ21lbnRGaWxlUGF0aFxyXG4gICAgICAgICk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogKCkgPT4gdm9pZCB8IHVuZGVmaW5lZDtcclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgYW5pbWF0aW9uRnJhbWVIYW5kbGU6IG51bWJlciA9IG51bGw7XHJcblxyXG4gIGNvbnN0IG9uTWVzaENoYW5nZWQgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgeyBwb3NpdGlvbnMsIGNvbG9ycyB9ID0gbWVzaGVzLmdldChpZCk7XHJcbiAgICBtZXNoQXR0cmlidXRlQmluZGluZ3MuZ2V0KFwicG9zaXRpb25zXCIpLnZhbHVlLnNldFZhbHVlKHBvc2l0aW9ucyk7XHJcbiAgICBtZXNoQXR0cmlidXRlQmluZGluZ3MuZ2V0KFwiY29sb3JzXCIpLnZhbHVlLnNldFZhbHVlKGNvbG9ycyk7XHJcbiAgICAvL21lc2hBdHRyaWJ1dGVCaW5kaW5ncy5nZXQoXCJub3JtYWxzXCIpLnZhbHVlLnNldFZhbHVlKG5vcm1hbHMpO1xyXG4gIH07XHJcblxyXG4gIC8vXHJcblxyXG4gIC8vXHJcblxyXG4gIGNvbnN0IG9uU2hhZGVyQ29udGVudENoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICBzaGFkZXJPcHRpb25zLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2ViR0xDb250cm9sbGVyLmNvbnRleHQ7XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ICYmIHNlbGVjdGVkVmVydGV4Q29udGVudCkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UoXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQsXHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBzaG93Q29udGVudChcImVycm9yc1wiKTtcclxuICAgICAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5pbm5lclRleHQgPSBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzKFxyXG4gICAgICAgICAgcmVzdWx0IGFzIFNoYWRlckNvbXBpbGVFcnJvcnNcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSByZXN1bHQgYXMgV2ViR0xQcm9ncmFtO1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW1Vbmlmb3JtcyA9IGdldFByb2dyYW1Vbmlmb3Jtcyhjb250ZXh0LCBwcm9ncmFtKTtcclxuICAgICAgICBjb25zdCBwcm9ncmFtQXR0cmlidXRlQnVmZmVycyA9IGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtQ29tcG9uZW50cyA9IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICBwcm9ncmFtVW5pZm9ybXNcclxuICAgICAgICApO1xyXG4gICAgICAgIHVuaWZvcm1Db21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgICAgICAgIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQodWMuY29tcG9uZW50KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICBwcm9ncmFtQXR0cmlidXRlQnVmZmVycyxcclxuICAgICAgICAgIEFycmF5LmZyb20obWVzaEF0dHJpYnV0ZUJpbmRpbmdzLnZhbHVlcygpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5mb3JFYWNoKGFiID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKGFiLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtSW5mb3MgPSB1bmlmb3JtQ29tcG9uZW50cy5tYXAodWMgPT4gdWMudW5pZm9ybUluZm8pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm9zID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5tYXAoXHJcbiAgICAgICAgICBhYmMgPT4gYWJjLmF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBpbmRleEJ1ZmZlckluZm8gPSBuZXcgSW5kZXhCdWZmZXJJbmZvKGNvbnRleHQpO1xyXG4gICAgICAgIGluZGV4QnVmZmVySW5mby5zZXRWYWx1ZShbXHJcbiAgICAgICAgICAwLFxyXG4gICAgICAgICAgMSxcclxuICAgICAgICAgIDIsXHJcbiAgICAgICAgICAwLFxyXG4gICAgICAgICAgMixcclxuICAgICAgICAgIDMsIC8vIGZyb250XHJcbiAgICAgICAgICA0LFxyXG4gICAgICAgICAgNSxcclxuICAgICAgICAgIDYsXHJcbiAgICAgICAgICA0LFxyXG4gICAgICAgICAgNixcclxuICAgICAgICAgIDcsIC8vIGJhY2tcclxuICAgICAgICAgIDgsXHJcbiAgICAgICAgICA5LFxyXG4gICAgICAgICAgMTAsXHJcbiAgICAgICAgICA4LFxyXG4gICAgICAgICAgMTAsXHJcbiAgICAgICAgICAxMSwgLy8gdG9wXHJcbiAgICAgICAgICAxMixcclxuICAgICAgICAgIDEzLFxyXG4gICAgICAgICAgMTQsXHJcbiAgICAgICAgICAxMixcclxuICAgICAgICAgIDE0LFxyXG4gICAgICAgICAgMTUsIC8vIGJvdHRvbVxyXG4gICAgICAgICAgMTYsXHJcbiAgICAgICAgICAxNyxcclxuICAgICAgICAgIDE4LFxyXG4gICAgICAgICAgMTYsXHJcbiAgICAgICAgICAxOCxcclxuICAgICAgICAgIDE5LCAvLyByaWdodFxyXG4gICAgICAgICAgMjAsXHJcbiAgICAgICAgICAyMSxcclxuICAgICAgICAgIDIyLFxyXG4gICAgICAgICAgMjAsXHJcbiAgICAgICAgICAyMixcclxuICAgICAgICAgIDIzLCAvLyBsZWZ0XHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRpb25GcmFtZUhhbmRsZSAhPT0gbnVsbClcclxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSGFuZGxlKTtcclxuXHJcbiAgICAgICAgbGV0IGN1YmVSb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgY29uc3QgdmlldyA9IHVuaWZvcm1JbmZvcy5maW5kKFxyXG4gICAgICAgICAgdSA9PiB1LmdldFVuaWZvcm1OYW1lKCkgPT09IFwidU1vZGVsVmlld01hdHJpeFwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gdW5pZm9ybUluZm9zLmZpbmQoXHJcbiAgICAgICAgICB1ID0+IHUuZ2V0VW5pZm9ybU5hbWUoKSA9PT0gXCJ1UHJvamVjdGlvbk1hdHJpeFwiXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHRoZW4gPSAwO1xyXG5cclxuICAgICAgICAvLyBEcmF3IHRoZSBzY2VuZSByZXBlYXRlZGx5XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gcmVuZGVyKG5vdykge1xyXG4gICAgICAgIC8vICAgbm93ICo9IDAuMDAxOyAgLy8gY29udmVydCB0byBzZWNvbmRzXHJcbiAgICAgICAgLy8gICBjb25zdCBkZWx0YVRpbWUgPSBub3cgLSB0aGVuO1xyXG4gICAgICAgIC8vICAgdGhlbiA9IG5vdztcclxuXHJcbiAgICAgICAgLy8gICBkcmF3U2NlbmUoZ2wsIHByb2dyYW1JbmZvLCBidWZmZXJzLCBkZWx0YVRpbWUpO1xyXG5cclxuICAgICAgICAvLyAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVuZGVyID0gKG5vdzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBub3cgKj0gMC4wMDE7XHJcbiAgICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSBub3cgLSB0aGVuO1xyXG4gICAgICAgICAgdGhlbiA9IG5vdztcclxuICAgICAgICAgIGNvbnN0IGZpZWxkT2ZWaWV3ID0gKDQ1ICogTWF0aC5QSSkgLyAxODA7IC8vIGluIHJhZGlhbnNcclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgICAgICAgY29uc3QgYXNwZWN0ID0gY2FudmFzLmNsaWVudFdpZHRoIC8gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgIGNvbnN0IHpOZWFyID0gMC4xO1xyXG4gICAgICAgICAgY29uc3QgekZhciA9IDEwMC4wO1xyXG4gICAgICAgICAgY29uc3QgcHJvamVjdGlvbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgICAgLy8gbm90ZTogZ2xtYXRyaXguanMgYWx3YXlzIGhhcyB0aGUgZmlyc3QgYXJndW1lbnRcclxuICAgICAgICAgIC8vIGFzIHRoZSBkZXN0aW5hdGlvbiB0byByZWNlaXZlIHRoZSByZXN1bHQuXHJcbiAgICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKHByb2plY3Rpb25NYXRyaXgsIGZpZWxkT2ZWaWV3LCBhc3BlY3QsIHpOZWFyLCB6RmFyKTtcclxuXHJcbiAgICAgICAgICAvLyBTZXQgdGhlIGRyYXdpbmcgcG9zaXRpb24gdG8gdGhlIFwiaWRlbnRpdHlcIiBwb2ludCwgd2hpY2ggaXNcclxuICAgICAgICAgIC8vIHRoZSBjZW50ZXIgb2YgdGhlIHNjZW5lLlxyXG4gICAgICAgICAgY29uc3QgbW9kZWxWaWV3TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgIGNvbnN0IHZlYyA9IGNhbWVyYVBvc2l0aW9uVG9WZWN0b3IzKGNhbWVyYVBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICBtYXQ0Lmxvb2tBdChcclxuICAgICAgICAgICAgbW9kZWxWaWV3TWF0cml4LFxyXG4gICAgICAgICAgICBbdmVjLngsIHZlYy55LCB2ZWMuel0sXHJcbiAgICAgICAgICAgIFswLCAwLCAwXSxcclxuICAgICAgICAgICAgWzAsIDEsIDBdXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIC8vIG1hdDQudHJhbnNsYXRlKFxyXG4gICAgICAgICAgLy8gICBtb2RlbFZpZXdNYXRyaXgsIC8vIGRlc3RpbmF0aW9uIG1hdHJpeFxyXG4gICAgICAgICAgLy8gICBtb2RlbFZpZXdNYXRyaXgsIC8vIG1hdHJpeCB0byB0cmFuc2xhdGVcclxuICAgICAgICAgIC8vICAgWy0wLjAsIDAuMCwgLTYuMF1cclxuICAgICAgICAgIC8vICk7IC8vIGFtb3VudCB0byB0cmFuc2xhdGVcclxuICAgICAgICAgIC8vIG1hdDQucm90YXRlKFxyXG4gICAgICAgICAgLy8gICBtb2RlbFZpZXdNYXRyaXgsIC8vIGRlc3RpbmF0aW9uIG1hdHJpeFxyXG4gICAgICAgICAgLy8gICBtb2RlbFZpZXdNYXRyaXgsIC8vIG1hdHJpeCB0byByb3RhdGVcclxuICAgICAgICAgIC8vICAgY3ViZVJvdGF0aW9uLCAvLyBhbW91bnQgdG8gcm90YXRlIGluIHJhZGlhbnNcclxuICAgICAgICAgIC8vICAgWzAsIDAsIDFdXHJcbiAgICAgICAgICAvLyApOyAvLyBheGlzIHRvIHJvdGF0ZSBhcm91bmQgKFopXHJcbiAgICAgICAgICAvLyBtYXQ0LnJvdGF0ZShcclxuICAgICAgICAgIC8vICAgbW9kZWxWaWV3TWF0cml4LCAvLyBkZXN0aW5hdGlvbiBtYXRyaXhcclxuICAgICAgICAgIC8vICAgbW9kZWxWaWV3TWF0cml4LCAvLyBtYXRyaXggdG8gcm90YXRlXHJcbiAgICAgICAgICAvLyAgIGN1YmVSb3RhdGlvbiAqIDAuNywgLy8gYW1vdW50IHRvIHJvdGF0ZSBpbiByYWRpYW5zXHJcbiAgICAgICAgICAvLyAgIFswLCAxLCAwXVxyXG4gICAgICAgICAgLy8gKTsgLy8gYXhpcyB0byByb3RhdGUgYXJvdW5kIChYKVxyXG4gICAgICAgICAgLy8gbWF0NC5yb3RhdGUoXHJcbiAgICAgICAgICAvLyAgIG1vZGVsVmlld01hdHJpeCwgLy8gZGVzdGluYXRpb24gbWF0cml4XHJcbiAgICAgICAgICAvLyAgIG1vZGVsVmlld01hdHJpeCwgLy8gbWF0cml4IHRvIHJvdGF0ZVxyXG4gICAgICAgICAgLy8gICBjdWJlUm90YXRpb24gKiAwLjIsIC8vIGFtb3VudCB0byByb3RhdGUgaW4gcmFkaWFuc1xyXG4gICAgICAgICAgLy8gICBbMSwgMCwgMF1cclxuICAgICAgICAgIC8vICk7IC8vIGF4aXMgdG8gcm90YXRlIGFyb3VuZCAoWSlcclxuXHJcbiAgICAgICAgICBwcm9qZWN0aW9uLnNldFZhbHVlKHByb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgICAgICAgdmlldy5zZXRWYWx1ZShtb2RlbFZpZXdNYXRyaXgpO1xyXG5cclxuICAgICAgICAgIHJlbmRlclByb2dyYW0oXHJcbiAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1bmlmb3JtSW5mb3MsXHJcbiAgICAgICAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mb3MsXHJcbiAgICAgICAgICAgICAgaW5kZXhCdWZmZXJJbmZvLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkcmF3T3B0aW9uc1xyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlbmRlcigwKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0NvbnRlbnQoXCJub25lXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVycy10aXRsZVwiLCBbXHJcbiAgICAgIGNyZWF0ZVNlY3Rpb25UaXRsZSh0cmFuc2xhdGlvbnMuc2hhZGVycywgXCJcIikuZWxlbWVudCxcclxuICAgICAgY3JlYXRlQnV0dG9uKFwiU3luY1wiLCBcInZpZXdlci1yZWZyZXNoLWJ1dHRvblwiLCBzeW5jU2hhZGVyRG9jdW1lbnRzKVxyXG4gICAgICAgIC5lbGVtZW50LFxyXG4gICAgXSlcclxuICApO1xyXG5cclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyBuZXdWZXJ0ZXggPT4ge1xyXG4gICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld1ZlcnRleCkge1xyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSA9IHZpZXdlckVuZHBvaW50LnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3VmVydGV4LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdWZXJ0ZXhcclxuICAgICAgICA/IGF3YWl0IHZpZXdlckVuZHBvaW50LmdldERvY3VtZW50VGV4dChuZXdWZXJ0ZXguaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG5cclxuICAgICAgc2V0U3RhdGUoeyB2ZXJ0ZXhGaWxlUGF0aDogbmV3VmVydGV4ID8gbmV3VmVydGV4LmlkIDogbnVsbCB9KTtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmVydGV4RHJvcGRvd25Db250cm9sbGVyLnNldFNlbGVjdGVkSXRlbUJ5SWQodmlld2VyU3RhdGUudmVydGV4RmlsZVBhdGgpO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKHZlcnRleERyb3Bkb3duRWxlbWVudCwgXCJWZXJ0ZXggU2hhZGVyXCIpKTtcclxuXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld0ZyYWdtZW50ID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2aWV3ZXJFbmRwb2ludC5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld0ZyYWdtZW50LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3RnJhZ21lbnRcclxuICAgICAgICA/IGF3YWl0IHZpZXdlckVuZHBvaW50LmdldERvY3VtZW50VGV4dChuZXdGcmFnbWVudC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcblxyXG4gICAgICBzZXRTdGF0ZSh7IGZyYWdtZW50RmlsZVBhdGg6IG5ld0ZyYWdtZW50ID8gbmV3RnJhZ21lbnQuaWQgOiBudWxsIH0pO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUlkKHZpZXdlclN0YXRlLmZyYWdtZW50RmlsZVBhdGgpO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIFwiRnJhZ21lbnQgU2hhZGVyXCIpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW21lc2hEcm9wZG93bkVsZW1lbnQsIG1lc2hEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBpdGVtID0+IGl0ZW0gJiYgb25NZXNoQ2hhbmdlZChpdGVtLmlkKSxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBtZXNoRHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgQXJyYXkuZnJvbShtZXNoZXMuZW50cmllcygpKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcclxuICAgICAgaWQ6IGtleSxcclxuICAgICAgZGlzcGxheTogdmFsdWUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgbWVzaERyb3Bkb3duQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUluZGV4KDApO1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChtZXNoRHJvcGRvd25FbGVtZW50LCBcIk1lc2hcIikpO1xyXG5cclxuICBjb25zdCBbZHJhd01vZGVFbGVtZW50LCBkcmF3TW9kZUNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBpdGVtID0+IHtcclxuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICAgIGRyYXdPcHRpb25zLmRyYXdNb2RlID0gaXRlbS5pZCBhcyBcImFycmF5c1wiIHwgXCJlbGVtZW50c1wiO1xyXG4gICAgICBzZXRTdGF0ZSh7IGRyYXdNb2RlOiBpdGVtLmlkIH0pO1xyXG4gICAgfSxcclxuICAgIHVuZGVmaW5lZCxcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBkcmF3TW9kZUNvbnRyb2xsZXIuc2V0SXRlbXMoW1xyXG4gICAgeyBpZDogXCJhcnJheXNcIiwgZGlzcGxheTogXCJBcnJheXNcIiB9LFxyXG4gICAgeyBpZDogXCJlbGVtZW50c1wiLCBkaXNwbGF5OiBcIkVsZW1lbnRzXCIgfSxcclxuICBdKTtcclxuICBkcmF3TW9kZUNvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJZCh2aWV3ZXJTdGF0ZS5kcmF3TW9kZSk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZCh3aXRoTGFiZWwoZHJhd01vZGVFbGVtZW50LCBcIkRyYXcgbW9kZVwiKSk7XHJcblxyXG4gIC8vaW5kZXhlc1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHNoYWRlck9wdGlvbnMpO1xyXG5cclxuICBzeW5jU2hhZGVyRG9jdW1lbnRzKCk7XHJcbn07XHJcblxyXG5jcmVhdGVWaWV3ZXIoKTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVNlY3Rpb25UaXRsZSA9ICh0ZXh0OiBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gc2VjdGlvbi10aXRsZWA7XHJcbiAgLy9lbGVtZW50LnRpdGxlID0gJzEgMjEyMycsLCBgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNy41NiAxaC44OGw2LjU0IDEyLjI2LS40NC43NEgxLjQ0TDEgMTMuMjYgNy41NiAxek04IDIuMjhMMi4yOCAxM0gxMy43TDggMi4yOHpNOC42MjUgMTJ2LTFoLTEuMjV2MWgxLjI1em0tMS4yNS0yVjZoMS4yNXY0aC0xLjI1elwiLz48L3N2Zz5gO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==