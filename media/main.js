!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=function(e,t){return e.hasOwnProperty(t)},p=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},d=acquireVsCodeApi(),m=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return d.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return d.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;d.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),d.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),h=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},v=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},y=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},g=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},b=function(e,t,n){var r=g(e,e.VERTEX_SHADER,t),o=g(e,e.FRAGMENT_SHADER,n),i=void 0;f(r,"error")&&(i=s(r.error,1));var a=void 0;return f(o,"error")&&(a=s(o.error,1)),i||a?[i,a]:function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))}(e,r,o)},x=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},E=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},A=function(e){return E([0,0,0],e,1,3)},T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w={min:"0",max:"1",step:"0.1"},C=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var S,O=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=V(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),V=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,C([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,C([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,C([n],e))};case r.SAMPLER_2D:return function(e){};default:p(e)}},L=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=new L((function(e){return e.name+";"+e.type})),F=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return R((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return B((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),j(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return D((function(t){l();e.setValue({slot:t.slot,textureData:!0})}));default:return N()}},N=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},I=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},R=function(e){var t=E([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},D=function(e){var t=A(),n=t[0];return t[1].setValues([0,0,0]),n},B=function(e){var t=A(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=y("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,3,w),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=I({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return y("column-with-gap",[i,n,o])},j=function(e,t){var n=E([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=y("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,4,w),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=I({custom:{display:"Custom",element:r},color:{display:"Color",element:i}});return y("column-with-gap",[a,r,i])};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(S||(S={}));var M=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=k(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.dispose=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),k=function(e){switch(e){case S.FLOAT_VEC3:return 3;case S.FLOAT_VEC4:return 4;default:p(e)}},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=new L((function(e){return e.name+";"+e.type})),G=function(e){switch(e.getAttributeBufferType()){case S.FLOAT_VEC3:return Y((function(t){e.setValue(t)}));case S.FLOAT_VEC4:var t=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(t),q(t,(function(t){e.setValue(t)}));default:return J()}},J=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},Y=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},q=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};z(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,s,l,f,p,d,g,E,A,T,w,C,S,V,L;return X(this,(function(N){var I,R,D;return e=new m,t=document.getElementById("viewer"),n=y("viewer-options"),r=y("viewer-shader-options"),i=y("viewer-content shader-errors"),a=x("viewer-content"),u=a[0],s=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),l=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},E=null,A=function(){r.innerHTML="";var e,t,n,o,a=s.context;if(g&&d){var u=b(a,d,g);if(Array.isArray(u))l("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{l("canvas");var c=u,f=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),p=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),m=function(e,t,n){var r=n.map((function(n){var r=_({},n),o=P.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new O(e,t,n.name,n.type);return{key:r,value:{component:v(F(i),"",n.name),uniformInfo:i}}}));return P.clear(),r.forEach((function(e){return P.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,f);m.forEach((function(e){return r.appendChild(e.component)}));var h=function(e,t,n){var r=n.map((function(n){var r=U({},n),o=H.get(r);if(o)return o.attributeBufferInfo.attachToProgram(t),{key:r,value:o};var i=new M(e,t,n.name,n.type);return{key:r,value:{component:v(G(i),"",n.name),attributeBufferInfo:i}}}));return H.clear(),r.forEach((function(e){return H.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,p);h.forEach((function(e){return r.appendChild(e.component)}));var y=m.map((function(e){return e.uniformInfo})),x=h.map((function(e){return e.attributeBufferInfo}));null!==E&&(console.log("cancelling frame"),cancelAnimationFrame(E));var A=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(s.context,u,{uniforms:y,attributeBuffers:x}),E=requestAnimationFrame(A)};A()}}else l("none")},n.appendChild(y("viewer-shaders-title",[(I=o,R="",D=document.createElement("h3"),D.textContent=I,D.className=R+" section-title",{element:D}).element,h("Sync","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));C.setItems(t),L.setItems(t)}))})).element])),T=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==f||f(),t&&(f=e.subscribeToDocumentSave(t.id,(function(e){d=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return d=n,A(),[2]}}))}))})),w=T[0],C=T[1],n.appendChild(v(w,"viewer-vertex-shader-selector","Vertex Shader")),S=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==p||p(),t&&(p=e.subscribeToDocumentSave(t.id,(function(e){g=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return g=n,A(),[2]}}))}))})),V=S[0],L=S[1],n.appendChild(v(V,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(r),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3VuaWZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbW11bmljYXRpb25Qcm94eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jb21tb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NyZWF0ZVdlYkdMQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0VmVjdG9yMy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZWRpdENvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9zaXRlS2V5TWFwLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvdW5pZm9ybUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVbmlmb3JtVHlwZSIsInRyYW5zbGF0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJdGVtIiwiY3JlYXRlRHJvcGRvd24iLCJvbkNoYW5nZSIsImNsYXNzTmFtZSIsIm9wdGlvbnMiLCJjb21iaW5lZE9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldEl0ZW1zIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJsZW5ndGgiLCJkaXNwbGF5IiwiZm9yRWFjaCIsIm9wdGlvbiIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJnZXRJdGVtcyIsIm1hcCIsImllIiwic2V0U2VsZWN0ZWRJdGVtQnlJZCIsImdldFNlbGVjdGVkSXRlbSIsImNsZWFyU2VsZWN0aW9uIiwicmVtb3ZlTGFzdCIsInRleHQiLCJjb3VudCIsInN1YnN0cmluZyIsInV1aWR2NCIsInJlcGxhY2UiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJhc3NlcnROZXZlciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsIm1lc3NhZ2VJZCIsInBvc3RNZXNzYWdlIiwidHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZSIsInBheWxvYWQiLCJmaWxlcyIsInJlbW92ZUxpc3RlbmVyIiwiZ2V0RG9jdW1lbnRUZXh0IiwiZmlsZU5hbWUiLCJzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZSIsImZpbGVQYXRoIiwiY2FsbGJhY2siLCJ0aGlzIiwiYXJyYXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVGQUJ1dHRvbiIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwid2l0aExhYmVsIiwid3JhcHBlciIsImxhYmVsIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjb21waWxlU2hhZGVyIiwicmVuZGVyaW5nQ29udGV4dCIsInNvdXJjZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZXJyb3IiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiY29tcGlsZVNoYWRlcnMiLCJjb250ZXh0IiwidmVydGV4U2hhZGVyQ29udGVudCIsImZyYWdtZW50U2hhZGVyQ29udGVudCIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwidW5kZWZpbmVkIiwiZnJhZ21lbnRFcnJvciIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJkZWxldGVQcm9ncmFtIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJjcmVhdGVXZWJHTENhbnZhcyIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJSZXNpemVPYnNlcnZlciIsImVsZW1lbnRzIiwib2JzZXJ2ZXJFbnRyeSIsInRhcmdldCIsImRvbVJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwieSIsIm9ic2VydmUiLCJjcmVhdGVNdWx0aU51bWJlcklucHV0IiwiaW5pdGlhbFZhbHVlIiwicm93cyIsImNvbHVtbnMiLCJpbnB1dE9wdGlvbnMiLCJpbnB1dEdyaWQiLCJnZXRWYWx1ZXMiLCJyb3ciLCJpbnB1dFJvdyIsImNvbHVtbiIsImlucHV0IiwiaXRlbUVsZW1lbnQiLCJhc3NpZ24iLCJvbmlucHV0IiwiTnVtYmVyIiwic2V0VmFsdWVzIiwibmV3VmFsdWVzIiwic2V0UmVhZG9ubHkiLCJyZWFkb25seSIsInJlYWRPbmx5IiwiY3JlYXRlVmVjdG9yMyIsImNvbG9ySW5wdXRQcm9wcyIsIm1pbiIsIm1heCIsInN0ZXAiLCJBdHRyaWJ1dGVCdWZmZXJUeXBlIiwiYXR0YWNoVG9Qcm9ncmFtIiwibG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJzZXR0ZXIiLCJjcmVhdGVVbmlmb3JtU2V0dGVyIiwic2V0VmFsdWUiLCJuZXdWYWx1ZSIsInNldFVuaWZvcm0iLCJnZXRVbmlmb3JtVHlwZSIsImRpc3Bvc2UiLCJGTE9BVF9WRUMyIiwidW5pZm9ybTJmIiwiRkxPQVRfVkVDMyIsInVuaWZvcm0zZiIsIkZMT0FUX1ZFQzQiLCJ1bmlmb3JtNGYiLCJTQU1QTEVSXzJEIiwia2V5U2VsZWN0b3IiLCJNYXAiLCJzZXQiLCJoYXMiLCJjbGVhciIsInVuaWZvcm1Db21wb25lbnRDYWNoZSIsIkNvbXBvc2l0ZUtleU1hcCIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwic2xvdCIsInRleHR1cmVEYXRhIiwiY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCIsImlubmVyVGV4dCIsImNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24iLCJ2YWx1ZXMiLCJvZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm9wdGlvbnNFbGVtZW50Iiwib3B0aW9uc0NvbnRyb2xsZXIiLCJlbnRyaWVzIiwidXBkYXRlIiwiY3VzdG9tRWxlbWVudCIsImNvbG9yRGl2Iiwic2V0Q29sb3IiLCJjb2xvciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbnRhaW5lciIsImNvbnRyb2xsZXIiLCJjcmVhdGVDb2xvcjMiLCJjb2xvckVsZW1lbnQiLCJjdXN0b20iLCJjcmVhdGVDb2xvcjQiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJmbGF0dGVuIiwiY29uY2F0IiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwic2V0QXR0cmlidXRlQnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJzaXplIiwiZ2V0TnVtQ29tcG9uZW50cyIsIkZMT0FUIiwidmVydGV4QXR0cmliUG9pbnRlciIsImdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJkZWxldGVCdWZmZXIiLCJidWZmZXJUeXBlIiwiYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0IiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkIiwicmVzdWx0IiwicGFyc2UiLCJjb25zb2xlIiwibG9nIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJ2c2NvZGVBcGkiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsInNob3dDb250ZW50IiwiY29udGVudCIsInZpc2liaWxpdHkiLCJhbmltYXRpb25GcmFtZUhhbmRsZSIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJ2ZXJ0ZXhTaGFkZXJFcnJvcnMiLCJmcmFnbWVudFNoYWRlckVycm9ycyIsImVycm9ycyIsInNlbGVjdGVkRnJhZ21lbnRDb250ZW50Iiwic2VsZWN0ZWRWZXJ0ZXhDb250ZW50Iiwiam9pbiIsInVuaWZvcm1zIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFByb2dyYW1Vbmlmb3JtcyIsImF0dHJpYnV0ZUJ1ZmZlcnMiLCJudW1BdHRyaWJ1dGVCdWZmZXJzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyIsInVuaWZvcm1Db21wb25lbnRzIiwiZnJvbUNhY2hlIiwiVW5pZm9ybUluZm8iLCJjb21wb25lbnQiLCJ1YyIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyIsIkF0dHJpYnV0ZUJ1ZmZlckluZm8iLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYWIiLCJhYmMiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbmRlckluZm8iLCJ1c2VQcm9ncmFtIiwidmlld3BvcnQiLCJjbGVhckNvbG9yIiwiQ09MT1JfQlVGRkVSX0JJVCIsInUiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwiZHJhd0FycmF5cyIsInJlbmRlclByb2dyYW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGVuIiwic2QiLCJmIiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwiZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIiLCJuZXdWZXJ0ZXgiLCJzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJuZXdDb250ZW50IiwidmVydGV4RHJvcGRvd25FbGVtZW50IiwibmV3RnJhZ21lbnQiLCJzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsImZyYWdtZW50RHJvcGRvd25FbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQ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RCxFQUFjL04sWUFBWWdPLEciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICAvL2luaXRpYWxWYWx1ZTogRHJvcGRvd25JdGVtIHwgbnVsbCxcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9IC8vcGxhY2Vob2xkZXJcclxuKTogW1xyXG4gICAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIF0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKChlKSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKChpKSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcblxyXG4vL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNQcm9wZXJ0eSA9IDxUIGV4dGVuZHMge30sIFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXHJcbiAgb2JqOiBULFxyXG4gIHByb3A6IFBcclxuKTogb2JqIGlzIFQgJiBSZWNvcmQ8UCwgdW5rbm93bj4gPT4ge1xyXG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkocHJvcCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXNzZXJ0TmV2ZXIgPSAodmFsdWU6IG5ldmVyKTogbmV2ZXIgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIHVuaW9uIG1lbWJlcjogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZWxlbWVudHMpID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyRW50cnkgPSBlbGVtZW50cy5maW5kKChlKSA9PiBlLnRhcmdldCA9PT0gZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKG9ic2VydmVyRW50cnkpIHtcclxuICAgICAgY29uc3QgZG9tUmVjdCA9IG9ic2VydmVyRW50cnkudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgeDogZG9tUmVjdC54LFxyXG4gICAgICAgIHk6IGRvbVJlY3QueSxcclxuICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuICByZXR1cm4gKCkgPT4gcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmUsIHV1aWR2NCB9IGZyb20gJy4vLi4vdXRpbHMnO1xyXG5kZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsIGlkOiBzdHJpbmcsIH1cclxuICB8IHsgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIiwgaWQ6IHN0cmluZywgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfVxyXG4gIHwgeyB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH1cclxuICB8IHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH07XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSA9IHtcclxuICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiO1xyXG4gIGlkOiBzdHJpbmcsXHJcbiAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG59IHxcclxueyB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLCBpZDogc3RyaW5nLCBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcsIHRleHQ6IHN0cmluZyB9IH0gfFxyXG57IHR5cGU6IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlUGF0aDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcgfSB9XHJcblxyXG5leHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XHJcblxyXG50eXBlIFByb3h5UmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWc0NvZGVBcGlQcm94eSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWRcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC5maWxlcyk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXREb2N1bWVudFRleHQoZmlsZU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZSB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKGZpbGVQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIm9uRG9jdW1lbnRUZXh0Q2hhbmdlXCIgJiYgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aCkge1xyXG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0gfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcikge1xyXG4gICAgcmVtb3ZlKHRoaXMuZXZlbnRMaXN0ZW5lcnMsIGxpc3RlbmVyKVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlRkFCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIHRleHQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goKGMpID0+IGRpdi5hcHBlbmRDaGlsZChjKSk7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuIiwiaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlciA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdHlwZTogR0xlbnVtLFxyXG4gIHNvdXJjZTogc3RyaW5nXHJcbik6IFdlYkdMU2hhZGVyIHwgeyBlcnJvcjogc3RyaW5nIH0gPT4ge1xyXG4gIGNvbnN0IHNoYWRlciA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJQYXJhbWV0ZXIoXHJcbiAgICBzaGFkZXIsXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkNPTVBJTEVfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHNoYWRlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlcnJvcixcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXHJcbiAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHByb2dyYW0gPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5MSU5LX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBwcm9ncmFtO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ3JlYXRpbmcgcHJvZ3JhbSBmYWlsZWQ6ICR7cmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtVW5pZm9ybXMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1Vbmlmb3JtcyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9VTklGT1JNU1xyXG4gICk7XHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1Vbmlmb3JtczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgdW5pZm9ybSA9IGNvbnRleHQuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IHVuaWZvcm0ubmFtZSwgdHlwZTogdW5pZm9ybS50eXBlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtXHJcbikgPT4ge1xyXG4gIGNvbnN0IG51bUF0dHJpYnV0ZUJ1ZmZlcnMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfQVRUUklCVVRFU1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1BdHRyaWJ1dGVCdWZmZXJzOyArK2luZGV4KSB7XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSBjb250ZXh0LmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZUJ1ZmZlci5uYW1lLCB0eXBlOiBhdHRyaWJ1dGVCdWZmZXIudHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyUHJvZ3JhbSA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHJlbmRlckluZm86IHtcclxuICAgIHVuaWZvcm1zOiBVbmlmb3JtSW5mb1tdO1xyXG4gICAgYXR0cmlidXRlQnVmZmVyczogQXR0cmlidXRlQnVmZmVySW5mb1tdO1xyXG4gICAgLy90ZXh0dXJlc1xyXG4gIH1cclxuKSA9PiB7XHJcbiAgY29udGV4dC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gIGNvbnRleHQudmlld3BvcnQoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XHJcbiAgY29udGV4dC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xyXG4gIGNvbnRleHQuY2xlYXIoY29udGV4dC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgcmVuZGVySW5mby51bmlmb3Jtcy5mb3JFYWNoKHUgPT4gdS5zZXRVbmlmb3JtKCkpO1xyXG4gIHJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVycy5mb3JFYWNoKGFiID0+IGFiLnNldEF0dHJpYnV0ZUJ1ZmZlcigpKTtcclxuICAvLyBjb25zdCBudW1FbGVtZW50cyA9IE1hdGgubWluKFxyXG4gIC8vICAgLi4ucmVuZGVySW5mby5hdHRyaWJ1dGVCdWZmZXJzLm1hcCgoYWIpID0+IGFiLmdldEVsZW1lbnRzQ291bnQoKSlcclxuICAvLyApO1xyXG5cclxuICBjb25zdCBwcmltaXRpdmVUeXBlID0gY29udGV4dC5UUklBTkdMRVM7XHJcbiAgY29uc3Qgb2Zmc2V0ID0gMDtcclxuICBjb25zdCBjb3VudCA9IDM7XHJcbiAgY29udGV4dC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU2hhZGVyQ29tcGlsZUVycm9ycyA9IFtcclxuICB2ZXJ0ZXhTaGFkZXJFcnJvcnM6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckVycm9yczogc3RyaW5nXHJcbl07XHJcbmV4cG9ydCBjb25zdCBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzID0gKHJlc3VsdDogU2hhZGVyQ29tcGlsZUVycm9ycykgPT4ge1xyXG4gIGNvbnN0IFt2ZXJ0ZXhTaGFkZXJFcnJvcnMsIGZyYWdtZW50U2hhZGVyRXJyb3JzXSA9IHJlc3VsdDtcclxuXHJcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBpZiAodmVydGV4U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIlZFUlRFWCBTSEFERVI6XCIsIHZlcnRleFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZnJhZ21lbnRTaGFkZXJFcnJvcnMpIHtcclxuICAgIGVycm9ycy5wdXNoKFwiRlJBR01FTlQgU0hBREVSOlwiLCBmcmFnbWVudFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JzLmpvaW4oXCJcXHJcXG5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7IGhhc1Byb3BlcnR5LCBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCwgcmVtb3ZlTGFzdCB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNvbXBpbGVTaGFkZXIsXHJcbiAgY3JlYXRlUHJvZ3JhbSxcclxuICBTaGFkZXJDb21waWxlRXJyb3JzLFxyXG59IGZyb20gXCIuL3dlYmdsX3V0aWxzL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBsZXQgdmVydGV4RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICBmcmFnbWVudEVycm9yID0gcmVtb3ZlTGFzdChmcmFnbWVudFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgLy90b2RvIGNsZWFudXBcclxuICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIFNoYWRlckNvbXBpbGVFcnJvcnM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShjb250ZXh0LCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJHTENhbnZhcyA9IChcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4pOiBbXHJcbiAgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAge1xyXG4gICAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICBjYW52YXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuICBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdChjYW52YXMsIChyZWN0KSA9PiB7XHJcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIC8vdG9kbyBtb3ZlIHRvIGVycm9yc1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJnbCBjb250ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGNhbnZhcyxcclxuICAgIHtcclxuICAgICAgY29udGV4dCxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQgPSA8VCBleHRlbmRzIG51bWJlcltdPihcclxuICBpbml0aWFsVmFsdWU6IFQsXHJcbiAgb25DaGFuZ2U6IChuZXdWYWx1ZTogVCkgPT4gdm9pZCxcclxuICByb3dzOiBudW1iZXIsXHJcbiAgY29sdW1uczogbnVtYmVyLFxyXG4gIGlucHV0T3B0aW9ucz86IFBhcnRpYWw8SFRNTElucHV0RWxlbWVudD5cclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gVDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGlucHV0R3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgaW5wdXRHcmlkLmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1ncmlkXCI7XHJcblxyXG4gIGNvbnN0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50OyB2YWx1ZTogbnVtYmVyIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFZhbHVlcyA9IChuZXdWYWx1ZXM6IFQpID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGllLnZhbHVlID0gbmV3VmFsdWVzW2luZGV4XTtcclxuICAgICAgaWUuZWxlbWVudC52YWx1ZSA9IGllLnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9KTtcclxuICBjb25zdCBnZXRWYWx1ZXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUudmFsdWUpIGFzIFQ7XHJcbiAgY29uc3Qgc2V0UmVhZG9ubHkgPSAocmVhZG9ubHk6IGJvb2xlYW4pID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgTWF0cml4MyA9IFtcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlclxyXG5dO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlTWF0cml4MyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogTWF0cml4MykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PE1hdHJpeDM+KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDMsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5jb25zdCBjb2xvcklucHV0UHJvcHMgPSB7XHJcbiAgbWluOiBcIjBcIixcclxuICBtYXg6IFwiMVwiLFxyXG4gIHN0ZXA6IFwiMC4xXCIsXHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yNCA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3I0KSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3I0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjUsIDFdIGFzIENvbG9yNDtcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sJHtjb2xvclszXX0pYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3I0PihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgNCxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjMgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yMykgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yMztcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41XSBhcyBDb2xvcjM7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LDEpYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3IzPihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgMyxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImltcG9ydCB7IGFzc2VydE5ldmVyIH0gZnJvbSBcIi4vLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbTogV2ViR0xQcm9ncmFtKSB7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIHRoaXMubmFtZSk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyW11bXSkge1xyXG4gICAgLy9udW1FbGVtZW50cyA9IHZhbHVlLmxlbmd0aDtcclxuICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgIGNvbnN0IGZsYXR0ZW4gPSBbXS5jb25jYXQoLi4ubmV3VmFsdWUpO1xyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmhhcyh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xvcjMsIGNyZWF0ZUNvbG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRDb2xvclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuLi9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IHVuaWZvcm1Db21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgeyBjb21wb25lbnQ6IEhUTUxFbGVtZW50OyB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHVuaWZvcm1zOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gdW5pZm9ybXMubWFwKHVuaWZvcm0gPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi51bmlmb3JtLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUudW5pZm9ybUluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVuaWZvcm1JbmZvID0gbmV3IFVuaWZvcm1JbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICB1bmlmb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pZm9ybS50eXBlXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm1JbmZvKSxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiA9IChlbGVtZW50czoge1xyXG4gIFtrZXk6IHN0cmluZ106IHsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpLmZvckVhY2gob2UgPT4gb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHJcbiAgICAgIGVsZW1lbnRzW2l0ZW0uaWRdLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0sXHJcbiAgICBcIlwiLFxyXG4gICAgeyBlbXB0eUl0ZW06IGZhbHNlIH1cclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgT2JqZWN0LmVudHJpZXMoZWxlbWVudHMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xyXG4gICAgICBpZDoga2V5LFxyXG4gICAgICBkaXNwbGF5OiB2YWx1ZS5kaXNwbGF5LFxyXG4gICAgfSkpXHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUlkKFwiY3VzdG9tXCIpO1xyXG4gIHJldHVybiBvcHRpb25zRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMyID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMih1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwXSk7XHJcbiAgcmV0dXJuIGN1c3RvbUVsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVTcmM6IHN0cmluZyB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjMoKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yMyh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoWzEsIDAsIDBdKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVVbmlmb3JtU2VsZWN0aW9uKHtcclxuICAgIGN1c3RvbToge1xyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIGNvbG9yOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ29sb3JcIixcclxuICAgICAgZWxlbWVudDogY29sb3JFbGVtZW50LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjNCA9IChcclxuICBpbml0aWFsVmFsdWU6IFZlY3RvcjQsXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjQpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yNCh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjQodXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVLZXlNYXAgfSBmcm9tIFwiLi4vY29tcG9zaXRlS2V5TWFwXCI7XHJcbmltcG9ydCB7IHdpdGhMYWJlbCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcblxyXG5jb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgYXR0cmlidXRlQnVmZmVyczogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSBhdHRyaWJ1dGVCdWZmZXJzLm1hcChhdHRyaWJ1dGVCdWZmZXIgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi5hdHRyaWJ1dGVCdWZmZXIsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLmdldChrZXkpO1xyXG5cclxuICAgIGlmIChmcm9tQ2FjaGUpIHtcclxuICAgICAgZnJvbUNhY2hlLmF0dHJpYnV0ZUJ1ZmZlckluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm8gPSBuZXcgQXR0cmlidXRlQnVmZmVySW5mbyhcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLm5hbWUsXHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvKSxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IHsgY29tcG9uZW50LCBhdHRyaWJ1dGVCdWZmZXJJbmZvIH0gfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLnNldCh1Yy5rZXksIHVjLnZhbHVlKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLm1hcCh1YyA9PiB1Yy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQgPSAoXHJcbiAgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mb1xyXG4pID0+IHtcclxuICBzd2l0Y2ggKGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyh2YWx1ZSA9PiB7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdID0gW1xyXG4gICAgICAgIFswLCAwLCAwLCAxXSxcclxuICAgICAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgICAgICBbMC43LCAwLCAwLCAxXSxcclxuICAgICAgXTtcclxuICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0KGluaXRpYWxWYWx1ZSwgdmFsdWUgPT4ge1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgYXR0cmlidXRlIGJ1ZmZlclwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeShlID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDQgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcbiIsImltcG9ydCB7IHRyYW5zbGF0aW9ucyB9IGZyb20gXCIuLy4uL3RyYW5zbGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgVW5zdWJzY3JpYmUsIFZzQ29kZUFwaVByb3h5IH0gZnJvbSBcIi4vY29tbXVuaWNhdGlvblByb3h5XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNlY3Rpb25UaXRsZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvY3JlYXRlU2VjdGlvblRpdGxlXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUZBQnV0dG9uIGFzIGNyZWF0ZUJ1dHRvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b25cIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4vY29tcG9uZW50cy93cmFwcGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVXZWJHTENhbnZhcywgY29tcGlsZVNoYWRlcnMgfSBmcm9tIFwiLi9jcmVhdGVXZWJHTENhbnZhc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL3VuaWZvcm1Db21wb25lbnRcIjtcclxuaW1wb3J0IHtcclxuICBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzLFxyXG4gIGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzLFxyXG4gIGdldFByb2dyYW1Vbmlmb3JtcyxcclxuICByZW5kZXJQcm9ncmFtLFxyXG4gIFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbn0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvdXRpbHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudFwiO1xyXG5cclxuY29uc3QgY3JlYXRlVmlld2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHZzY29kZUFwaSA9IG5ldyBWc0NvZGVBcGlQcm94eSgpO1xyXG4gIGNvbnN0IHZpZXdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlld2VyXCIpO1xyXG4gIGNvbnN0IHZpZXdlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLXNoYWRlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzID0gY3JlYXRlRGl2KFwidmlld2VyLWNvbnRlbnQgc2hhZGVyLWVycm9yc1wiKTtcclxuICBjb25zdCBbd2ViR0xDYW52YXMsIHdlYkdMQ29udHJvbGxlcl0gPSBjcmVhdGVXZWJHTENhbnZhcyhcInZpZXdlci1jb250ZW50XCIpO1xyXG5cclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQod2ViR0xDYW52YXMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZChzaGFkZXJDb21waWxhdGlvbkVycm9ycyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHZpZXdlck9wdGlvbnMpO1xyXG5cclxuICBjb25zdCBzaG93Q29udGVudCA9IChjb250ZW50OiBcImNhbnZhc1wiIHwgXCJlcnJvcnNcIiB8IFwibm9uZVwiKSA9PiB7XHJcbiAgICB3ZWJHTENhbnZhcy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJjYW52YXNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiZXJyb3JzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICB9O1xyXG5cclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiBVbnN1YnNjcmliZSB8IHVuZGVmaW5lZDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZFZlcnRleENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBhbmltYXRpb25GcmFtZUhhbmRsZTogbnVtYmVyID0gbnVsbDtcclxuXHJcbiAgY29uc3Qgb25TaGFkZXJDb250ZW50Q2hhbmdlZCA9ICgpID0+IHtcclxuICAgIHNoYWRlck9wdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3ZWJHTENvbnRyb2xsZXIuY29udGV4dDtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgJiYgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBpbGVTaGFkZXJzKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50LFxyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJlcnJvcnNcIik7XHJcbiAgICAgICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuaW5uZXJUZXh0ID0gZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyhcclxuICAgICAgICAgIHJlc3VsdCBhcyBTaGFkZXJDb21waWxlRXJyb3JzXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93Q29udGVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjb25zdCBwcm9ncmFtID0gcmVzdWx0IGFzIFdlYkdMUHJvZ3JhbTtcclxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IGdldFByb2dyYW1Vbmlmb3Jtcyhjb250ZXh0LCBwcm9ncmFtKTtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJzID0gZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMoY29udGV4dCwgcHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIHVuaWZvcm1zXHJcbiAgICAgICAgKTtcclxuICAgICAgICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHVjLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVyc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5mb3JFYWNoKGFiID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKGFiLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtSW5mb3MgPSB1bmlmb3JtQ29tcG9uZW50cy5tYXAodWMgPT4gdWMudW5pZm9ybUluZm8pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm9zID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5tYXAoXHJcbiAgICAgICAgICBhYmMgPT4gYWJjLmF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVIYW5kbGUgIT09IG51bGwpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FuY2VsbGluZyBmcmFtZVwiKTtcclxuXHJcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUhhbmRsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJQcm9ncmFtKHdlYkdMQ29udHJvbGxlci5jb250ZXh0LCByZXN1bHQsIHtcclxuICAgICAgICAgICAgdW5pZm9ybXM6IHVuaWZvcm1JbmZvcyxcclxuICAgICAgICAgICAgYXR0cmlidXRlQnVmZmVyczogYXR0cmlidXRlQnVmZmVySW5mb3MsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dDb250ZW50KFwibm9uZVwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgY3JlYXRlRGl2KFwidmlld2VyLXNoYWRlcnMtdGl0bGVcIiwgW1xyXG4gICAgICBjcmVhdGVTZWN0aW9uVGl0bGUodHJhbnNsYXRpb25zLnNoYWRlcnMsIFwiXCIpLmVsZW1lbnQsXHJcbiAgICAgIGNyZWF0ZUJ1dHRvbihcIlN5bmNcIiwgXCJ2aWV3ZXItcmVmcmVzaC1idXR0b25cIiwgKCkgPT4ge1xyXG4gICAgICAgIHZzY29kZUFwaS5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgICAgIGNvbnN0IGZpbGVzID0gc2QubWFwKGYgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGYuZmlsZVBhdGgsXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgdmVydGV4RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgICAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSkuZWxlbWVudCxcclxuICAgIF0pXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW3ZlcnRleERyb3Bkb3duRWxlbWVudCwgdmVydGV4RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgbmV3VmVydGV4ID0+IHtcclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdWZXJ0ZXgpIHtcclxuICAgICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2c2NvZGVBcGkuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdWZXJ0ZXguaWQsXHJcbiAgICAgICAgICBuZXdDb250ZW50ID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld1ZlcnRleFxyXG4gICAgICAgID8gYXdhaXQgdnNjb2RlQXBpLmdldERvY3VtZW50VGV4dChuZXdWZXJ0ZXguaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICB2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLXZlcnRleC1zaGFkZXItc2VsZWN0b3JcIixcclxuICAgICAgXCJWZXJ0ZXggU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICBjb25zdCBbZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgbmV3RnJhZ21lbnQgPT4ge1xyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3RnJhZ21lbnQpIHtcclxuICAgICAgICBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZSA9IHZzY29kZUFwaS5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld0ZyYWdtZW50LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3RnJhZ21lbnRcclxuICAgICAgICA/IGF3YWl0IHZzY29kZUFwaS5nZXREb2N1bWVudFRleHQobmV3RnJhZ21lbnQuaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICBmcmFnbWVudERyb3Bkb3duRWxlbWVudCxcclxuICAgICAgXCJ2aWV3ZXItZnJhZ21lbnQtc2hhZGVyLXNlbGVjdG9yXCIsXHJcbiAgICAgIFwiRnJhZ21lbnQgU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHNoYWRlck9wdGlvbnMpO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==