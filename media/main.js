!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},i=function(e,t){return e.substring(0,e.length-t)},u=function(){function e(e){this.value=e,this.observers=[]}return e.prototype.attach=function(e){this.observers.push(e)},e.prototype.detach=function(e){o(this.observers,e)},e.prototype.setValue=function(e){this.value=e,this.notify()},e.prototype.getValue=function(){return this.value},e.prototype.notify=function(){if(null!==this.value){var e=this.value;this.observers.forEach((function(t){return t(e)}))}},e}(),a="SHADERS",c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},l={emptyItem:!0},f=function(e,t,n){var r=c(c({},l),n),o=document.createElement("select");o.className="dropdown-base "+t;var i=null,u=[],a=function(t){e(i=t)};o.onchange=function(){var e=u.find((function(e){return e.item.id===o.value}));e.item.id?a(e.item):a(null)};var f=function(e){a(null),u.forEach((function(t){t.item.id===e?(t.element.selected=!0,a(t.item)):t.element.selected=!1}))};return[o,{setItems:function(e){o.innerHTML="",u.length=0,e.find((function(e){return e.id===(null==i?void 0:i.id)}))||a(null),(r.emptyItem?s([{id:"",display:""}],e):s(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==i?void 0:i.id),o.appendChild(t),u.push({element:t,item:e})}))},getItems:function(){return u.map((function(e){return e.item}))},setSelectedItemById:f,setSelectedItemByIndex:function(e){return f(u[e].item.id)},getSelectedItem:function(){return i},clearSelection:function(){u.forEach((function(e){return e.element.selected=!1})),a(null)}}]},p=function(e,t){var n=f((function(n){n?(e.forEach((function(e){return e.element.classList.add("hidden")})),e.find((function(e){return e.id===n.id})).element.classList.remove("hidden"),null==t||t(n.id)):null==t||t(null)}),"",{emptyItem:!1}),r=n[0],o=n[1];return o.setItems(e.map((function(e){return{id:e.id,display:e.display}}))),o.setSelectedItemByIndex(0),r},d=function(e){return{id:"custom",display:"Custom",element:e}},h=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},m=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},v=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},y=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var u=[],a=function(){return u.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){u[i].value=Number(f.value),null==t||t(a())},u.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return u.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:a,setReadonly:function(e){return u.forEach((function(t){return t.element.readOnly=e}))}}]},g=function(e){return y([0,0,0],e,1,3)},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},E={min:"0",max:"1",step:"0.1"},x=function(e,t){return e.hasOwnProperty(t)},A=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},T=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var w,C=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=S(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),S=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,T([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,T([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,T([n],e))};case r.SAMPLER_2D:return function(e){};default:A(e)}},O=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){return this.map.has(this.keySelector(e))},e.prototype.entriesStrKey=function(){return Array.from(this.map.entries())},e.prototype.deleteStrKey=function(e){this.map.delete(e)},e.prototype.delete=function(e){this.map.delete(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),V=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=new O((function(e){return e.name+";"+e.type})),I=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return F((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return R((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),B(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return N((function(t){V();e.setValue({slot:t.slot,textureData:!0})}));default:return P()}},P=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},F=function(e){var t=y([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},N=function(e){var t=g(),n=t[0];return t[1].setValues([0,0,0]),n},R=function(e){var t=g(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=v("row-with-gap"),i=y(t,(function(t){r(t),null==e||e(t)}),1,3,E),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,b(b({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=p([{id:"custom",display:"Custom",element:n},{id:"color",display:"Color",element:o}]);return v("column-with-gap",[i,n,o])},B=function(e,t){var n=y([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=v("row-with-gap"),i=y(t,(function(t){r(t),null==e||e(t)}),1,4,E),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,b(b({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var u=p([{id:"custom",display:"Custom",element:r},{id:"color",display:"Color",element:i}]);return v("column-with-gap",[u,r,i])},D=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},M=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(w||(w={}));var k=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.numElements=0,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.numElements=e.length,this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);console.log("setting value",t),this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=j(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.getNumElements=function(){return this.numElements},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),j=function(e){switch(e){case w.FLOAT_VEC3:return 3;case w.FLOAT_VEC4:return 4;default:A(e)}},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},K=function(e){return e.name+";"+e.type},G=new O(K),J=function(e,t,n,r){var o,i,u=n.map((function(n){var o=U({},n),i=G.get(o);if(i)return i.attributeBufferInfo.attachToProgram(t),{key:o,value:i};var u=new k(e,t,n.name,n.type),a=Y(u,!0),c=r.filter((function(e){return e.type===u.getAttributeBufferType()})),s=c.length?z(u,c,a):{element:a,unsubscribe:void 0},l=s.element,f=s.unsubscribe;return{key:o,value:{component:m(l,n.name),attributeBufferInfo:u,dispose:function(){u.deleteBuffer(),null==f||f()}}}}));return i=(o=u).map((function(e){return K(e.key)})),G.entriesStrKey().filter((function(e){return!i.includes(e[0])})).forEach((function(e){e[1].dispose(),G.deleteStrKey(e[0])})),o.forEach((function(e){G.has(e.key)||G.set(e.key,e.value)})),u.map((function(e){return e.value}))},Y=function(e,t){switch(e.getAttributeBufferType()){case w.FLOAT_VEC3:return X((function(t){e.setValue(t)}),t);case w.FLOAT_VEC4:var n=[[0,0,0,1],[0,.5,0,1],[.9,0,0,1],[0,.5,0,1],[.7,0,0,1],[.7,.5,0,1]];return e.setValue(n),W(n,(function(t){e.setValue(t)}),t);default:return q()}},q=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},z=function(e,t,n){var r=t.map((function(t){var n=Y(e,!1);return{id:V(),element:n,display:t.name,value:t.value}})),o=void 0;return{element:v("column-with-gap",H([p(H([d(n)],r),(function(t){null==o||o();var n=r.find((function(e){return e.id===t}));if(n){var i=function(t){return e.setValue(t)};n.value.attach(i),i(n.value.getValue()),o=function(){return n.value.detach(i)}}})),n],r.map((function(e){return e.element})))),unsubscribe:o}},X=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.disabled=!t,n.oninput=function(){try{var t=JSON.parse(n.value);if(console.log("result",t),Array.isArray(t))t.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(t)}catch(e){console.log("this is not a json")}},n},W=function(e,t,n){var r=document.createElement("input");return r.className="edit-input",r.disabled=!n,r.value=JSON.stringify(e),r.oninput=function(){try{var e=JSON.parse(r.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},r},Q=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},Z=acquireVsCodeApi(),$=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=V();return Z.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=V();return Z.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;Z.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),Z.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){o(this.eventListeners,e)},e}(),ee=[{id:"cube",display:"Cube"},{id:"sphere",display:"Sphere"}],te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};te(void 0,void 0,void 0,(function(){var e,t,n,r,o,c,s,l,p,d,y,g,b,E,A,T,S,O,V,P,F,N,R,B,k;return ne(this,(function(j){var U,H,K;return e=[{name:"Binding - Cube normals",type:w.FLOAT_VEC4,value:new u([1,2,3,4])},{name:"Binding - Cube tangents",type:w.FLOAT_VEC4,value:new u([1,2,3,4])}],t=new $,n=document.getElementById("viewer"),r=v("viewer-options"),o=v("viewer-shader-options"),c=v("viewer-content shader-errors"),s=Q("viewer-content"),l=s[0],p=s[1],n.appendChild(l),n.appendChild(c),n.appendChild(r),d=function(e){l.style.visibility="canvas"===e?"visible":"collapse",c.style.visibility="errors"===e?"visible":"collapse"},y=function(){t.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));P.setItems(t),R.setItems(t)}))},T=null,S=function(){o.innerHTML="";var t=p.context;if(A&&E){var n=function(e,t,n){var r=D(e,e.VERTEX_SHADER,t),o=D(e,e.FRAGMENT_SHADER,n),u=void 0;x(r,"error")&&(u=i(r.error,1));var a=void 0;return x(o,"error")&&(a=i(o.error,1)),u||a?[u,a]:M(e,r,o)}(t,E,A);if(Array.isArray(n))d("errors"),c.innerText=function(e){var t=e[0],n=e[1],r=[];return t&&r.push("VERTEX SHADER:",t),n&&r.push("FRAGMENT SHADER:",n),r.join("\r\n")}(n);else{d("canvas");var r=n,u=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(t,r),a=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(t,r),s=function(e,t,n){var r=n.map((function(n){var r=L({},n),o=_.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new C(e,t,n.name,n.type);return{key:r,value:{component:m(I(i),n.name),uniformInfo:i}}}));return _.clear(),r.forEach((function(e){return _.set(e.key,e.value)})),r.map((function(e){return e.value}))}(t,r,u);s.forEach((function(e){return o.appendChild(e.component)}));var l=J(t,r,a,e);l.forEach((function(e){return o.appendChild(e.component)}));var f=s.map((function(e){return e.uniformInfo})),h=l.map((function(e){return e.attributeBufferInfo}));null!==T&&cancelAnimationFrame(T);var v=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniformInfos.forEach((function(e){return e.setUniform()})),n.attributeBufferInfos.forEach((function(e){return e.setAttributeBuffer()}));var r=Math.min.apply(Math,n.attributeBufferInfos.map((function(e){return e.getNumElements()}))),o=e.TRIANGLES;console.log("drawing",r),e.drawArrays(o,0,r)}(t,r,{uniformInfos:f,attributeBufferInfos:h}),T=requestAnimationFrame(v)};v()}}else d("none")},r.appendChild(v("viewer-shaders-title",[(U=a,H="",K=document.createElement("h3"),K.textContent=U,K.className=H+" section-title",{element:K}).element,h("Sync","viewer-refresh-button",y).element])),O=f((function(e){return te(void 0,void 0,void 0,(function(){var n;return ne(this,(function(r){switch(r.label){case 0:return null==g||g(),e&&(g=t.subscribeToDocumentSave(e.id,(function(e){E=e,S()}))),e?[4,t.getDocumentText(e.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return E=n,S(),[2]}}))}))})),V=O[0],P=O[1],r.appendChild(m(V,"Vertex Shader")),F=f((function(e){return te(void 0,void 0,void 0,(function(){var n;return ne(this,(function(r){switch(r.label){case 0:return null==b||b(),e&&(b=t.subscribeToDocumentSave(e.id,(function(e){A=e,S()}))),e?[4,t.getDocumentText(e.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return A=n,S(),[2]}}))}))})),N=F[0],R=F[1],r.appendChild(m(N,"Fragment Shader")),B=f((function(){return S()})),k=B[0],B[1].setItems(ee),r.appendChild(m(k,"Mesh")),r.appendChild(o),y(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy93ZWJnbC91bmlmb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL29ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi90cmFuc2xhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9kcm9wZG93bi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2lucHV0TnVtYmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaW5wdXRDb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy90eXBlR3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9jb21wb3NpdGVLZXlNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi91dWlkLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd2ViZ2xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvaHRtbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW11bmljYXRpb24vdmlld2VyRW5kcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvbWVzaGVzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJyZW1vdmUiLCJhcnJheSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVMYXN0IiwidGV4dCIsImNvdW50Iiwic3Vic3RyaW5nIiwibGVuZ3RoIiwib2JzZXJ2ZXJzIiwiYXR0YWNoIiwib2JzZXJ2ZXIiLCJ0aGlzIiwicHVzaCIsImRldGFjaCIsInNldFZhbHVlIiwibmV3VmFsdWUiLCJub3RpZnkiLCJnZXRWYWx1ZSIsImZvckVhY2giLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJpZSIsInNlbGVjdGVkIiwic2V0SXRlbXMiLCJpdGVtcyIsImlubmVySFRNTCIsImRpc3BsYXkiLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZ2V0SXRlbXMiLCJtYXAiLCJzZXRTZWxlY3RlZEl0ZW1CeUluZGV4IiwiZ2V0U2VsZWN0ZWRJdGVtIiwiY2xlYXJTZWxlY3Rpb24iLCJjcmVhdGVFbGVtZW50c0Ryb3Bkb3duIiwiZWxlbWVudHMiLCJvZSIsImNsYXNzTGlzdCIsImFkZCIsIm9wdGlvbnNFbGVtZW50Iiwib3B0aW9uc0NvbnRyb2xsZXIiLCJjcmVhdGVDdXN0b21FbGVtZW50T3B0aW9uIiwiY3JlYXRlQnV0dG9uIiwib25DbGljayIsImJ1dHRvbiIsIm9uY2xpY2siLCJ3aXRoTGFiZWwiLCJ3cmFwcGVyIiwibGFiZWwiLCJjcmVhdGVEaXYiLCJjaGlsZHJlbiIsImRpdiIsImNyZWF0ZU11bHRpTnVtYmVySW5wdXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0T3B0aW9ucyIsImlucHV0R3JpZCIsImdldFZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsInR5cGUiLCJ0b1N0cmluZyIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY29sb3JJbnB1dFByb3BzIiwibWluIiwibWF4Iiwic3RlcCIsImhhc1Byb3BlcnR5Iiwib2JqIiwicHJvcCIsImFzc2VydE5ldmVyIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiQXR0cmlidXRlQnVmZmVyVHlwZSIsImNvbnRleHQiLCJwcm9ncmFtIiwiYXR0YWNoVG9Qcm9ncmFtIiwibG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJzZXR0ZXIiLCJjcmVhdGVVbmlmb3JtU2V0dGVyIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZGlzcG9zZSIsIkZMT0FUX1ZFQzIiLCJ1bmlmb3JtMmYiLCJGTE9BVF9WRUMzIiwidW5pZm9ybTNmIiwiRkxPQVRfVkVDNCIsInVuaWZvcm00ZiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImhhcyIsImVudHJpZXNTdHJLZXkiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwiZGVsZXRlU3RyS2V5IiwiZGVsZXRlIiwiY2xlYXIiLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInVuaWZvcm1Db21wb25lbnRDYWNoZSIsIkNvbXBvc2l0ZUtleU1hcCIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwic2xvdCIsInRleHR1cmVEYXRhIiwiY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCIsImlubmVyVGV4dCIsInVwZGF0ZSIsImN1c3RvbUVsZW1lbnQiLCJjb2xvckRpdiIsInNldENvbG9yIiwiY29sb3IiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb250YWluZXIiLCJjb250cm9sbGVyIiwiY3JlYXRlQ29sb3IzIiwiY29sb3JFbGVtZW50IiwiY3JlYXRlQ29sb3I0IiwiY29tcGlsZVNoYWRlciIsInJlbmRlcmluZ0NvbnRleHQiLCJzb3VyY2UiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZGVsZXRlUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwibnVtRWxlbWVudHMiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJmbGF0dGVuIiwiY29uY2F0IiwiY29uc29sZSIsImxvZyIsImJ1ZmZlckRhdGEiLCJGbG9hdDMyQXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldEF0dHJpYnV0ZUJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5Iiwic2l6ZSIsImdldE51bUNvbXBvbmVudHMiLCJGTE9BVCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJnZXRBdHRyaWJ1dGVCdWZmZXJUeXBlIiwiZ2V0TnVtRWxlbWVudHMiLCJkZWxldGVCdWZmZXIiLCJidWZmZXJUeXBlIiwiY29tcG9uZW50Q2FjaGUiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVycyIsImF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdzIiwibmV3VmFsdWVzU3RyS2V5cyIsImNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJmcm9tQ2FjaGUiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCIsImFwcGxpY2FibGVCaW5kaW5ncyIsImZpbHRlciIsImIiLCJjcmVhdGVEcm9wZG93bldpdGhCaW5kaW5ncyIsInVuc3Vic2NyaWJlIiwidW5kZWZpbmVkIiwiY29tcG9uZW50IiwidiIsImluY2x1ZGVzIiwibnciLCJlZGl0YWJsZSIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNCIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCIsImJpbmRpbmciLCJjYWxsYmFjayIsImRpc2FibGVkIiwicmVzdWx0IiwicGFyc2UiLCJpc0FycmF5IiwiZXZlcnkiLCJjcmVhdGVXZWJHTENhbnZhcyIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmVyRW50cnkiLCJ0YXJnZXQiLCJkb21SZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsInkiLCJvYnNlcnZlIiwidnNjb2RlQXBpIiwiYWNxdWlyZVZzQ29kZUFwaSIsImV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwibWVzc2FnZUlkIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsIm1lc2hlcyIsIm1lc2hBdHRyaWJ1dGVzIiwidmlld2VyRW5kcG9pbnQiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsInNob3dDb250ZW50IiwiY29udGVudCIsInZpc2liaWxpdHkiLCJzeW5jU2hhZGVyRG9jdW1lbnRzIiwidGhlbiIsInNkIiwiZiIsInZlcnRleERyb3Bkb3duQ29udHJvbGxlciIsImZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyIiwiYW5pbWF0aW9uRnJhbWVIYW5kbGUiLCJvblNoYWRlckNvbnRlbnRDaGFuZ2VkIiwic2VsZWN0ZWRGcmFnbWVudENvbnRlbnQiLCJzZWxlY3RlZFZlcnRleENvbnRlbnQiLCJ2ZXJ0ZXhTaGFkZXJDb250ZW50IiwiZnJhZ21lbnRTaGFkZXJDb250ZW50IiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwiZnJhZ21lbnRFcnJvciIsImNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSIsInZlcnRleFNoYWRlckVycm9ycyIsImZyYWdtZW50U2hhZGVyRXJyb3JzIiwiZXJyb3JzIiwiam9pbiIsImZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMiLCJwcm9ncmFtVW5pZm9ybXMiLCJudW1Vbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0UHJvZ3JhbVVuaWZvcm1zIiwicHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMiLCJudW1BdHRyaWJ1dGVCdWZmZXJzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyIsInVuaWZvcm1Db21wb25lbnRzIiwidW5pZm9ybXMiLCJVbmlmb3JtSW5mbyIsInVjIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYWIiLCJhYmMiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbmRlckluZm8iLCJ1c2VQcm9ncmFtIiwidmlld3BvcnQiLCJjbGVhckNvbG9yIiwiQ09MT1JfQlVGRkVSX0JJVCIsInVuaWZvcm1JbmZvcyIsInUiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvcyIsInByaW1pdGl2ZVR5cGUiLCJUUklBTkdMRVMiLCJkcmF3QXJyYXlzIiwicmVuZGVyUHJvZ3JhbSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5ld1ZlcnRleCIsInNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsIm5ld0NvbnRlbnQiLCJ2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQiLCJuZXdGcmFnbWVudCIsInNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwiZnJhZ21lbnREcm9wZG93bkVsZW1lbnQiLCJtZXNoRHJvcGRvd25FbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdB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aUNBLFFBQzdDa0MsRUFBYSxPQUFRLHdCQUF5QmdPLEdBQzNDbFEsV0FJRCxFQUFvREwsR0FDeEQsU0FBTThULEdBQVMsMkMsZ0VBQ2JDLGFBRUlELElBQ0ZDLEVBQXVDbkUsRUFBZUosd0JBQ3BEc0UsRUFBVS9TLElBQ1YsU0FBQWlULEdBQ0VoRCxFQUF3QmdELEVBQ3hCbEQsUUFLa0JnRCxFQUNwQixHQUFNbEUsRUFBZU4sZ0JBQWdCd0UsRUFBVS9TLEtBRDNCLE0sY0FDcEIsVyxhQUNBLEssd0JBRkppUSxFQUF3QixFQUd4QkYsSSxjQWpCR21ELEVBQXFCLEtBQUV0RCxFQUF3QixLQW9CdERaLEVBQWN0TyxZQUFZa0IsRUFBVXNSLEVBQXVCLGtCQUVyRCxFQUF3RGpVLEdBQzVELFNBQU1rVSxHQUFXLDJDLGdFQUNmQyxhQUVJRCxJQUNGQyxFQUF5Q3ZFLEVBQWVKLHdCQUN0RDBFLEVBQVluVCxJQUNaLFNBQUFpVCxHQUNFakQsRUFBMEJpRCxFQUMxQmxELFFBS29Cb0QsRUFDdEIsR0FBTXRFLEVBQWVOLGdCQUFnQjRFLEVBQVluVCxLQUQzQixNLGNBQ3RCLFcsYUFDQSxLLHdCQUZKZ1EsRUFBMEIsRUFHMUJELEksY0FqQkdzRCxFQUF1QixLQUFFeEQsRUFBMEIsS0FvQjFEYixFQUFjdE8sWUFDWmtCLEVBQVV5UixFQUF5QixvQkFHL0IsRUFBZ0RwVSxHQUFlLFdBQ25FLE9BQUE4USxPQURLdUQsRUFBbUIsS0FBd0IsS0FHM0JsVCxTQUFTdU8sSUFDaENLLEVBQWN0TyxZQUFZa0IsRUFBVTBSLEVBQXFCLFNBRXpEdEUsRUFBY3RPLFlBQVl1TyxHQUUxQk8sSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0ICogYXMgQXJyYXlVdGlscyBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2FycmF5XCI7XHJcbmV4cG9ydCB0eXBlIE9ic2VydmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4ge1xyXG4gIG9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBUIHwgbnVsbCkge31cclxuXHJcbiAgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSB7XHJcbiAgICBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLm9ic2VydmVycywgb2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBub3RpZnkoKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2gobyA9PiBvKHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHsgZW1wdHlJdGVtOiBib29sZWFuIH1cclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUluZGV4OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGdldFNlbGVjdGVkSXRlbTogKCkgPT4gRHJvcGRvd25JdGVtIHwgbnVsbDtcclxuICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY29tYmluZWRPcHRpb25zID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYGRyb3Bkb3duLWJhc2UgJHtjbGFzc05hbWV9YDtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoZSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gc2VsZWN0ZWRJdGVtPy5pZCkpIHtcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld0l0ZW1zID0gY29tYmluZWRPcHRpb25zLmVtcHR5SXRlbVxyXG4gICAgICA/IFt7IGlkOiBcIlwiLCBkaXNwbGF5OiBcIlwiIH0sIC4uLml0ZW1zXVxyXG4gICAgICA6IFsuLi5pdGVtc107XHJcbiAgICBuZXdJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xyXG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBpdGVtLmRpc3BsYXk7XHJcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQ7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goeyBlbGVtZW50OiBvcHRpb24sIGl0ZW0gfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJdGVtcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoaWUgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiB7XHJcbiAgICAgIGlmIChpZS5pdGVtLmlkID09PSBpZCkge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHNldFNlbGVjdGVkSXRlbShpZS5pdGVtKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbUJ5SW5kZXggPSAoaW5kZXg6IG51bWJlcikgPT5cclxuICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQoaXRlbUVsZW1lbnRzW2luZGV4XS5pdGVtLmlkKTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4gKGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZSkpO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBlbGVtZW50LFxyXG4gICAge1xyXG4gICAgICBzZXRJdGVtcyxcclxuICAgICAgZ2V0SXRlbXMsXHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQsXHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SW5kZXgsXHJcbiAgICAgIGdldFNlbGVjdGVkSXRlbSxcclxuICAgICAgY2xlYXJTZWxlY3Rpb24sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRWxlbWVudHNEcm9wZG93biA9IChcclxuICBlbGVtZW50czogeyBpZDogc3RyaW5nOyBkaXNwbGF5OiBzdHJpbmc7IGVsZW1lbnQ6IEhUTUxFbGVtZW50IH1bXSxcclxuICBvbkNoYW5nZT86IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbb3B0aW9uc0VsZW1lbnQsIG9wdGlvbnNDb250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgaXRlbSA9PiB7XHJcbiAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgIG9uQ2hhbmdlPy4obnVsbCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50cy5mb3JFYWNoKG9lID0+IG9lLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcbiAgICAgIGVsZW1lbnRzLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtLmlkKS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgIG9uQ2hhbmdlPy4oaXRlbS5pZCk7XHJcbiAgICB9LFxyXG4gICAgXCJcIixcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRJdGVtcyhcclxuICAgIGVsZW1lbnRzLm1hcChlID0+ICh7XHJcbiAgICAgIGlkOiBlLmlkLFxyXG4gICAgICBkaXNwbGF5OiBlLmRpc3BsYXksXHJcbiAgICB9KSlcclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldFNlbGVjdGVkSXRlbUJ5SW5kZXgoMCk7XHJcbiAgcmV0dXJuIG9wdGlvbnNFbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbUVsZW1lbnRPcHRpb24gPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+ICh7XHJcbiAgaWQ6IFwiY3VzdG9tXCIsXHJcbiAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICBlbGVtZW50LFxyXG59KTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChcclxuICB0ZXh0OiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljaztcclxuICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgcmV0dXJuIHsgZWxlbWVudDogYnV0dG9uIH07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZSA/PyBcIlwifSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goYyA9PiBkaXYuYXBwZW5kQ2hpbGQoYykpO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVNdWx0aU51bWJlcklucHV0ID0gPFQgZXh0ZW5kcyBudW1iZXJbXT4oXHJcbiAgaW5pdGlhbFZhbHVlOiBULFxyXG4gIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsXHJcbiAgcm93czogbnVtYmVyLFxyXG4gIGNvbHVtbnM6IG51bWJlcixcclxuICBpbnB1dE9wdGlvbnM/OiBQYXJ0aWFsPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IFQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGlucHV0R3JpZC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtZ3JpZFwiO1xyXG5cclxuICBjb25zdCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTElucHV0RWxlbWVudDsgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF07XHJcbiAgICAgIGllLmVsZW1lbnQudmFsdWUgPSBpZS52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICBjb25zdCBzZXRSZWFkb25seSA9IChyZWFkb25seTogYm9vbGVhbikgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgY29sb3JJbnB1dFByb3BzID0ge1xyXG4gIG1pbjogXCIwXCIsXHJcbiAgbWF4OiBcIjFcIixcclxuICBzdGVwOiBcIjAuMVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjQgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yNCkgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yNDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41LCAxXSBhcyBDb2xvcjQ7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LCR7Y29sb3JbM119KWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yND4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDQsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3IzID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjMpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjM7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNV0gYXMgQ29sb3IzO1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwxKWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yMz4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDMsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSA8VCBleHRlbmRzIHt9LCBQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxyXG4gIG9iajogVCxcclxuICBwcm9wOiBQXHJcbik6IG9iaiBpcyBUICYgUmVjb3JkPFAsIHVua25vd24+ID0+IHtcclxuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KHByb3ApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFzc2VydE5ldmVyID0gKHZhbHVlOiBuZXZlcik6IG5ldmVyID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCB1bmlvbiBtZW1iZXI6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBudW1FbGVtZW50czogbnVtYmVyID0gMDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHRoaXMuYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIHRoaXMubG9jYXRpb24gPSB0aGlzLmNvbnRleHQuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgdGhpcy5uYW1lKTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXJbXVtdKSB7XHJcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gbmV3VmFsdWUubGVuZ3RoO1xyXG4gICAgdGhpcy5jb250ZXh0LmJpbmRCdWZmZXIodGhpcy5jb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xyXG4gICAgY29uc3QgZmxhdHRlbiA9IFtdLmNvbmNhdCguLi5uZXdWYWx1ZSk7XHJcbiAgICBjb25zb2xlLmxvZyhcInNldHRpbmcgdmFsdWVcIiwgZmxhdHRlbik7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0TnVtRWxlbWVudHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5udW1FbGVtZW50cztcclxuICB9XHJcblxyXG4gIGRlbGV0ZUJ1ZmZlcigpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5oYXModGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIGVudHJpZXNTdHJLZXkoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC5lbnRyaWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlU3RyS2V5KGtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZShrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmRlbGV0ZSh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCIvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZURyb3Bkb3duLFxyXG4gIGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24sXHJcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlQ29sb3IzLCBjcmVhdGVDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5cclxuY29uc3QgdW5pZm9ybUNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbyB9XHJcbj4oa2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgdW5pZm9ybXM6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBVbmlmb3JtVHlwZSB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSB1bmlmb3Jtcy5tYXAodW5pZm9ybSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLnVuaWZvcm0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IHVuaWZvcm1Db21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS51bmlmb3JtSW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdW5pZm9ybUluZm8gPSBuZXcgVW5pZm9ybUluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZSxcclxuICAgICAgICB1bmlmb3JtLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZVVuaWZvcm1Db21wb25lbnQodW5pZm9ybUluZm8pLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMiA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlRWxlbWVudHNEcm9wZG93bihbXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcImN1c3RvbVwiLFxyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6IFwiY29sb3JcIixcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIF0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNCxcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3I0KHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yNCh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFtcclxuICAgIHsgaWQ6IFwiY3VzdG9tXCIsIGRpc3BsYXk6IFwiQ3VzdG9tXCIsIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQgfSxcclxuICAgIHsgaWQ6IFwiY29sb3JcIiwgZGlzcGxheTogXCJDb2xvclwiLCBlbGVtZW50OiBjb2xvckVsZW1lbnQgfSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcbiIsImltcG9ydCB7IHJlbW92ZUxhc3QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2FycmF5XCI7XHJcbmltcG9ydCB7IGhhc1Byb3BlcnR5IH0gZnJvbSBcIi4uL3R5cGVHdWFyZHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlciA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdHlwZTogR0xlbnVtLFxyXG4gIHNvdXJjZTogc3RyaW5nXHJcbik6IFdlYkdMU2hhZGVyIHwgeyBlcnJvcjogc3RyaW5nIH0gPT4ge1xyXG4gIGNvbnN0IHNoYWRlciA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJQYXJhbWV0ZXIoXHJcbiAgICBzaGFkZXIsXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkNPTVBJTEVfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHNoYWRlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlcnJvcixcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdmVydGV4U2hhZGVyQ29udGVudDogc3RyaW5nLFxyXG4gIGZyYWdtZW50U2hhZGVyQ29udGVudDogc3RyaW5nXHJcbikgPT4ge1xyXG4gIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5WRVJURVhfU0hBREVSLFxyXG4gICAgdmVydGV4U2hhZGVyQ29udGVudFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihcclxuICAgIGNvbnRleHQsXHJcbiAgICBjb250ZXh0LkZSQUdNRU5UX1NIQURFUixcclxuICAgIGZyYWdtZW50U2hhZGVyQ29udGVudFxyXG4gICk7XHJcblxyXG4gIGxldCB2ZXJ0ZXhFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gIGlmIChoYXNQcm9wZXJ0eSh2ZXJ0ZXhTaGFkZXIsIFwiZXJyb3JcIikpIHtcclxuICAgIHZlcnRleEVycm9yID0gcmVtb3ZlTGFzdCh2ZXJ0ZXhTaGFkZXIuZXJyb3IsIDEpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGZyYWdtZW50RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkoZnJhZ21lbnRTaGFkZXIsIFwiZXJyb3JcIikpIHtcclxuICAgIGZyYWdtZW50RXJyb3IgPSByZW1vdmVMYXN0KGZyYWdtZW50U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGlmICh2ZXJ0ZXhFcnJvciB8fCBmcmFnbWVudEVycm9yKSB7XHJcbiAgICAvL3RvZG8gY2xlYW51cFxyXG4gICAgcmV0dXJuIFt2ZXJ0ZXhFcnJvciwgZnJhZ21lbnRFcnJvcl0gYXMgU2hhZGVyQ29tcGlsZUVycm9ycztcclxuICB9XHJcblxyXG4gIHJldHVybiBjcmVhdGVQcm9ncmFtKGNvbnRleHQsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXHJcbiAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHByb2dyYW0gPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5MSU5LX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBwcm9ncmFtO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ3JlYXRpbmcgcHJvZ3JhbSBmYWlsZWQ6ICR7cmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtVW5pZm9ybXMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1Vbmlmb3JtcyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9VTklGT1JNU1xyXG4gICk7XHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1Vbmlmb3JtczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgdW5pZm9ybSA9IGNvbnRleHQuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IHVuaWZvcm0ubmFtZSwgdHlwZTogdW5pZm9ybS50eXBlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtXHJcbikgPT4ge1xyXG4gIGNvbnN0IG51bUF0dHJpYnV0ZUJ1ZmZlcnMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfQVRUUklCVVRFU1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1BdHRyaWJ1dGVCdWZmZXJzOyArK2luZGV4KSB7XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSBjb250ZXh0LmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZUJ1ZmZlci5uYW1lLCB0eXBlOiBhdHRyaWJ1dGVCdWZmZXIudHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyUHJvZ3JhbSA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHJlbmRlckluZm86IHtcclxuICAgIHVuaWZvcm1JbmZvczogVW5pZm9ybUluZm9bXTtcclxuICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm9zOiBBdHRyaWJ1dGVCdWZmZXJJbmZvW107XHJcbiAgICAvL3RleHR1cmVzXHJcbiAgfVxyXG4pID0+IHtcclxuICBjb250ZXh0LnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgY29udGV4dC52aWV3cG9ydCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcclxuICBjb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgY29udGV4dC5jbGVhcihjb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICByZW5kZXJJbmZvLnVuaWZvcm1JbmZvcy5mb3JFYWNoKHUgPT4gdS5zZXRVbmlmb3JtKCkpO1xyXG4gIHJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVySW5mb3MuZm9yRWFjaChhYiA9PiBhYi5zZXRBdHRyaWJ1dGVCdWZmZXIoKSk7XHJcbiAgY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAgIC4uLnJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVySW5mb3MubWFwKGFiID0+IGFiLmdldE51bUVsZW1lbnRzKCkpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcbiAgY29uc29sZS5sb2coXCJkcmF3aW5nXCIsIG51bUVsZW1lbnRzKTtcclxuXHJcbiAgY29udGV4dC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgbnVtRWxlbWVudHMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU2hhZGVyQ29tcGlsZUVycm9ycyA9IFtcclxuICB2ZXJ0ZXhTaGFkZXJFcnJvcnM6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckVycm9yczogc3RyaW5nXHJcbl07XHJcbmV4cG9ydCBjb25zdCBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzID0gKHJlc3VsdDogU2hhZGVyQ29tcGlsZUVycm9ycykgPT4ge1xyXG4gIGNvbnN0IFt2ZXJ0ZXhTaGFkZXJFcnJvcnMsIGZyYWdtZW50U2hhZGVyRXJyb3JzXSA9IHJlc3VsdDtcclxuXHJcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBpZiAodmVydGV4U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIlZFUlRFWCBTSEFERVI6XCIsIHZlcnRleFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZnJhZ21lbnRTaGFkZXJFcnJvcnMpIHtcclxuICAgIGVycm9ycy5wdXNoKFwiRlJBR01FTlQgU0hBREVSOlwiLCBmcmFnbWVudFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JzLmpvaW4oXCJcXHJcXG5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUN1c3RvbUVsZW1lbnRPcHRpb24sXHJcbiAgY3JlYXRlRWxlbWVudHNEcm9wZG93bixcclxufSBmcm9tIFwiLi8uLi8uLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuLi8uLi91dGlscy9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgVW5zdWJzY3JpYmUsIGZvbyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdHlwZXNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2lucHV0TnVtYmVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiwgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL29ic2VydmFibGVcIjtcclxuXHJcbnR5cGUgQ2FjaGVLZXkgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbn07XHJcblxyXG50eXBlIENhY2hlVmFsdWUgPSB7XHJcbiAgY29tcG9uZW50OiBIVE1MRWxlbWVudDtcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvO1xyXG4gIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBrZXlTZWxlY3RvciA9IChrZXk6IENhY2hlS2V5KTogc3RyaW5nID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWA7XHJcbmNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxDYWNoZUtleSwgQ2FjaGVWYWx1ZT4oa2V5U2VsZWN0b3IpO1xyXG5cclxuY29uc3QgcmVidWlsZENhY2hlID0gKG5ld1ZhbHVlczogeyBrZXk6IENhY2hlS2V5OyB2YWx1ZTogQ2FjaGVWYWx1ZSB9W10pID0+IHtcclxuICBjb25zdCBuZXdWYWx1ZXNTdHJLZXlzID0gbmV3VmFsdWVzLm1hcCh2ID0+IGtleVNlbGVjdG9yKHYua2V5KSk7XHJcbiAgY29uc3QgY29tcG9uZW50c1RvUmVtb3ZlID0gY29tcG9uZW50Q2FjaGVcclxuICAgIC5lbnRyaWVzU3RyS2V5KClcclxuICAgIC5maWx0ZXIoZSA9PiAhbmV3VmFsdWVzU3RyS2V5cy5pbmNsdWRlcyhlWzBdKSk7XHJcblxyXG4gIGNvbXBvbmVudHNUb1JlbW92ZS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgY1sxXS5kaXNwb3NlKCk7XHJcbiAgICBjb21wb25lbnRDYWNoZS5kZWxldGVTdHJLZXkoY1swXSk7XHJcbiAgfSk7XHJcblxyXG4gIG5ld1ZhbHVlcy5mb3JFYWNoKG53ID0+IHtcclxuICAgIGlmICghY29tcG9uZW50Q2FjaGUuaGFzKG53LmtleSkpIGNvbXBvbmVudENhY2hlLnNldChudy5rZXksIG53LnZhbHVlKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmcgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbiAgdmFsdWU6IE9ic2VydmFibGU8YW55PjtcclxuICAvL3N1YnNjcmliZVRvQ2hhbmdlV2l0aExhdGVzdDogKG5ld1ZhbHVlOiBhbnkpID0+IFVuc3Vic2NyaWJlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICBhdHRyaWJ1dGVCdWZmZXJzOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10sXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M6IEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdbXVxyXG4pID0+IHtcclxuICBjb25zdCBjb21wb25lbnRzID0gYXR0cmlidXRlQnVmZmVycy5tYXAoYXR0cmlidXRlQnVmZmVyID0+IHtcclxuICAgIGNvbnN0IGtleSA9IHtcclxuICAgICAgLi4uYXR0cmlidXRlQnVmZmVyLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSBjb21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS5hdHRyaWJ1dGVCdWZmZXJJbmZvLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZTogZnJvbUNhY2hlIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJJbmZvID0gbmV3IEF0dHJpYnV0ZUJ1ZmZlckluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci50eXBlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBjdXN0b21FbGVtZW50ID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50KFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgYXBwbGljYWJsZUJpbmRpbmdzID0gYXR0cmlidXRlQnVmZmVyQmluZGluZ3MuZmlsdGVyKFxyXG4gICAgICAgIGIgPT4gYi50eXBlID09PSBhdHRyaWJ1dGVCdWZmZXJJbmZvLmdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgeyBlbGVtZW50LCB1bnN1YnNjcmliZSB9ID0gYXBwbGljYWJsZUJpbmRpbmdzLmxlbmd0aFxyXG4gICAgICAgID8gY3JlYXRlRHJvcGRvd25XaXRoQmluZGluZ3MoXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgICAgICAgICAgIGFwcGxpY2FibGVCaW5kaW5ncyxcclxuICAgICAgICAgICAgY3VzdG9tRWxlbWVudFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIDoge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgICAgICAgICB1bnN1YnNjcmliZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAga2V5LFxyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBjb21wb25lbnQ6IHdpdGhMYWJlbChlbGVtZW50LCBhdHRyaWJ1dGVCdWZmZXIubmFtZSksXHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLmRlbGV0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICB1bnN1YnNjcmliZT8uKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJlYnVpbGRDYWNoZShjb21wb25lbnRzKTtcclxuICByZXR1cm4gY29tcG9uZW50cy5tYXAoYyA9PiBjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCA9IChcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gIGVkaXRhYmxlOiBib29sZWFuXHJcbikgPT4ge1xyXG4gIHN3aXRjaCAoYXR0cmlidXRlQnVmZmVySW5mby5nZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCkpIHtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzKHZhbHVlID0+IHtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgfSwgZWRpdGFibGUpO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdID0gW1xyXG4gICAgICAgIFswLCAwLCAwLCAxXSxcclxuICAgICAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgICAgICBbMC45LCAwLCAwLCAxXSxcclxuICAgICAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgICAgICBbMC43LCAwLCAwLCAxXSxcclxuICAgICAgICBbMC43LCAwLjUsIDAsIDFdLFxyXG4gICAgICBdO1xyXG4gICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKGluaXRpYWxWYWx1ZSk7XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQoXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgICAgIHZhbHVlID0+IHtcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWRpdGFibGVcclxuICAgICAgKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgYXR0cmlidXRlIGJ1ZmZlclwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRHJvcGRvd25XaXRoQmluZGluZ3MgPSAoXHJcbiAgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mbyxcclxuICBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5nczogQXR0cmlidXRlQnVmZmVyQmluZGluZ1tdLFxyXG4gIGN1c3RvbUVsZW1lbnQ6IEhUTUxFbGVtZW50XHJcbikgPT4ge1xyXG4gIGNvbnN0IG9wdGlvbnMgPSBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5tYXAoYmluZGluZyA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50KGF0dHJpYnV0ZUJ1ZmZlckluZm8sIGZhbHNlKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB1dWlkdjQoKSxcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgZGlzcGxheTogYmluZGluZy5uYW1lLFxyXG4gICAgICB2YWx1ZTogYmluZGluZy52YWx1ZSxcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG4gIGxldCB1bnN1YnNjcmliZTogKCkgPT4gdm9pZCA9IHVuZGVmaW5lZDtcclxuICBjb25zdCBlbGVtZW50ID0gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24oXHJcbiAgICAgIFtjcmVhdGVDdXN0b21FbGVtZW50T3B0aW9uKGN1c3RvbUVsZW1lbnQpLCAuLi5vcHRpb25zXSxcclxuICAgICAgaWQgPT4ge1xyXG4gICAgICAgIHVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gb3B0aW9ucy5maW5kKG8gPT4gby5pZCA9PT0gaWQpO1xyXG4gICAgICAgIGlmICghb3B0aW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHZhbHVlOiBhbnkpID0+IGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIG9wdGlvbi52YWx1ZS5hdHRhY2goY2FsbGJhY2spO1xyXG4gICAgICAgIGNhbGxiYWNrKG9wdGlvbi52YWx1ZS5nZXRWYWx1ZSgpKTtcclxuICAgICAgICB1bnN1YnNjcmliZSA9ICgpID0+IG9wdGlvbi52YWx1ZS5kZXRhY2goY2FsbGJhY2spO1xyXG4gICAgICB9XHJcbiAgICApLFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIC4uLm9wdGlvbnMubWFwKG8gPT4gby5lbGVtZW50KSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIHsgZWxlbWVudCwgdW5zdWJzY3JpYmUgfTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yM1tdKSA9PiB2b2lkLFxyXG4gIGVkaXRhYmxlOiBib29sZWFuXHJcbikgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LmRpc2FibGVkID0gIWVkaXRhYmxlO1xyXG4gIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcclxuICAgICAgY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeShlID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDMgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBqc29uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGlmIChhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5sZW5ndGgpIHtcclxuICAvLyAgIC8vYXR0cmlidXRlQnVmZmVyQmluZGluZ3MubWFwKGIgPT4gYi4pXHJcbiAgLy8gICAvL3ByZXZpZXcgZWxlbWVudFxyXG4gIC8vICAgY29uc3QgdW5zdWIgPSBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5nc1s5XS5zdWJzY3JpYmVUb0NoYW5nZSh1cGRhdGUpO1xyXG4gIC8vICAgY29uc3QgYmluZCA9IHtcclxuICAvLyAgICAgZGlzcGxheTogXCJCaW5kIC0gXCIsXHJcbiAgLy8gICB9O1xyXG4gIC8vICAgLy9jb25zdCB7IGJpbmRpbmdPcHRpb25zLCB1bnN1YnNjcmliZSB9ID1cclxuICAvLyAgIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlRWxlbWVudHNEcm9wZG93bih7XHJcbiAgLy8gICAgIGN1c3RvbToge1xyXG4gIC8vICAgICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgLy8gICAgICAgZWxlbWVudDogaW5wdXQsXHJcbiAgLy8gICAgIH0sXHJcbiAgLy8gICB9KTtcclxuICAvLyB9XHJcblxyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQgPSAoXHJcbiAgaW5pdGlhbFZhbHVlOiBWZWN0b3I0W10sXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjRbXSkgPT4gdm9pZCxcclxuICBlZGl0YWJsZTogYm9vbGVhblxyXG4pID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAvL2NvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAvL09iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgaW5wdXQuZGlzYWJsZWQgPSAhZWRpdGFibGU7XHJcbiAgaW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShpbml0aWFsVmFsdWUpO1xyXG4gIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KGUgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gNCA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBqc29uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy9Xcm9uZyBmb3JtYXQhIFNob3VsZCBiZSBbW3gxLHkxXSwgW3gyLHkyXSwgLi4uXVxyXG4gIHJldHVybiBpbnB1dDtcclxufTtcclxuIiwiaW1wb3J0IHsgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgfSBmcm9tIFwiLi4vdXRpbHMvaHRtbFwiO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViR0xDYW52YXMgPSAoXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuKTogW1xyXG4gIEhUTUxDYW52YXNFbGVtZW50LFxyXG4gIHtcclxuICAgIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbiAgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QoY2FudmFzLCByZWN0ID0+IHtcclxuICAgIGNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgfSk7XHJcblxyXG4gIGlmICghY29udGV4dCkge1xyXG4gICAgLy90b2RvIG1vdmUgdG8gZXJyb3JzXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHdlYmdsIGNvbnRleHRcIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW1xyXG4gICAgY2FudmFzLFxyXG4gICAge1xyXG4gICAgICBjb250ZXh0LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbGVtZW50cyA9PiB7XHJcbiAgICBjb25zdCBvYnNlcnZlckVudHJ5ID0gZWxlbWVudHMuZmluZChlID0+IGUudGFyZ2V0ID09PSBlbGVtZW50KTtcclxuXHJcbiAgICBpZiAob2JzZXJ2ZXJFbnRyeSkge1xyXG4gICAgICBjb25zdCBkb21SZWN0ID0gb2JzZXJ2ZXJFbnRyeS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNhbGxiYWNrKHtcclxuICAgICAgICB4OiBkb21SZWN0LngsXHJcbiAgICAgICAgeTogZG9tUmVjdC55LFxyXG4gICAgICAgIHdpZHRoOiBkb21SZWN0LndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogZG9tUmVjdC5oZWlnaHQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xyXG4gIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbn07XHJcbiIsImltcG9ydCB7IHJlbW92ZSB9IGZyb20gXCIuLi9hcnJheVwiO1xyXG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi4vdXVpZFwiO1xyXG5pbXBvcnQgeyBNZXNzYWdlUmVxdWVzdCwgTWVzc2FnZVJlc3BvbnNlIH0gZnJvbSBcIi4vbWVzc2FnZXNcIjtcclxuXHJcbmRlY2xhcmUgY29uc3QgYWNxdWlyZVZzQ29kZUFwaTogKCkgPT4ge1xyXG4gIC8vZ2V0U3RhdGU6ICgpID0+IGFueTtcclxuICAvL3NldFN0YXRlOiAoc3RhdGU6IGFueSkgPT4gdm9pZDtcclxuICBwb3N0TWVzc2FnZTogKG1lc3NhZ2U6IE1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZzY29kZUFwaSA9IGFjcXVpcmVWc0NvZGVBcGkoKTtcclxuXHJcbnR5cGUgUmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlld2VyRW5kcG9pbnQge1xyXG4gIGV2ZW50TGlzdGVuZXJzOiBSZXNwb25zZUxpc3RlbmVyW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZXZlbnQgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZXZlbnQuZGF0YSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRTaGFkZXJEb2N1bWVudHMoKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSB1dWlkdjQoKTtcclxuXHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiLFxyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHsgZmlsZVBhdGg6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZyB9W10+KHJlc29sdmUgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldFNoYWRlckRvY3VtZW50c1wiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQuZmlsZXMpO1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0RG9jdW1lbnRUZXh0KGZpbGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldERvY3VtZW50VGV4dFwiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4gdm9pZFxyXG4gICk6ICgpID0+IHZvaWQge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBtZXNzYWdlLnR5cGUgPT09IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiAmJlxyXG4gICAgICAgIG1lc3NhZ2UucGF5bG9hZC5maWxlUGF0aCA9PT0gZmlsZVBhdGhcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIixcclxuICAgICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBSZXNwb25zZUxpc3RlbmVyKSB7XHJcbiAgICByZW1vdmUodGhpcy5ldmVudExpc3RlbmVycywgbGlzdGVuZXIpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgbWVzaGVzID0gW1xyXG4gIHtcclxuICAgIGlkOiBcImN1YmVcIixcclxuICAgIGRpc3BsYXk6IFwiQ3ViZVwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IFwic3BoZXJlXCIsXHJcbiAgICBkaXNwbGF5OiBcIlNwaGVyZVwiLFxyXG4gIH0sXHJcbl07XHJcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi91dGlscy9vYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7IHRyYW5zbGF0aW9ucyB9IGZyb20gXCIuLi8uLi9jb21tb24vdHJhbnNsYXRpb25zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZWN0aW9uVGl0bGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2hlYWRlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVCdXR0b24gYXMgY3JlYXRlQnV0dG9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9idXR0b25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2LCB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIH0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvdW5pZm9ybUNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG4gIGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSxcclxuICBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzLFxyXG4gIGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzLFxyXG4gIGdldFByb2dyYW1Vbmlmb3JtcyxcclxuICByZW5kZXJQcm9ncmFtLFxyXG4gIFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbn0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvaW5kZXhcIjtcclxuaW1wb3J0IHtcclxuICBBdHRyaWJ1dGVCdWZmZXJCaW5kaW5nLFxyXG4gIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMsXHJcbn0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVdlYkdMQ2FudmFzIH0gZnJvbSBcIi4vY29tcG9uZW50cy93ZWJnbENhbnZhc1wiO1xyXG5pbXBvcnQgeyBWaWV3ZXJFbmRwb2ludCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29tbXVuaWNhdGlvbi92aWV3ZXJFbmRwb2ludFwiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IG1lc2hlcyB9IGZyb20gXCIuL21lc2hlc1wiO1xyXG5cclxuY29uc3QgY3JlYXRlVmlld2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IG1lc2hBdHRyaWJ1dGVzOiBBdHRyaWJ1dGVCdWZmZXJCaW5kaW5nW10gPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmluZGluZyAtIEN1YmUgbm9ybWFsc1wiLFxyXG4gICAgICB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQsXHJcbiAgICAgIHZhbHVlOiBuZXcgT2JzZXJ2YWJsZShbMSwgMiwgMywgNF0pLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJCaW5kaW5nIC0gQ3ViZSB0YW5nZW50c1wiLFxyXG4gICAgICB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQsXHJcbiAgICAgIHZhbHVlOiBuZXcgT2JzZXJ2YWJsZShbMSwgMiwgMywgNF0pLFxyXG4gICAgfSxcclxuICBdO1xyXG5cclxuICAvL29uY2hhbmdlIHVkcGF0ZSBlbndMb2NhbFxyXG4gIGNvbnN0IHZpZXdlckVuZHBvaW50ID0gbmV3IFZpZXdlckVuZHBvaW50KCk7XHJcbiAgY29uc3Qgdmlld2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItY29udGVudCBzaGFkZXItZXJyb3JzXCIpO1xyXG4gIGNvbnN0IFt3ZWJHTENhbnZhcywgd2ViR0xDb250cm9sbGVyXSA9IGNyZWF0ZVdlYkdMQ2FudmFzKFwidmlld2VyLWNvbnRlbnRcIik7XHJcblxyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh3ZWJHTENhbnZhcyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQodmlld2VyT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHNob3dDb250ZW50ID0gKGNvbnRlbnQ6IFwiY2FudmFzXCIgfCBcImVycm9yc1wiIHwgXCJub25lXCIpID0+IHtcclxuICAgIHdlYkdMQ2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImNhbnZhc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJlcnJvcnNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN5bmNTaGFkZXJEb2N1bWVudHMgPSAoKSA9PiB7XHJcbiAgICB2aWV3ZXJFbmRwb2ludC5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoZiA9PiAoe1xyXG4gICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZFZlcnRleENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBhbmltYXRpb25GcmFtZUhhbmRsZTogbnVtYmVyID0gbnVsbDtcclxuXHJcbiAgY29uc3Qgb25TaGFkZXJDb250ZW50Q2hhbmdlZCA9ICgpID0+IHtcclxuICAgIHNoYWRlck9wdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3ZWJHTENvbnRyb2xsZXIuY29udGV4dDtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgJiYgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZShcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCxcclxuICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiZXJyb3JzXCIpO1xyXG4gICAgICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLmlubmVyVGV4dCA9IGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMoXHJcbiAgICAgICAgICByZXN1bHQgYXMgU2hhZGVyQ29tcGlsZUVycm9yc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHJlc3VsdCBhcyBXZWJHTFByb2dyYW07XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbVVuaWZvcm1zID0gZ2V0UHJvZ3JhbVVuaWZvcm1zKGNvbnRleHQsIHByb2dyYW0pO1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzID0gZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIHByb2dyYW1Vbmlmb3Jtc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdW5pZm9ybUNvbXBvbmVudHMuZm9yRWFjaCh1YyA9PlxyXG4gICAgICAgICAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZCh1Yy5jb21wb25lbnQpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIHByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzLFxyXG4gICAgICAgICAgbWVzaEF0dHJpYnV0ZXNcclxuICAgICAgICApO1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMuZm9yRWFjaChhYiA9PlxyXG4gICAgICAgICAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZChhYi5jb21wb25lbnQpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgdW5pZm9ybUluZm9zID0gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnVuaWZvcm1JbmZvKTtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJJbmZvcyA9IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMubWFwKFxyXG4gICAgICAgICAgYWJjID0+IGFiYy5hdHRyaWJ1dGVCdWZmZXJJbmZvXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lSGFuZGxlICE9PSBudWxsKVxyXG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVIYW5kbGUpO1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJQcm9ncmFtKGNvbnRleHQsIHByb2dyYW0sIHtcclxuICAgICAgICAgICAgdW5pZm9ybUluZm9zLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvcyxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYW5pbWF0aW9uRnJhbWVIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0NvbnRlbnQoXCJub25lXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVycy10aXRsZVwiLCBbXHJcbiAgICAgIGNyZWF0ZVNlY3Rpb25UaXRsZSh0cmFuc2xhdGlvbnMuc2hhZGVycywgXCJcIikuZWxlbWVudCxcclxuICAgICAgY3JlYXRlQnV0dG9uKFwiU3luY1wiLCBcInZpZXdlci1yZWZyZXNoLWJ1dHRvblwiLCBzeW5jU2hhZGVyRG9jdW1lbnRzKVxyXG4gICAgICAgIC5lbGVtZW50LFxyXG4gICAgXSlcclxuICApO1xyXG5cclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyBuZXdWZXJ0ZXggPT4ge1xyXG4gICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld1ZlcnRleCkge1xyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSA9IHZpZXdlckVuZHBvaW50LnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3VmVydGV4LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdWZXJ0ZXhcclxuICAgICAgICA/IGF3YWl0IHZpZXdlckVuZHBvaW50LmdldERvY3VtZW50VGV4dChuZXdWZXJ0ZXguaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbCh2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIFwiVmVydGV4IFNoYWRlclwiKSk7XHJcblxyXG4gIGNvbnN0IFtmcmFnbWVudERyb3Bkb3duRWxlbWVudCwgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyBuZXdGcmFnbWVudCA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdGcmFnbWVudCkge1xyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdmlld2VyRW5kcG9pbnQuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdGcmFnbWVudC5pZCxcclxuICAgICAgICAgIG5ld0NvbnRlbnQgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0ZyYWdtZW50XHJcbiAgICAgICAgPyBhd2FpdCB2aWV3ZXJFbmRwb2ludC5nZXREb2N1bWVudFRleHQobmV3RnJhZ21lbnQuaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKGZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBcIkZyYWdtZW50IFNoYWRlclwiKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFttZXNoRHJvcGRvd25FbGVtZW50LCBtZXNoRHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKCgpID0+XHJcbiAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKClcclxuICApO1xyXG4gIG1lc2hEcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMobWVzaGVzKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChtZXNoRHJvcGRvd25FbGVtZW50LCBcIk1lc2hcIikpO1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHNoYWRlck9wdGlvbnMpO1xyXG5cclxuICBzeW5jU2hhZGVyRG9jdW1lbnRzKCk7XHJcbn07XHJcblxyXG5jcmVhdGVWaWV3ZXIoKTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZVNlY3Rpb25UaXRsZSA9ICh0ZXh0OiBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gc2VjdGlvbi10aXRsZWA7XHJcbiAgcmV0dXJuIHsgZWxlbWVudCB9O1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9