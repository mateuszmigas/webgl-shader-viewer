!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},l=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},f=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},p=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},d=function(e){return p([0,0,0],e,1,3)},m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h={min:"0",max:"1",step:"0.1"},v=function(e,t){return e.hasOwnProperty(t)},y=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},g=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var b,x=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=E(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),E=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,g([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,g([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,g([n],e))};case r.SAMPLER_2D:return function(e){};default:y(e)}},A=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=new A((function(e){return e.name+";"+e.type})),S=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return L((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return P((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),F(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return _((function(t){T();e.setValue({slot:t.slot,textureData:!0})}));default:return O()}},O=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},V=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},L=function(e){var t=p([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},_=function(e){var t=d(),n=t[0];return t[1].setValues([0,0,0]),n},P=function(e){var t=d(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=f("row-with-gap"),i=p(t,(function(t){r(t),null==e||e(t)}),1,3,h),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,m(m({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=V({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return f("column-with-gap",[i,n,o])},F=function(e,t){var n=p([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=f("row-with-gap"),i=p(t,(function(t){r(t),null==e||e(t)}),1,4,h),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,m(m({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=V({custom:{display:"Custom",element:r},color:{display:"Color",element:i}});return f("column-with-gap",[a,r,i])},N=function(e,t){return e.substring(0,e.length-t)},I=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},R=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(b||(b={}));var D=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=B(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),B=function(e){switch(e){case b.FLOAT_VEC3:return 3;case b.FLOAT_VEC4:return 4;default:y(e)}},j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};console.log(2);var M=new A((function(e){return e.name+";"+e.type})),k=function(e){switch(e.getAttributeBufferType()){case b.FLOAT_VEC3:return[H((function(t){e.setValue(t)})),function(){}];case b.FLOAT_VEC4:var t=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(t),[G(t,(function(t){e.setValue(t)})),function(){}];default:return[U(),function(){}]}},U=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},H=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},G=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},J=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},Y=acquireVsCodeApi(),q=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=T();return Y.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=T();return Y.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;Y.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),Y.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};z(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,p,d,m,h,y,g,b,E,A,T,O,V,L,_,P,F,B;return X(this,(function(U){var H,G,Y;return e=new q,t=document.getElementById("viewer"),n=f("viewer-options"),r=f("viewer-shader-options"),i=f("viewer-content shader-errors"),a=J("viewer-content"),u=a[0],p=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),d=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},m=function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));V.setItems(t),P.setItems(t)}))},E=null,A=function(){r.innerHTML="";var e,t,n,o,a=p.context;if(b&&g){var u=function(e,t,n){var r=I(e,e.VERTEX_SHADER,t),o=I(e,e.FRAGMENT_SHADER,n),i=void 0;v(r,"error")&&(i=N(r.error,1));var a=void 0;return v(o,"error")&&(a=N(o.error,1)),i||a?[i,a]:R(e,r,o)}(a,g,b);if(Array.isArray(u))d("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{d("canvas");var c=u,s=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),f=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),m=function(e,t,n){var r=n.map((function(n){var r=w({},n),o=C.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new x(e,t,n.name,n.type);return{key:r,value:{component:l(S(i),n.name),uniformInfo:i}}}));return C.clear(),r.forEach((function(e){return C.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,s);m.forEach((function(e){return r.appendChild(e.component)}));var h=function(e,t,n,r){var o=n.map((function(n){var r=j({},n),o=M.get(r);if(o)return o.attributeBufferInfo.attachToProgram(t),{key:r,value:o};var i=new D(e,t,n.name,n.type),a=k(i),u=a[0],c=a[1];return{key:r,value:{component:l(u,n.name),attributeBufferInfo:i,dispose:function(){i.deleteBuffer(),c()}}}}));return o.map((function(e){return e.value}))}(a,c,f);h.forEach((function(e){return r.appendChild(e.component)}));var y=m.map((function(e){return e.uniformInfo})),A=h.map((function(e){return e.attributeBufferInfo}));null!==E&&cancelAnimationFrame(E);var T=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(p.context,u,{uniforms:y,attributeBuffers:A}),E=requestAnimationFrame(T)};T()}}else d("none")},n.appendChild(f("viewer-shaders-title",[(H=o,G="",Y=document.createElement("h3"),Y.textContent=H,Y.className=G+" section-title",{element:Y}).element,s("Sync","viewer-refresh-button",m).element])),T=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==h||h(),t&&(h=e.subscribeToDocumentSave(t.id,(function(e){g=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return g=n,A(),[2]}}))}))})),O=T[0],V=T[1],n.appendChild(l(O,"Vertex Shader")),L=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==y||y(),t&&(y=e.subscribeToDocumentSave(t.id,(function(e){b=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return b=n,A(),[2]}}))}))})),_=L[0],P=L[1],n.appendChild(l(_,"Fragment Shader")),F=c((function(){})),B=F[0],F[1].setItems([{id:"cube",display:"Cube"},{id:"circle",display:"Circle"}]),n.appendChild(l(B,"Mesh")),n.appendChild(r),m(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi90cmFuc2xhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvYnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd3JhcHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaW5wdXROdW1iZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9pbnB1dENvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3R5cGVHdWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL2NvbXBvc2l0ZUtleU1hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3V1aWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2FycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd2ViZ2xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvaHRtbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW11bmljYXRpb24vdmlld2VyRW5kcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9oZWFkZXIudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVbmlmb3JtVHlwZSIsInRyYW5zbGF0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJdGVtIiwiY3JlYXRlRHJvcGRvd24iLCJvbkNoYW5nZSIsImNsYXNzTmFtZSIsIm9wdGlvbnMiLCJjb21iaW5lZE9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldEl0ZW1zIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJsZW5ndGgiLCJkaXNwbGF5IiwiZm9yRWFjaCIsIm9wdGlvbiIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJnZXRJdGVtcyIsIm1hcCIsImllIiwic2V0U2VsZWN0ZWRJdGVtQnlJZCIsImdldFNlbGVjdGVkSXRlbSIsImNsZWFyU2VsZWN0aW9uIiwiY3JlYXRlQnV0dG9uIiwidGV4dCIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwid2l0aExhYmVsIiwid3JhcHBlciIsImxhYmVsIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjcmVhdGVNdWx0aU51bWJlcklucHV0IiwiaW5pdGlhbFZhbHVlIiwicm93cyIsImNvbHVtbnMiLCJpbnB1dE9wdGlvbnMiLCJpbnB1dEdyaWQiLCJnZXRWYWx1ZXMiLCJyb3ciLCJpbnB1dFJvdyIsImNvbHVtbiIsImluZGV4IiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsInR5cGUiLCJ0b1N0cmluZyIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY29sb3JJbnB1dFByb3BzIiwibWluIiwibWF4Iiwic3RlcCIsImhhc1Byb3BlcnR5Iiwib2JqIiwicHJvcCIsImFzc2VydE5ldmVyIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiQXR0cmlidXRlQnVmZmVyVHlwZSIsImNvbnRleHQiLCJwcm9ncmFtIiwidGhpcyIsImF0dGFjaFRvUHJvZ3JhbSIsImxvY2F0aW9uIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwic2V0dGVyIiwiY3JlYXRlVW5pZm9ybVNldHRlciIsInNldFZhbHVlIiwibmV3VmFsdWUiLCJzZXRVbmlmb3JtIiwiZ2V0VW5pZm9ybVR5cGUiLCJkaXNwb3NlIiwiRkxPQVRfVkVDMiIsInVuaWZvcm0yZiIsIkZMT0FUX1ZFQzMiLCJ1bmlmb3JtM2YiLCJGTE9BVF9WRUM0IiwidW5pZm9ybTRmIiwiU0FNUExFUl8yRCIsImtleVNlbGVjdG9yIiwiTWFwIiwic2V0IiwiaGFzIiwiY2xlYXIiLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInVuaWZvcm1Db21wb25lbnRDYWNoZSIsIkNvbXBvc2l0ZUtleU1hcCIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwic2xvdCIsInRleHR1cmVEYXRhIiwiY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCIsImlubmVyVGV4dCIsImNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24iLCJlbGVtZW50cyIsInZhbHVlcyIsIm9lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwib3B0aW9uc0VsZW1lbnQiLCJvcHRpb25zQ29udHJvbGxlciIsImVudHJpZXMiLCJ1cGRhdGUiLCJjdXN0b21FbGVtZW50IiwiY29sb3JEaXYiLCJzZXRDb2xvciIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29udGFpbmVyIiwiY29udHJvbGxlciIsImNyZWF0ZUNvbG9yMyIsImNvbG9yRWxlbWVudCIsImN1c3RvbSIsImNyZWF0ZUNvbG9yNCIsInJlbW92ZUxhc3QiLCJjb3VudCIsInN1YnN0cmluZyIsImNvbXBpbGVTaGFkZXIiLCJyZW5kZXJpbmdDb250ZXh0Iiwic291cmNlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJlcnJvciIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVQcm9ncmFtIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImRlbGV0ZVByb2dyYW0iLCJnZXRQcm9ncmFtSW5mb0xvZyIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImdldEF0dHJpYkxvY2F0aW9uIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImZsYXR0ZW4iLCJjb25jYXQiLCJidWZmZXJEYXRhIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJzZXRBdHRyaWJ1dGVCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInNpemUiLCJnZXROdW1Db21wb25lbnRzIiwiRkxPQVQiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSIsImRlbGV0ZUJ1ZmZlciIsImJ1ZmZlclR5cGUiLCJjb25zb2xlIiwibG9nIiwiY29tcG9uZW50Q2FjaGUiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0IiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkIiwicmVzdWx0IiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImNyZWF0ZVdlYkdMQ2FudmFzIiwiY2FudmFzIiwiY2FsbGJhY2siLCJnZXRDb250ZXh0IiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlckVudHJ5IiwidGFyZ2V0IiwiZG9tUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5Iiwib2JzZXJ2ZSIsInZzY29kZUFwaSIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsIm1lc3NhZ2VJZCIsInBvc3RNZXNzYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJtZXNzYWdlIiwicGF5bG9hZCIsImZpbGVzIiwicmVtb3ZlTGlzdGVuZXIiLCJnZXREb2N1bWVudFRleHQiLCJmaWxlTmFtZSIsInN1YnNjcmliZVRvRG9jdW1lbnRTYXZlIiwiZmlsZVBhdGgiLCJhcnJheSIsImluZGV4T2YiLCJzcGxpY2UiLCJ2aWV3ZXJFbmRwb2ludCIsInZpZXdlciIsImdldEVsZW1lbnRCeUlkIiwidmlld2VyT3B0aW9ucyIsInNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb21waWxhdGlvbkVycm9ycyIsIndlYkdMQ2FudmFzIiwid2ViR0xDb250cm9sbGVyIiwic2hvd0NvbnRlbnQiLCJjb250ZW50IiwidmlzaWJpbGl0eSIsInN5bmNTaGFkZXJEb2N1bWVudHMiLCJ0aGVuIiwic2QiLCJmIiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwiZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIiLCJhbmltYXRpb25GcmFtZUhhbmRsZSIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJ2ZXJ0ZXhTaGFkZXJFcnJvcnMiLCJmcmFnbWVudFNoYWRlckVycm9ycyIsImVycm9ycyIsInNlbGVjdGVkRnJhZ21lbnRDb250ZW50Iiwic2VsZWN0ZWRWZXJ0ZXhDb250ZW50IiwidmVydGV4U2hhZGVyQ29udGVudCIsImZyYWdtZW50U2hhZGVyQ29udGVudCIsIlZFUlRFWF9TSEFERVIiLCJGUkFHTUVOVF9TSEFERVIiLCJ2ZXJ0ZXhFcnJvciIsInVuZGVmaW5lZCIsImZyYWdtZW50RXJyb3IiLCJjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UiLCJqb2luIiwidW5pZm9ybXMiLCJudW1Vbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0UHJvZ3JhbVVuaWZvcm1zIiwiYXR0cmlidXRlQnVmZmVycyIsIm51bUF0dHJpYnV0ZUJ1ZmZlcnMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYnV0ZUJ1ZmZlciIsImdldEFjdGl2ZUF0dHJpYiIsImdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzIiwidW5pZm9ybUNvbXBvbmVudHMiLCJmcm9tQ2FjaGUiLCJVbmlmb3JtSW5mbyIsImNvbXBvbmVudCIsInVjIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVyQmluZGluZ3MiLCJjb21wb25lbnRzIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMiLCJhYiIsImFiYyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVuZGVySW5mbyIsInVzZVByb2dyYW0iLCJ2aWV3cG9ydCIsImNsZWFyQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidSIsInByaW1pdGl2ZVR5cGUiLCJUUklBTkdMRVMiLCJkcmF3QXJyYXlzIiwicmVuZGVyUHJvZ3JhbSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5ld1ZlcnRleCIsInNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsIm5ld0NvbnRlbnQiLCJ2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQiLCJuZXdGcmFnbWVudCIsInNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwiZnJhZ21lbnREcm9wZG93bkVsZW1lbnQiLCJtZXNoRWxlbWVudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixF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RCxFQUF3QixLQW9CdERaLEVBQWN4TixZQUFZYSxFQUFVaVIsRUFBdUIsa0JBRXJELEVBQXdEeFQsR0FDNUQsU0FBTXlULEdBQVcsMEMsK0RBQ2ZDLGFBRUlELElBQ0ZDLEVBQXlDM0UsRUFBZUwsd0JBQ3REK0UsRUFBWXpTLElBQ1osU0FBQXVTLEdBQ0VsRCxFQUEwQmtELEVBQzFCdEQsUUFLb0J3RCxFQUN0QixHQUFNMUUsRUFBZVAsZ0JBQWdCaUYsRUFBWXpTLEtBRDNCLE0sY0FDdEIsVyxhQUNBLEssd0JBRkpxUCxFQUEwQixFQUcxQkosSSxjQWpCRzBELEVBQXVCLEtBQUU1RCxFQUEwQixLQW9CMURiLEVBQWN4TixZQUNaYSxFQUFVb1IsRUFBeUIsb0JBRy9CLEVBQWdDM1QsR0FBZSxlQUE5QzRULEVBQVcsS0FBZ0IsS0FDbkIzUyxTQUFTLENBQ3RCLENBQUVELEdBQUksT0FBUUssUUFBUyxRQUN2QixDQUFFTCxHQUFJLFNBQVVLLFFBQVMsWUFFM0I2TixFQUFjeE4sWUFBWWEsRUFBVXFSLEVBQWEsU0FFakQxRSxFQUFjeE4sWUFBWXlOLEdBRTFCTyxJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgdHJhbnNsYXRpb25zID0ge1xyXG4gICAgc2hhZGVyczogXCJTSEFERVJTXCJcclxufSIsImltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHsgZW1wdHlJdGVtOiBib29sZWFuIH1cclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICBjbGVhclNlbGVjdGlvbjogKCkgPT4gdm9pZDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKGUgPT4gZS5pdGVtLmlkID09PSBlbGVtZW50LnZhbHVlKTtcclxuXHJcbiAgICBpZiAoZm91bmRFbGVtZW50Lml0ZW0uaWQpIHNldFNlbGVjdGVkSXRlbShmb3VuZEVsZW1lbnQuaXRlbSk7XHJcbiAgICBlbHNlIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRJdGVtcyA9IChpdGVtczogRHJvcGRvd25JdGVtW10pID0+IHtcclxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGl0ZW1FbGVtZW50cy5sZW5ndGggPSAwO1xyXG5cclxuICAgIGlmICghaXRlbXMuZmluZChpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdJdGVtcyA9IGNvbWJpbmVkT3B0aW9ucy5lbXB0eUl0ZW1cclxuICAgICAgPyBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc11cclxuICAgICAgOiBbLi4uaXRlbXNdO1xyXG4gICAgbmV3SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKGllID0+IGllLml0ZW0pO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbUJ5SWQgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChcclxuICB0ZXh0OiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljaztcclxuICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgcmV0dXJuIHsgZWxlbWVudDogYnV0dG9uIH07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZSA/PyBcIlwifSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goYyA9PiBkaXYuYXBwZW5kQ2hpbGQoYykpO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVNdWx0aU51bWJlcklucHV0ID0gPFQgZXh0ZW5kcyBudW1iZXJbXT4oXHJcbiAgaW5pdGlhbFZhbHVlOiBULFxyXG4gIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsXHJcbiAgcm93czogbnVtYmVyLFxyXG4gIGNvbHVtbnM6IG51bWJlcixcclxuICBpbnB1dE9wdGlvbnM/OiBQYXJ0aWFsPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IFQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGlucHV0R3JpZC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtZ3JpZFwiO1xyXG5cclxuICBjb25zdCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTElucHV0RWxlbWVudDsgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF07XHJcbiAgICAgIGllLmVsZW1lbnQudmFsdWUgPSBpZS52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICBjb25zdCBzZXRSZWFkb25seSA9IChyZWFkb25seTogYm9vbGVhbikgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgY29sb3JJbnB1dFByb3BzID0ge1xyXG4gIG1pbjogXCIwXCIsXHJcbiAgbWF4OiBcIjFcIixcclxuICBzdGVwOiBcIjAuMVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjQgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yNCkgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yNDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41LCAxXSBhcyBDb2xvcjQ7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LCR7Y29sb3JbM119KWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yND4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDQsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3IzID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjMpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjM7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNV0gYXMgQ29sb3IzO1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwxKWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yMz4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDMsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSA8VCBleHRlbmRzIHt9LCBQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxyXG4gIG9iajogVCxcclxuICBwcm9wOiBQXHJcbik6IG9iaiBpcyBUICYgUmVjb3JkPFAsIHVua25vd24+ID0+IHtcclxuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KHByb3ApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFzc2VydE5ldmVyID0gKHZhbHVlOiBuZXZlcik6IG5ldmVyID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCB1bmlvbiBtZW1iZXI6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbTogV2ViR0xQcm9ncmFtKSB7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIHRoaXMubmFtZSk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyW11bXSkge1xyXG4gICAgLy9udW1FbGVtZW50cyA9IHZhbHVlLmxlbmd0aDtcclxuICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgIGNvbnN0IGZsYXR0ZW4gPSBbXS5jb25jYXQoLi4ubmV3VmFsdWUpO1xyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQnVmZmVyKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBnZXROdW1Db21wb25lbnRzID0gKGJ1ZmZlclR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUpID0+IHtcclxuICBzd2l0Y2ggKGJ1ZmZlclR5cGUpIHtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gMztcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gNDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKGJ1ZmZlclR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUtleU1hcDxUS2V5LCBUVmFsdWU+IHtcclxuICBwcml2YXRlIG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUVmFsdWU+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUga2V5U2VsZWN0b3I6IChjb21wb3NpdGVLZXk6IFRLZXkpID0+IHN0cmluZykge31cclxuXHJcbiAgZ2V0KGtleTogVEtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwLmdldCh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgc2V0KGtleTogVEtleSwgdmFsdWU6IFRWYWx1ZSkge1xyXG4gICAgdGhpcy5tYXAuc2V0KHRoaXMua2V5U2VsZWN0b3Ioa2V5KSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgaGFzKGtleTogVEtleSkge1xyXG4gICAgdGhpcy5tYXAuaGFzKHRoaXMua2V5U2VsZWN0b3Ioa2V5KSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMubWFwLmNsZWFyKCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcclxuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpID0+IHtcclxuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcclxuICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gIH0pO1xyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZVZlY3RvcjIsXHJcbiAgY3JlYXRlVmVjdG9yMyxcclxuICBjcmVhdGVWZWN0b3I0LFxyXG4gIFZlY3RvcjIsXHJcbiAgVmVjdG9yMyxcclxuICBWZWN0b3I0LFxyXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2lucHV0TnVtYmVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlQ29sb3IzLCBjcmVhdGVDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5cclxuY29uc3QgdW5pZm9ybUNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbyB9XHJcbj4oa2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgdW5pZm9ybXM6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBVbmlmb3JtVHlwZSB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSB1bmlmb3Jtcy5tYXAodW5pZm9ybSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLnVuaWZvcm0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IHVuaWZvcm1Db21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS51bmlmb3JtSW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdW5pZm9ybUluZm8gPSBuZXcgVW5pZm9ybUluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZSxcclxuICAgICAgICB1bmlmb3JtLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZVVuaWZvcm1Db21wb25lbnQodW5pZm9ybUluZm8pLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiA9IChlbGVtZW50czoge1xyXG4gIFtrZXk6IHN0cmluZ106IHsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpLmZvckVhY2gob2UgPT4gb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHJcbiAgICAgIGVsZW1lbnRzW2l0ZW0uaWRdLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0sXHJcbiAgICBcIlwiLFxyXG4gICAgeyBlbXB0eUl0ZW06IGZhbHNlIH1cclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgT2JqZWN0LmVudHJpZXMoZWxlbWVudHMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xyXG4gICAgICBpZDoga2V5LFxyXG4gICAgICBkaXNwbGF5OiB2YWx1ZS5kaXNwbGF5LFxyXG4gICAgfSkpXHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUlkKFwiY3VzdG9tXCIpO1xyXG4gIHJldHVybiBvcHRpb25zRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMyID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMih1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwXSk7XHJcbiAgcmV0dXJuIGN1c3RvbUVsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVTcmM6IHN0cmluZyB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjMoKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yMyh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoWzEsIDAsIDBdKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVVbmlmb3JtU2VsZWN0aW9uKHtcclxuICAgIGN1c3RvbToge1xyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIGNvbG9yOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ29sb3JcIixcclxuICAgICAgZWxlbWVudDogY29sb3JFbGVtZW50LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjNCA9IChcclxuICBpbml0aWFsVmFsdWU6IFZlY3RvcjQsXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjQpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yNCh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjQodXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgcmVtb3ZlID0gPFQ+KGFycmF5OiBUW10sIGl0ZW06IFQpID0+IHtcclxuICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XHJcblxyXG4gIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVMYXN0ID0gKHRleHQ6IHN0cmluZywgY291bnQ6IG51bWJlcikgPT4ge1xyXG4gIHJldHVybiB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIGNvdW50KTtcclxufTtcclxuIiwiaW1wb3J0IHsgcmVtb3ZlTGFzdCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vYXJyYXlcIjtcclxuaW1wb3J0IHsgaGFzUHJvcGVydHkgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21waWxlU2hhZGVyID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB0eXBlOiBHTGVudW0sXHJcbiAgc291cmNlOiBzdHJpbmdcclxuKTogV2ViR0xTaGFkZXIgfCB7IGVycm9yOiBzdHJpbmcgfSA9PiB7XHJcbiAgY29uc3Qgc2hhZGVyID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlclBhcmFtZXRlcihcclxuICAgIHNoYWRlcixcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuQ09NUElMRV9TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gc2hhZGVyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVycm9yLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlcnNGcm9tU291cmNlID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXJDb250ZW50OiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJDb250ZW50OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihcclxuICAgIGNvbnRleHQsXHJcbiAgICBjb250ZXh0LlZFUlRFWF9TSEFERVIsXHJcbiAgICB2ZXJ0ZXhTaGFkZXJDb250ZW50XHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuRlJBR01FTlRfU0hBREVSLFxyXG4gICAgZnJhZ21lbnRTaGFkZXJDb250ZW50XHJcbiAgKTtcclxuXHJcbiAgbGV0IHZlcnRleEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KHZlcnRleFNoYWRlciwgXCJlcnJvclwiKSkge1xyXG4gICAgdmVydGV4RXJyb3IgPSByZW1vdmVMYXN0KHZlcnRleFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBsZXQgZnJhZ21lbnRFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gIGlmIChoYXNQcm9wZXJ0eShmcmFnbWVudFNoYWRlciwgXCJlcnJvclwiKSkge1xyXG4gICAgZnJhZ21lbnRFcnJvciA9IHJlbW92ZUxhc3QoZnJhZ21lbnRTaGFkZXIuZXJyb3IsIDEpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZlcnRleEVycm9yIHx8IGZyYWdtZW50RXJyb3IpIHtcclxuICAgIC8vdG9kbyBjbGVhbnVwXHJcbiAgICByZXR1cm4gW3ZlcnRleEVycm9yLCBmcmFnbWVudEVycm9yXSBhcyBTaGFkZXJDb21waWxlRXJyb3JzO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNyZWF0ZVByb2dyYW0oY29udGV4dCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZ3JhbSA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlcixcclxuICBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgcHJvZ3JhbSA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkxJTktfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHByb2dyYW07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgIGBDcmVhdGluZyBwcm9ncmFtIGZhaWxlZDogJHtyZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pfWBcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2dyYW1Vbmlmb3JtcyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtXHJcbikgPT4ge1xyXG4gIGNvbnN0IG51bVVuaWZvcm1zID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX1VOSUZPUk1TXHJcbiAgKTtcclxuICBjb25zdCByZXN1bHQ6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBVbmlmb3JtVHlwZSB9W10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bVVuaWZvcm1zOyArK2luZGV4KSB7XHJcbiAgICBjb25zdCB1bmlmb3JtID0gY29udGV4dC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGluZGV4KTtcclxuICAgIHJlc3VsdC5wdXNoKHsgbmFtZTogdW5pZm9ybS5uYW1lLCB0eXBlOiB1bmlmb3JtLnR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtQXR0cmlidXRlQnVmZmVycyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9BVFRSSUJVVEVTXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bUF0dHJpYnV0ZUJ1ZmZlcnM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlciA9IGNvbnRleHQuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGluZGV4KTtcclxuICAgIHJlc3VsdC5wdXNoKHsgbmFtZTogYXR0cmlidXRlQnVmZmVyLm5hbWUsIHR5cGU6IGF0dHJpYnV0ZUJ1ZmZlci50eXBlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJQcm9ncmFtID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgcmVuZGVySW5mbzoge1xyXG4gICAgdW5pZm9ybXM6IFVuaWZvcm1JbmZvW107XHJcbiAgICBhdHRyaWJ1dGVCdWZmZXJzOiBBdHRyaWJ1dGVCdWZmZXJJbmZvW107XHJcbiAgICAvL3RleHR1cmVzXHJcbiAgfVxyXG4pID0+IHtcclxuICBjb250ZXh0LnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgY29udGV4dC52aWV3cG9ydCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcclxuICBjb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgY29udGV4dC5jbGVhcihjb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICByZW5kZXJJbmZvLnVuaWZvcm1zLmZvckVhY2godSA9PiB1LnNldFVuaWZvcm0oKSk7XHJcbiAgcmVuZGVySW5mby5hdHRyaWJ1dGVCdWZmZXJzLmZvckVhY2goYWIgPT4gYWIuc2V0QXR0cmlidXRlQnVmZmVyKCkpO1xyXG4gIC8vIGNvbnN0IG51bUVsZW1lbnRzID0gTWF0aC5taW4oXHJcbiAgLy8gICAuLi5yZW5kZXJJbmZvLmF0dHJpYnV0ZUJ1ZmZlcnMubWFwKChhYikgPT4gYWIuZ2V0RWxlbWVudHNDb3VudCgpKVxyXG4gIC8vICk7XHJcblxyXG4gIGNvbnN0IHByaW1pdGl2ZVR5cGUgPSBjb250ZXh0LlRSSUFOR0xFUztcclxuICBjb25zdCBvZmZzZXQgPSAwO1xyXG4gIGNvbnN0IGNvdW50ID0gMztcclxuICBjb250ZXh0LmRyYXdBcnJheXMocHJpbWl0aXZlVHlwZSwgb2Zmc2V0LCBjb3VudCk7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBTaGFkZXJDb21waWxlRXJyb3JzID0gW1xyXG4gIHZlcnRleFNoYWRlckVycm9yczogc3RyaW5nLFxyXG4gIGZyYWdtZW50U2hhZGVyRXJyb3JzOiBzdHJpbmdcclxuXTtcclxuZXhwb3J0IGNvbnN0IGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMgPSAocmVzdWx0OiBTaGFkZXJDb21waWxlRXJyb3JzKSA9PiB7XHJcbiAgY29uc3QgW3ZlcnRleFNoYWRlckVycm9ycywgZnJhZ21lbnRTaGFkZXJFcnJvcnNdID0gcmVzdWx0O1xyXG5cclxuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGlmICh2ZXJ0ZXhTaGFkZXJFcnJvcnMpIHtcclxuICAgIGVycm9ycy5wdXNoKFwiVkVSVEVYIFNIQURFUjpcIiwgdmVydGV4U2hhZGVyRXJyb3JzKTtcclxuICB9XHJcblxyXG4gIGlmIChmcmFnbWVudFNoYWRlckVycm9ycykge1xyXG4gICAgZXJyb3JzLnB1c2goXCJGUkFHTUVOVCBTSEFERVI6XCIsIGZyYWdtZW50U2hhZGVyRXJyb3JzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBlcnJvcnMuam9pbihcIlxcclxcblwiKTtcclxufTtcclxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBVbnN1YnNjcmliZSwgZm9vIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi90eXBlc1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzLCBWZWN0b3I0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5cclxuY29uc29sZS5sb2coZm9vKTtcclxudHlwZSBDYWNoZUtleSA9IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZTtcclxufTtcclxuXHJcbnR5cGUgQ2FjaGVWYWx1ZSA9IHtcclxuICBjb21wb25lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm87XHJcbiAgZGlzcG9zZTogKCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxDYWNoZUtleSwgQ2FjaGVWYWx1ZT4oXHJcbiAga2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWBcclxuKTtcclxuXHJcbmNvbnN0IHJlYnVpbGRDYWNoZSA9IChuZXdWYWx1ZXM6IHsga2V5OiBDYWNoZUtleTsgdmFsdWU6IENhY2hlVmFsdWUgfVtdKSA9PiB7XHJcbiAgLy9kaXNwb3NlIGhlcmVcclxuICAvL2FiaS5kaXNwb3NlKCk7XHJcbiAgLy9jb21wb25lbnRDYWNoZS5jbGVhcigpO1xyXG4gIC8vYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IGNvbXBvbmVudENhY2hlLnNldCh1Yy5rZXksIHVjLnZhbHVlKSk7XHJcbn07XHJcblxyXG50eXBlIEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmcgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICBvbkNoYW5nZTogKHZhbHVlOiBhbnkpID0+IHZvaWQ7XHJcbiAgLy9zdWJzY3JpYmVUb0NoYW5nZTpcclxuXHJcbiAgLy9vbkNoYW5nZVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICBhdHRyaWJ1dGVCdWZmZXJzOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10sXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M/OiBBdHRyaWJ1dGVCdWZmZXJCaW5kaW5nW11cclxuKSA9PiB7XHJcbiAgY29uc3QgY29tcG9uZW50cyA9IGF0dHJpYnV0ZUJ1ZmZlcnMubWFwKGF0dHJpYnV0ZUJ1ZmZlciA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLmF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZnJvbUNhY2hlID0gY29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUuYXR0cmlidXRlQnVmZmVySW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mbyA9IG5ldyBBdHRyaWJ1dGVCdWZmZXJJbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIubmFtZSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIudHlwZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgW2VsZW1lbnQsIHVuc3Vic2NyaWJlXSA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGtleSxcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgY29tcG9uZW50OiB3aXRoTGFiZWwoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLm5hbWUpLFxyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mbyxcclxuICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcclxuICAgICAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5kZWxldGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVidWlsZENhY2hlKGNvbXBvbmVudHMpO1xyXG4gIHJldHVybiBjb21wb25lbnRzLm1hcChjID0+IGMudmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50ID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuKTogW0hUTUxFbGVtZW50LCBVbnN1YnNjcmliZV0gPT4ge1xyXG4gIHN3aXRjaCAoYXR0cmlidXRlQnVmZmVySW5mby5nZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCkpIHtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICAoKSA9PiB7fSxcclxuICAgICAgXTtcclxuICAgIC8vY29tcG9uZW50XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0W10gPSBbXHJcbiAgICAgICAgWzAsIDAsIDAsIDFdLFxyXG4gICAgICAgIFswLCAwLjUsIDAsIDFdLFxyXG4gICAgICAgIFswLjcsIDAsIDAsIDFdLFxyXG4gICAgICBdO1xyXG4gICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKGluaXRpYWxWYWx1ZSk7XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0KGluaXRpYWxWYWx1ZSwgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgKCkgPT4ge30sXHJcbiAgICAgIF07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gW2NyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCgpLCAoKSA9PiB7fV07XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuLy92ZWMzXHJcbi8vYmluZGluZ1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzW10pID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAvL2NvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAvL09iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoaW5wdXQudmFsdWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KGUgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gMyA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZXZlcnkgZWxlbWVudCBpZCB0aGUgYXJyYSBpcyBzYW1lIHNpemVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZShyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGpzb25cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy9Xcm9uZyBmb3JtYXQhIFNob3VsZCBiZSBbW3gxLHkxXSwgW3gyLHkyXSwgLi4uXVxyXG4gIHJldHVybiBpbnB1dDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNCA9IChcclxuICBpbml0aWFsVmFsdWU6IFZlY3RvcjRbXSxcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNFtdKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGluaXRpYWxWYWx1ZSk7XHJcbiAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoaW5wdXQudmFsdWUpO1xyXG4gICAgICAvL2NvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSA0IDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICAvLyAgY29uc29sZS5sb2coXCJub3QgZXZlcnkgZWxlbWVudCBpZCB0aGUgYXJyYSBpcyBzYW1lIHNpemVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZShyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGpzb25cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG4iLCJleHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XHJcbmV4cG9ydCBjb25zdCBmb28gPSAyO1xyXG4iLCJpbXBvcnQgeyBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCB9IGZyb20gXCIuLi91dGlscy9odG1sXCI7XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJHTENhbnZhcyA9IChcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4pOiBbXHJcbiAgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAge1xyXG4gICAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICBjYW52YXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuICBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdChjYW52YXMsIHJlY3QgPT4ge1xyXG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodDtcclxuICB9KTtcclxuXHJcbiAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAvL3RvZG8gbW92ZSB0byBlcnJvcnNcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgd2ViZ2wgY29udGV4dFwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBjYW52YXMsXHJcbiAgICB7XHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCA9IChcclxuICBlbGVtZW50OiBFbGVtZW50LFxyXG4gIGNhbGxiYWNrOiAocmVjdGFuZ2xlOiB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgfSkgPT4gdm9pZFxyXG4pOiAoKCkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVsZW1lbnRzID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyRW50cnkgPSBlbGVtZW50cy5maW5kKGUgPT4gZS50YXJnZXQgPT09IGVsZW1lbnQpO1xyXG5cclxuICAgIGlmIChvYnNlcnZlckVudHJ5KSB7XHJcbiAgICAgIGNvbnN0IGRvbVJlY3QgPSBvYnNlcnZlckVudHJ5LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgIHg6IGRvbVJlY3QueCxcclxuICAgICAgICB5OiBkb21SZWN0LnksXHJcbiAgICAgICAgd2lkdGg6IGRvbVJlY3Qud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBkb21SZWN0LmhlaWdodCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XHJcbiAgcmV0dXJuICgpID0+IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxufTtcclxuIiwiaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSBcIi4uL2FycmF5XCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi91dWlkXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VSZXF1ZXN0LCBNZXNzYWdlUmVzcG9uc2UgfSBmcm9tIFwiLi9tZXNzYWdlc1wiO1xyXG5cclxuZGVjbGFyZSBjb25zdCBhY3F1aXJlVnNDb2RlQXBpOiAoKSA9PiB7XHJcbiAgLy9nZXRTdGF0ZTogKCkgPT4gYW55O1xyXG4gIC8vc2V0U3RhdGU6IChzdGF0ZTogYW55KSA9PiB2b2lkO1xyXG4gIHBvc3RNZXNzYWdlOiAobWVzc2FnZTogTWVzc2FnZVJlcXVlc3QpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxudHlwZSBSZXNwb25zZUxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3ZXJFbmRwb2ludCB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFJlc3BvbnNlTGlzdGVuZXJbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldmVudCA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8eyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXT4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC5maWxlcyk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXREb2N1bWVudFRleHQoZmlsZU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcclxuICAgIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkXHJcbiAgKTogKCkgPT4gdm9pZCB7XHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG1lc3NhZ2UudHlwZSA9PT0gXCJvbkRvY3VtZW50VGV4dENoYW5nZVwiICYmXHJcbiAgICAgICAgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aFxyXG4gICAgICApIHtcclxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgIHR5cGU6IFwidW5zdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFJlc3BvbnNlTGlzdGVuZXIpIHtcclxuICAgIHJlbW92ZSh0aGlzLmV2ZW50TGlzdGVuZXJzLCBsaXN0ZW5lcik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IHRyYW5zbGF0aW9ucyB9IGZyb20gXCIuLi8uLi9jb21tb24vdHJhbnNsYXRpb25zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZWN0aW9uVGl0bGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2hlYWRlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVCdXR0b24gYXMgY3JlYXRlQnV0dG9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9idXR0b25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2LCB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIH0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvdW5pZm9ybUNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG4gIGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSxcclxuICBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzLFxyXG4gIGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzLFxyXG4gIGdldFByb2dyYW1Vbmlmb3JtcyxcclxuICByZW5kZXJQcm9ncmFtLFxyXG4gIFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbn0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvaW5kZXhcIjtcclxuaW1wb3J0IHsgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyB9IGZyb20gXCIuL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVXZWJHTENhbnZhcyB9IGZyb20gXCIuL2NvbXBvbmVudHMvd2ViZ2xDYW52YXNcIjtcclxuaW1wb3J0IHsgVmlld2VyRW5kcG9pbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbW11bmljYXRpb24vdmlld2VyRW5kcG9pbnRcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZVZpZXdlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCB2aWV3ZXJFbmRwb2ludCA9IG5ldyBWaWV3ZXJFbmRwb2ludCgpO1xyXG4gIGNvbnN0IHZpZXdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlld2VyXCIpO1xyXG4gIGNvbnN0IHZpZXdlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLXNoYWRlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzID0gY3JlYXRlRGl2KFwidmlld2VyLWNvbnRlbnQgc2hhZGVyLWVycm9yc1wiKTtcclxuICBjb25zdCBbd2ViR0xDYW52YXMsIHdlYkdMQ29udHJvbGxlcl0gPSBjcmVhdGVXZWJHTENhbnZhcyhcInZpZXdlci1jb250ZW50XCIpO1xyXG5cclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQod2ViR0xDYW52YXMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZChzaGFkZXJDb21waWxhdGlvbkVycm9ycyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHZpZXdlck9wdGlvbnMpO1xyXG5cclxuICBjb25zdCBzaG93Q29udGVudCA9IChjb250ZW50OiBcImNhbnZhc1wiIHwgXCJlcnJvcnNcIiB8IFwibm9uZVwiKSA9PiB7XHJcbiAgICB3ZWJHTENhbnZhcy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJjYW52YXNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiZXJyb3JzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBzeW5jU2hhZGVyRG9jdW1lbnRzID0gKCkgPT4ge1xyXG4gICAgdmlld2VyRW5kcG9pbnQuZ2V0U2hhZGVyRG9jdW1lbnRzKCkudGhlbihzZCA9PiB7XHJcbiAgICAgIGNvbnN0IGZpbGVzID0gc2QubWFwKGYgPT4gKHtcclxuICAgICAgICBpZDogZi5maWxlUGF0aCxcclxuICAgICAgICBkaXNwbGF5OiBmLmZpbGVOYW1lLFxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogKCkgPT4gdm9pZCB8IHVuZGVmaW5lZDtcclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgYW5pbWF0aW9uRnJhbWVIYW5kbGU6IG51bWJlciA9IG51bGw7XHJcblxyXG4gIGNvbnN0IG9uU2hhZGVyQ29udGVudENoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICBzaGFkZXJPcHRpb25zLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2ViR0xDb250cm9sbGVyLmNvbnRleHQ7XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ICYmIHNlbGVjdGVkVmVydGV4Q29udGVudCkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UoXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQsXHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBzaG93Q29udGVudChcImVycm9yc1wiKTtcclxuICAgICAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5pbm5lclRleHQgPSBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzKFxyXG4gICAgICAgICAgcmVzdWx0IGFzIFNoYWRlckNvbXBpbGVFcnJvcnNcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSByZXN1bHQgYXMgV2ViR0xQcm9ncmFtO1xyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0gZ2V0UHJvZ3JhbVVuaWZvcm1zKGNvbnRleHQsIHByb2dyYW0pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlcnMgPSBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyhjb250ZXh0LCBwcm9ncmFtKTtcclxuXHJcbiAgICAgICAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgdW5pZm9ybXNcclxuICAgICAgICApO1xyXG4gICAgICAgIHVuaWZvcm1Db21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgICAgICAgIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQodWMuY29tcG9uZW50KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2goYWIgPT5cclxuICAgICAgICAgIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQoYWIuY29tcG9uZW50KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1JbmZvcyA9IHVuaWZvcm1Db21wb25lbnRzLm1hcCh1YyA9PiB1Yy51bmlmb3JtSW5mbyk7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mb3MgPSBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLm1hcChcclxuICAgICAgICAgIGFiYyA9PiBhYmMuYXR0cmlidXRlQnVmZmVySW5mb1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRpb25GcmFtZUhhbmRsZSAhPT0gbnVsbClcclxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSGFuZGxlKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgcmVuZGVyUHJvZ3JhbSh3ZWJHTENvbnRyb2xsZXIuY29udGV4dCwgcmVzdWx0LCB7XHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB1bmlmb3JtSW5mb3MsXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IGF0dHJpYnV0ZUJ1ZmZlckluZm9zLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93Q29udGVudChcIm5vbmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIsIFtcclxuICAgICAgY3JlYXRlU2VjdGlvblRpdGxlKHRyYW5zbGF0aW9ucy5zaGFkZXJzLCBcIlwiKS5lbGVtZW50LFxyXG4gICAgICBjcmVhdGVCdXR0b24oXCJTeW5jXCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsIHN5bmNTaGFkZXJEb2N1bWVudHMpXHJcbiAgICAgICAgLmVsZW1lbnQsXHJcbiAgICBdKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFt2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIHZlcnRleERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld1ZlcnRleCA9PiB7XHJcbiAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3VmVydGV4KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdmlld2VyRW5kcG9pbnQuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdWZXJ0ZXguaWQsXHJcbiAgICAgICAgICBuZXdDb250ZW50ID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld1ZlcnRleFxyXG4gICAgICAgID8gYXdhaXQgdmlld2VyRW5kcG9pbnQuZ2V0RG9jdW1lbnRUZXh0KG5ld1ZlcnRleC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKHZlcnRleERyb3Bkb3duRWxlbWVudCwgXCJWZXJ0ZXggU2hhZGVyXCIpKTtcclxuXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld0ZyYWdtZW50ID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2aWV3ZXJFbmRwb2ludC5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld0ZyYWdtZW50LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3RnJhZ21lbnRcclxuICAgICAgICA/IGF3YWl0IHZpZXdlckVuZHBvaW50LmdldERvY3VtZW50VGV4dChuZXdGcmFnbWVudC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIFwiRnJhZ21lbnQgU2hhZGVyXCIpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW21lc2hFbGVtZW50LCBtZXNoQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bigoKSA9PiB7fSk7XHJcbiAgbWVzaENvbnRyb2xsZXIuc2V0SXRlbXMoW1xyXG4gICAgeyBpZDogXCJjdWJlXCIsIGRpc3BsYXk6IFwiQ3ViZVwiIH0sXHJcbiAgICB7IGlkOiBcImNpcmNsZVwiLCBkaXNwbGF5OiBcIkNpcmNsZVwiIH0sXHJcbiAgXSk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZCh3aXRoTGFiZWwobWVzaEVsZW1lbnQsIFwiTWVzaFwiKSk7XHJcblxyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoc2hhZGVyT3B0aW9ucyk7XHJcblxyXG4gIHN5bmNTaGFkZXJEb2N1bWVudHMoKTtcclxufTtcclxuXHJcbmNyZWF0ZVZpZXdlcigpO1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlU2VjdGlvblRpdGxlID0gKHRleHQ6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xyXG4gIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBzZWN0aW9uLXRpdGxlYDtcclxuICByZXR1cm4geyBlbGVtZW50IH07XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=