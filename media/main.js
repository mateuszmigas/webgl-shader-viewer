!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),o=0;for(n=0;n<t;n++)for(var i=arguments[n],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},o=function(e,n,t){var o=document.createElement("select");o.className=null!=n?n:"";var i=null,u=[],a=function(n){e(i=n)};o.onchange=function(){var e=u.find((function(e){return e.item.id===o.value}));e.item.id?a(e.item):a(null)};return[o,{setItems:function(e){o.innerHTML="",u.length=0,e.find((function(e){return e.id===(null==i?void 0:i.id)}))||a(null),r([{id:"",display:""}],e).forEach((function(e){var n=document.createElement("option");n.value=e.id,n.textContent=e.display,n.selected=e.id===(null==i?void 0:i.id),o.appendChild(n),u.push({element:n,item:e})}))},getItems:function(){return u.map((function(e){return e.item}))},setSelectedItemById:function(e){a(null),u.forEach((function(n){n.item.id===e?(n.element.selected=!0,a(n.item)):n.element.selected=!1}))},getSelectedItem:function(){return i},clearSelection:function(){u.forEach((function(e){return e.element.selected=!1})),a(null)}}]},i=acquireVsCodeApi(),u=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(n){e.eventListeners=e.eventListeners.filter((function(e){return e(n.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this;return i.postMessage({type:"getShaderDocuments"}),new Promise((function(n){e.eventListeners.push((function(e){return"getShaderDocuments"===e.type&&(n(e.payload.files),!0)}))}))},e}(),a=function(e,n,t){var r=document.createElement("div");r.className=n+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},l=function(e,n,t,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var u=[],a=function(){return u.map((function(e){return e.value}))},l=0;l<t;l++){var c=document.createElement("div");c.className="edit-input-row";for(var s=function(t){var o=l*r+t,i=e[o],s=document.createElement("input"),d={element:s,value:i};s.className="edit-input",s.type="number",s.value=null==i?void 0:i.toString(),s.oninput=function(){u[o].value=Number(s.value),null==n||n(a())},u.push(d),c.appendChild(s)},d=0;d<r;d++)s(d);i.appendChild(c)}return[i,{setValues:function(e){return u.forEach((function(n,t){return n.value=e[t]}))},getValues:a,setReadonly:function(e){return u.forEach((function(n){return n.element.readOnly=e}))}}]},c=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};(function(e,n,t,r){new(t||(t=Promise))((function(o,i){function u(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}l((r=r.apply(e,n||[])).next())}))})(void 0,void 0,void 0,(function(){var e,n,t,r,i,s,d,f,p,m;return c(this,(function(c){var v,h,y;return e=new u,n=document.getElementById("viewer"),t=document.createElement("div"),v="viewer-shader-options",(h=document.createElement("div")).className=v,r=h,t.appendChild(r),t.className="viewer-options",i=o((function(e){})),s=i[0],d=i[1],t.appendChild(a(s,"viewer-vertex-shader-selector","Vertex Shader")),f=o((function(e){})),p=f[0],m=f[1],t.appendChild(a(p,"viewer-fragment-shader-selector","Fragment Shader")),t.appendChild(function(e,n){var t=document.createElement("h3");return t.textContent=e,t.className=n+" section-title",{element:t}}("SHADERS","viewer-shaders-title").element),t.appendChild(function(e,n,t){var r=document.createElement("button");return r.onclick=t,r.className=n,r.textContent=e,{element:r}}("â†»","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var n=e.map((function(e){return{id:e.filePath,display:e.fileName}}));d.setItems(n),m.setItems(n)}))})).element),n.appendChild(t),r.appendChild(a(l([0,0,0],y,1,3)[0],"","u_color")),r.appendChild(a(function(e){return l([0,0,0,0],e,1,4)}()[0],"","u_diffuse")),r.appendChild(a(function(e){return l([0,0,0,0,0,0,0,0,0],e,3,3)}((function(e){return console.log(e)}))[0],"","u_diffuse2")),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tbXVuaWNhdGlvblByb3h5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy93cmFwcGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZWRpdFZlY3RvcjMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlU2VjdGlvblRpdGxlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jcmVhdGVGQUJ1dHRvbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIml0ZW0iLCJvbmNoYW5nZSIsImZvdW5kRWxlbWVudCIsImZpbmQiLCJlIiwiaWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZpbHRlciIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsInBvc3RNZXNzYWdlIiwidHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZSIsInBheWxvYWQiLCJmaWxlcyIsIndpdGhMYWJlbCIsInRleHQiLCJ3cmFwcGVyIiwibGFiZWwiLCJjcmVhdGVNdWx0aU51bWJlcklucHV0IiwiaW5pdGlhbFZhbHVlIiwicm93cyIsImNvbHVtbnMiLCJpbml0aWFsUmVhZG9ubHkiLCJpbnB1dEdyaWQiLCJnZXRWYWx1ZXMiLCJyb3ciLCJpbnB1dFJvdyIsImNvbHVtbiIsImluZGV4IiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsInRvU3RyaW5nIiwib25pbnB1dCIsIk51bWJlciIsInNldFZhbHVlcyIsIm5ld1ZhbHVlcyIsInNldFJlYWRvbmx5IiwicmVhZG9ubHkiLCJyZWFkT25seSIsImRpdiIsInZzY29kZUFwaSIsIlZzQ29kZUFwaVByb3h5IiwiZ2V0RWxlbWVudEJ5SWQiLCJzaGFkZXJPcHRpb25zIiwibmV3VmVydGV4IiwidmVydGV4RHJvcGRvd25FbGVtZW50IiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwibmV3RnJhZ21lbnQiLCJmcmFnbWVudERyb3Bkb3duRWxlbWVudCIsImZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyIiwiY3JlYXRlU2VjdGlvblRpdGxlIiwib25DbGljayIsImJ1dHRvbiIsIm9uY2xpY2siLCJjcmVhdGVGQUJ1dHRvbiIsInRoZW4iLCJzZCIsImYiLCJmaWxlUGF0aCIsImZpbGVOYW1lIiwiY3JlYXRlVmVjdG9yNCIsImNyZWF0ZU1hdHJpeDMiLCJuZXd2YWwiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FD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QUFPaEUsWUFBYzJCLEVBQ2QsQ0FBRTlDLFFBQVNtRixHRjhEaEJFLENBQWUsSUFBSyx5QkFBeUIsV0FDM0NkLEVBQVVsQyxxQkFBcUJpRCxNQUFLLFNBQUNDLEdBQ25DLElBQU0zQyxFQUFRMkMsRUFBRy9ELEtBQUksU0FBQ2dFLEdBQU0sT0FDMUI3RSxHQUFJNkUsRUFBRUMsU0FDTnpFLFFBQVN3RSxFQUFFRSxhQUdiYixFQUF5QmpFLFNBQVNnQyxHQUNsQ29DLEVBQTJCcEUsU0FBU2dDLFNBRXJDNUMsU0FHTEEsRUFBUXFCLFlBQVl0QixHQUNwQjJFLEVBQWNyRCxZQUFZd0IsRURoQzZDSSxFQUFnQyxDQUFDLEVBQUcsRUFBRyxHQUFJcEQsRUFBVSxFQUFHLEdDZ0MzRSxHQUFJLEdBQUksWUFDNUQ2RSxFQUFjckQsWUFBWXdCLEVEOUJDLFNBQUNoRCxHQUEyQyxPQUFBb0QsRUFBZ0MsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUFJcEQsRUFBVSxFQUFHLEdDOEI5RjhGLEdBQWdCLEdBQUksR0FBSSxjQUM1RGpCLEVBQWNyRCxZQUFZd0IsRURyQ0MsU0FBQ2hELEdBQTJDLE9BQUFvRCxFQUFnQyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJcEQsRUFBVSxFQUFHLEdDcUM3RytGLEVBQWMsU0FBQUMsR0FBVSxPQUFBQyxRQUFRQyxJQUFJRixNQUFTLEdBQUksR0FBSSxlIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgdHlwZSBEcm9wZG93bkl0ZW0gPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBkaXNwbGF5OiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRHJvcGRvd24gPSAoXHJcbiAgLy9pbml0aWFsVmFsdWU6IERyb3Bkb3duSXRlbSB8IG51bGwsXHJcbiAgb25DaGFuZ2U6IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB2b2lkLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZyxcclxuICBvcHRpb25zPzoge30gLy9wbGFjZWhvbGRlclxyXG4pOiBbXHJcbiAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0SXRlbXM6IChpdGVtczogRHJvcGRvd25JdGVtW10pID0+IHZvaWQ7XHJcbiAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICAgIGdldFNlbGVjdGVkSXRlbTogKCkgPT4gRHJvcGRvd25JdGVtIHwgbnVsbDtcclxuICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWUgPz8gXCJcIjtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoKGUpID0+IGUuaXRlbS5pZCA9PT0gZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgaWYgKGZvdW5kRWxlbWVudC5pdGVtLmlkKSBzZXRTZWxlY3RlZEl0ZW0oZm91bmRFbGVtZW50Lml0ZW0pO1xyXG4gICAgZWxzZSBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0SXRlbXMgPSAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBpdGVtRWxlbWVudHMubGVuZ3RoID0gMDtcclxuXHJcbiAgICBpZiAoIWl0ZW1zLmZpbmQoKGkpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc10uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xyXG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBpdGVtLmRpc3BsYXk7XHJcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQ7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goeyBlbGVtZW50OiBvcHRpb24sIGl0ZW0gfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJdGVtcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoKGllKSA9PiBpZS5pdGVtKTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUlkID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSkgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IChpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2UpKTtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgZWxlbWVudCxcclxuICAgIHtcclxuICAgICAgc2V0SXRlbXMsXHJcbiAgICAgIGdldEl0ZW1zLFxyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkLFxyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW0sXHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uLFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJkZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgfVxyXG4gIHwgeyB0eXBlOiBcIm9uRGlkU2hhZGVyRG9jdW1lbnRzQ2hhbmdlXCIgfTtcclxuXHJcbmV4cG9ydCB0eXBlIFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlID0ge1xyXG4gIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCI7XHJcbiAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFZzQ29kZUFwaVByb3h5IHtcclxuICBldmVudExpc3RlbmVyczogKChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gYm9vbGVhbilbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgLy9jbGVhciBldmVudCBsaXN0ZW5lciB0aGF0IGFyZSBubyBsb25nZXIgaW50ZXJlc3RlZFxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5maWx0ZXIoKGxpc3RlbmVyKSA9PlxyXG4gICAgICAgIGxpc3RlbmVyKGV2ZW50LmRhdGEpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8eyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXT4oKHJlc29sdmUpID0+IHtcclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXRTaGFkZXJEb2N1bWVudHNcIikge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQuZmlsZXMpO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHdpdGhMYWJlbCA9IChcclxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcclxuICBjbGFzc05hbWU6IHN0cmluZyxcclxuICB0ZXh0OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IG9wdGlvbnMtd3JhcHBlcmA7XHJcbiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgbGFiZWwuY2xhc3NOYW1lID0gXCJvcHRpb25zLWxhYmVsXCI7XHJcbiAgbGFiZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7ZWxlbWVudC5jbGFzc05hbWV9IG9wdGlvbnMtY29udGVudGA7XHJcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICByZXR1cm4gd3JhcHBlcjtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQgPSA8VCBleHRlbmRzIG51bWJlcltdPihpbml0aWFsVmFsdWU6IFQsIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsIHJvd3M6IG51bWJlciwgY29sdW1uczogbnVtYmVyLCBpbml0aWFsUmVhZG9ubHk6IGJvb2xlYW4pOiBbXHJcbiAgICBIVE1MRGl2RWxlbWVudCxcclxuICAgIHtcclxuICAgICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgICAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgICAgIGdldFZhbHVlczogKCkgPT4gVDtcclxuICAgIH1cclxuXSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaW5wdXRHcmlkLmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1ncmlkXCI7XHJcblxyXG4gICAgY29uc3QgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfVtdID0gW107XHJcbiAgICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PiBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUsIGluZGV4KSA9PiBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF0pO1xyXG4gICAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICAgIGNvbnN0IHNldFJlYWRvbmx5ID0gKHJlYWRvbmx5OiBib29sZWFuKSA9PiBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiBpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpO1xyXG5cclxuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2x1bW5zICsgY29sdW1uO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxWYWx1ZVtpbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gICAgICAgICAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZT8udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U/LihnZXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKGl0ZW1FbGVtZW50KTtcclxuICAgICAgICAgICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQoaW5wdXQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgaW5wdXRHcmlkLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICAgICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgICAgICAgIHNldFJlYWRvbmx5XHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBNYXRyaXgzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlTWF0cml4MyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogTWF0cml4MykgPT4gdm9pZCkgPT4gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxNYXRyaXgzPihbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIG9uQ2hhbmdlLCAzLCAzLCBmYWxzZSk7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT4gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3IzPihbMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCAzLCBmYWxzZSk7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3I0ID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3I0KSA9PiB2b2lkKSA9PiBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQsIGZhbHNlKTtcclxuXHJcbi8vY29uc3QgY3VzdG9tQ29udHJvbGxlciA9ICgpOyBzZXRWYWx1ZSwgXHJcbi8vZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjIgPSA8VD4ob25DaGFuZ2U6ICh2YWx1ZTogVCkgPT4gdm9pZCwgY2xhc3NOYW1lPzogc3RyaW5nKVxyXG5cclxuIiwiaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24sIERyb3Bkb3duSXRlbSB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgVnNDb2RlQXBpUHJveHkgfSBmcm9tIFwiLi9jb21tdW5pY2F0aW9uUHJveHlcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VjdGlvblRpdGxlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlRkFCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2NyZWF0ZUZBQnV0dG9uXCI7XHJcbmltcG9ydCB7IHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlTWF0cml4MywgY3JlYXRlVmVjdG9yMywgY3JlYXRlVmVjdG9yNCB9IGZyb20gXCIuL2NvbXBvbmVudHMvZWRpdFZlY3RvcjNcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZURpdlNlY3Rpb24gPSAoY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNoYWRlck9wdGlvbnMgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICBlbGVtZW50LmlubmVySFRNTCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcblxyXG5cclxuY29uc3QgY3JlYXRlVmlld2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHZzY29kZUFwaSA9IG5ldyBWc0NvZGVBcGlQcm94eSgpO1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdlclwiKTtcclxuICBjb25zdCBvcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb25zdCBzaGFkZXJPcHRpb25zID0gY3JlYXRlRGl2U2VjdGlvbihcInZpZXdlci1zaGFkZXItb3B0aW9uc1wiKTtcclxuICBvcHRpb25zLmFwcGVuZENoaWxkKHNoYWRlck9wdGlvbnMpO1xyXG5cclxuICBvcHRpb25zLmNsYXNzTmFtZSA9IFwidmlld2VyLW9wdGlvbnNcIjtcclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXg6IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50OiBEcm9wZG93bkl0ZW0gfCBudWxsID0gbnVsbDtcclxuXHJcbiAgY29uc3Qgb25TaGFkZXJzQ2hhbmdlZCA9ICgpID0+IHtcclxuICAgIC8vIC9pZiAoc2VsZWN0ZWRGcmFnbWVudClcclxuICAgIC8vZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgLy9jcmVhdGVTaGFkZXJPcHRpb25zKHNoYWRlck9wdGlvbnMpO1xyXG4gIH07XHJcblxyXG4gIC8vdmVydGV4IHNoYWRlclxyXG4gIGNvbnN0IFt2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIHZlcnRleERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIChuZXdWZXJ0ZXgpID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudCA9IG5ld1ZlcnRleDtcclxuICAgICAgb25TaGFkZXJzQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgb3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgdmVydGV4RHJvcGRvd25FbGVtZW50LFxyXG4gICAgICBcInZpZXdlci12ZXJ0ZXgtc2hhZGVyLXNlbGVjdG9yXCIsXHJcbiAgICAgIFwiVmVydGV4IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgLy9mcmFnbWVudCBzaGFkZXJcclxuICBjb25zdCBbZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgKG5ld0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnQgPSBuZXdGcmFnbWVudDtcclxuICAgICAgb25TaGFkZXJzQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgb3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLWZyYWdtZW50LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIkZyYWdtZW50IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgb3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZVNlY3Rpb25UaXRsZShcIlNIQURFUlNcIiwgXCJ2aWV3ZXItc2hhZGVycy10aXRsZVwiKS5lbGVtZW50XHJcbiAgKTtcclxuXHJcbiAgb3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZUZBQnV0dG9uKFwi4oa7XCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsICgpID0+IHtcclxuICAgICAgdnNjb2RlQXBpLmdldFNoYWRlckRvY3VtZW50cygpLnRoZW4oKHNkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoKGYpID0+ICh7XHJcbiAgICAgICAgICBpZDogZi5maWxlUGF0aCxcclxuICAgICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgICAgfSk7XHJcbiAgICB9KS5lbGVtZW50XHJcbiAgKTtcclxuXHJcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb25zKTtcclxuICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChjcmVhdGVWZWN0b3IzKClbMF0sIFwiXCIsIFwidV9jb2xvclwiKSk7XHJcbiAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZCh3aXRoTGFiZWwoY3JlYXRlVmVjdG9yNCgpWzBdLCBcIlwiLCBcInVfZGlmZnVzZVwiKSk7XHJcbiAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZCh3aXRoTGFiZWwoY3JlYXRlTWF0cml4MyhuZXd2YWwgPT4gY29uc29sZS5sb2cobmV3dmFsKSlbMF0sIFwiXCIsIFwidV9kaWZmdXNlMlwiKSk7XHJcblxyXG4gIC8vIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgLy8gY2FudmFzLmNsYXNzTmFtZSA9IFwidmlld2VyLWNvbnRlbnRcIjtcclxuICAvLyBjYW52YXMud2lkdGggPSA1MDA7XHJcbiAgLy8gY2FudmFzLmhlaWdodCA9IDUwMDtcclxuICAvLyBlbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgLy8gY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgLy8gY29udGV4dC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgLy8gY29udGV4dC5maWxsUmVjdCgxNTAsIDE1MCwgMjAwLCA0NTApO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUZBQnV0dG9uID0gKFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU6IHN0cmluZyxcclxuICBvbkNsaWNrOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9uLm9uY2xpY2sgPSBvbkNsaWNrO1xyXG4gIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICByZXR1cm4geyBlbGVtZW50OiBidXR0b24gfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==