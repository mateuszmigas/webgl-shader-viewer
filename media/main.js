!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};var f=function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:f,setSelectedItemByIndex:function(e){return f(s[e].item.id)},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e){var t=c((function(t){t&&(e.forEach((function(e){return e.element.classList.add("hidden")})),e.find((function(e){return e.id===t.id})).element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(e.map((function(e){return{id:e.id,display:e.display}}))),r.setSelectedItemByIndex(0),n},l=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},f=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},p=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},d=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},m=function(e){return d([0,0,0],e,1,3)},h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v={min:"0",max:"1",step:"0.1"},y=function(e,t){return e.hasOwnProperty(t)},g=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},b=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var x,E=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=A(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),A=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,b([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,b([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,b([n],e))};case r.SAMPLER_2D:return function(e){};default:g(e)}},T=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=new T((function(e){return e.name+";"+e.type})),O=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return L((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return P((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),F(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return _((function(t){w();e.setValue({slot:t.slot,textureData:!0})}));default:return V()}},V=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},L=function(e){var t=d([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},_=function(e){var t=m(),n=t[0];return t[1].setValues([0,0,0]),n},P=function(e){var t=m(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=p("row-with-gap"),i=d(t,(function(t){r(t),null==e||e(t)}),1,3,v),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,h(h({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=s([{id:"custom",display:"Custom",element:n},{id:"color",display:"Color",element:o}]);return p("column-with-gap",[i,n,o])},F=function(e,t){var n=d([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=p("row-with-gap"),i=d(t,(function(t){r(t),null==e||e(t)}),1,4,v),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,h(h({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=s([{id:"custom",display:"Custom",element:r},{id:"color",display:"Color",element:i}]);return p("column-with-gap",[a,r,i])},I=function(e,t){return e.substring(0,e.length-t)},N=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},R=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(x||(x={}));var B=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=D(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),D=function(e){switch(e){case x.FLOAT_VEC3:return 3;case x.FLOAT_VEC4:return 4;default:g(e)}},M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};console.log(2);var k=new T((function(e){return e.name+";"+e.type})),U=function(e){return{id:"custom",display:"Custom",element:e}},H=function(e){switch(e.getAttributeBufferType()){case x.FLOAT_VEC3:return Y((function(t){e.setValue(t)}));case x.FLOAT_VEC4:var t=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(t),q(t,(function(t){e.setValue(t)}));default:return G()}},G=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},J=function(e,t,n){var r=t.map((function(t){return{id:"dupa",unsub:t.subscribeToChange(e),element:n(),display:t.name}}));return[r,function(){return r.forEach((function(e){return e.unsub()}))}]},Y=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},q=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},z=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},X=acquireVsCodeApi(),K=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=w();return X.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=w();return X.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;X.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),X.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),W=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};W(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,d,m,h,v,g,b,x,A,T,w,V,L,_,P,F,D,G;return Q(this,(function(Y){var q,X,Z;return e=new K,t=document.getElementById("viewer"),n=p("viewer-options"),r=p("viewer-shader-options"),i=p("viewer-content shader-errors"),a=z("viewer-content"),u=a[0],d=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),m=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},h=function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));L.setItems(t),F.setItems(t)}))},A=null,T=function(){r.innerHTML="";var e,t,n,o,a=d.context;if(x&&b){var u=function(e,t,n){var r=N(e,e.VERTEX_SHADER,t),o=N(e,e.FRAGMENT_SHADER,n),i=void 0;y(r,"error")&&(i=I(r.error,1));var a=void 0;return y(o,"error")&&(a=I(o.error,1)),i||a?[i,a]:R(e,r,o)}(a,b,x);if(Array.isArray(u))m("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{m("canvas");var c=u,l=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),p=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),h=function(e,t,n){var r=n.map((function(n){var r=C({},n),o=S.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new E(e,t,n.name,n.type);return{key:r,value:{component:f(O(i),n.name),uniformInfo:i}}}));return S.clear(),r.forEach((function(e){return S.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,l);h.forEach((function(e){return r.appendChild(e.component)}));var v=function(e,t,n,r){var o=n.map((function(n){var o=M({},n),i=k.get(o);if(i)return i.attributeBufferInfo.attachToProgram(t),{key:o,value:i};var a=new B(e,t,n.name,n.type),u=H(a),c=J((function(e){a.setValue(e)}),r.filter((function(e){return e.type===a.getAttributeBufferType()})),(function(){return null})),l=c[0],p=c[1],d=l.length?s(j([U(u)],l)):u;return{key:o,value:{component:f(d,n.name),attributeBufferInfo:a,dispose:function(){a.deleteBuffer(),p()}}}}));return o.map((function(e){return e.value}))}(a,c,p);v.forEach((function(e){return r.appendChild(e.component)}));var g=h.map((function(e){return e.uniformInfo})),T=v.map((function(e){return e.attributeBufferInfo}));null!==A&&cancelAnimationFrame(A);var w=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(d.context,u,{uniforms:g,attributeBuffers:T}),A=requestAnimationFrame(w)};w()}}else m("none")},n.appendChild(p("viewer-shaders-title",[(q=o,X="",Z=document.createElement("h3"),Z.textContent=q,Z.className=X+" section-title",{element:Z}).element,l("Sync","viewer-refresh-button",h).element])),w=c((function(t){return W(void 0,void 0,void 0,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return null==v||v(),t&&(v=e.subscribeToDocumentSave(t.id,(function(e){b=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return b=n,T(),[2]}}))}))})),V=w[0],L=w[1],n.appendChild(f(V,"Vertex Shader")),_=c((function(t){return W(void 0,void 0,void 0,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return null==g||g(),t&&(g=e.subscribeToDocumentSave(t.id,(function(e){x=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return x=n,T(),[2]}}))}))})),P=_[0],F=_[1],n.appendChild(f(P,"Fragment Shader")),D=c((function(){})),G=D[0],D[1].setItems([{id:"cube",display:"Cube"},{id:"circle",display:"Circle"}]),n.appendChild(f(G,"Mesh")),n.appendChild(r),h(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi90cmFuc2xhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvYnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd3JhcHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaW5wdXROdW1iZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9pbnB1dENvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3R5cGVHdWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL2NvbXBvc2l0ZUtleU1hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3V1aWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2FycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd2ViZ2xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvaHRtbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW11bmljYXRpb24vdmlld2VyRW5kcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9oZWFkZXIudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVbmlmb3JtVHlwZSIsInRyYW5zbGF0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJdGVtIiwiY3JlYXRlRHJvcGRvd24iLCJvbkNoYW5nZSIsImNsYXNzTmFtZSIsIm9wdGlvbnMiLCJjb21iaW5lZE9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJmb3JFYWNoIiwiaWUiLCJzZWxlY3RlZCIsInNldEl0ZW1zIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJsZW5ndGgiLCJkaXNwbGF5Iiwib3B0aW9uIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJnZXRJdGVtcyIsIm1hcCIsInNldFNlbGVjdGVkSXRlbUJ5SW5kZXgiLCJpbmRleCIsImdldFNlbGVjdGVkSXRlbSIsImNsZWFyU2VsZWN0aW9uIiwiY3JlYXRlRWxlbWVudHNEcm9wZG93biIsImVsZW1lbnRzIiwib2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJvcHRpb25zRWxlbWVudCIsIm9wdGlvbnNDb250cm9sbGVyIiwiY3JlYXRlQnV0dG9uIiwidGV4dCIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwid2l0aExhYmVsIiwid3JhcHBlciIsImxhYmVsIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjcmVhdGVNdWx0aU51bWJlcklucHV0IiwiaW5pdGlhbFZhbHVlIiwicm93cyIsImNvbHVtbnMiLCJpbnB1dE9wdGlvbnMiLCJpbnB1dEdyaWQiLCJnZXRWYWx1ZXMiLCJyb3ciLCJpbnB1dFJvdyIsImNvbHVtbiIsImlucHV0IiwiaXRlbUVsZW1lbnQiLCJhc3NpZ24iLCJ0eXBlIiwidG9TdHJpbmciLCJvbmlucHV0IiwiTnVtYmVyIiwic2V0VmFsdWVzIiwibmV3VmFsdWVzIiwic2V0UmVhZG9ubHkiLCJyZWFkb25seSIsInJlYWRPbmx5IiwiY3JlYXRlVmVjdG9yMyIsImNvbG9ySW5wdXRQcm9wcyIsIm1pbiIsIm1heCIsInN0ZXAiLCJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJhc3NlcnROZXZlciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIkF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJjb250ZXh0IiwicHJvZ3JhbSIsInRoaXMiLCJhdHRhY2hUb1Byb2dyYW0iLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldHRlciIsImNyZWF0ZVVuaWZvcm1TZXR0ZXIiLCJzZXRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZGlzcG9zZSIsIkZMT0FUX1ZFQzIiLCJ1bmlmb3JtMmYiLCJGTE9BVF9WRUMzIiwidW5pZm9ybTNmIiwiRkxPQVRfVkVDNCIsInVuaWZvcm00ZiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImhhcyIsImNsZWFyIiwidXVpZHY0IiwicmVwbGFjZSIsIk1hdGgiLCJyYW5kb20iLCJ1bmlmb3JtQ29tcG9uZW50Q2FjaGUiLCJDb21wb3NpdGVLZXlNYXAiLCJjcmVhdGVVbmlmb3JtQ29tcG9uZW50IiwidW5pZm9ybUluZm8iLCJjcmVhdGVVbmlmb3JtRm9yVmVjMiIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMzIiwiY3JlYXRlVW5pZm9ybUZvclZlYzQiLCJjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSIsInNsb3QiLCJ0ZXh0dXJlRGF0YSIsImNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQiLCJpbm5lclRleHQiLCJ1cGRhdGUiLCJjdXN0b21FbGVtZW50IiwiY29sb3JEaXYiLCJzZXRDb2xvciIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29udGFpbmVyIiwiY29udHJvbGxlciIsImNyZWF0ZUNvbG9yMyIsImNvbG9yRWxlbWVudCIsImNyZWF0ZUNvbG9yNCIsInJlbW92ZUxhc3QiLCJjb3VudCIsInN1YnN0cmluZyIsImNvbXBpbGVTaGFkZXIiLCJyZW5kZXJpbmdDb250ZXh0Iiwic291cmNlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJlcnJvciIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJjcmVhdGVQcm9ncmFtIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImRlbGV0ZVByb2dyYW0iLCJnZXRQcm9ncmFtSW5mb0xvZyIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImdldEF0dHJpYkxvY2F0aW9uIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImZsYXR0ZW4iLCJjb25jYXQiLCJidWZmZXJEYXRhIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJzZXRBdHRyaWJ1dGVCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInNpemUiLCJnZXROdW1Db21wb25lbnRzIiwiRkxPQVQiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSIsImRlbGV0ZUJ1ZmZlciIsImJ1ZmZlclR5cGUiLCJjb25zb2xlIiwibG9nIiwiY29tcG9uZW50Q2FjaGUiLCJjcmVhdGVDdXN0b21PcHRpb24iLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0IiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkIiwiY3JlYXRlQmluZGluZ09wdGlvbnMiLCJhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncyIsInByZXZpZXdFbGVtZW50RmFjdG9yeSIsInh4IiwiYiIsInVuc3ViIiwic3Vic2NyaWJlVG9DaGFuZ2UiLCJ4IiwicmVzdWx0IiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsImNyZWF0ZVdlYkdMQ2FudmFzIiwiY2FudmFzIiwiY2FsbGJhY2siLCJnZXRDb250ZXh0IiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlckVudHJ5IiwidGFyZ2V0IiwiZG9tUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInkiLCJvYnNlcnZlIiwidnNjb2RlQXBpIiwiYWNxdWlyZVZzQ29kZUFwaSIsImV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwibWVzc2FnZUlkIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsImFycmF5IiwiaW5kZXhPZiIsInNwbGljZSIsInZpZXdlckVuZHBvaW50Iiwidmlld2VyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2aWV3ZXJPcHRpb25zIiwic2hhZGVyT3B0aW9ucyIsInNoYWRlckNvbXBpbGF0aW9uRXJyb3JzIiwid2ViR0xDYW52YXMiLCJ3ZWJHTENvbnRyb2xsZXIiLCJzaG93Q29udGVudCIsImNvbnRlbnQiLCJ2aXNpYmlsaXR5Iiwic3luY1NoYWRlckRvY3VtZW50cyIsInRoZW4iLCJzZCIsImYiLCJ2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIiLCJmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlciIsImFuaW1hdGlvbkZyYW1lSGFuZGxlIiwib25TaGFkZXJDb250ZW50Q2hhbmdlZCIsInZlcnRleFNoYWRlckVycm9ycyIsImZyYWdtZW50U2hhZGVyRXJyb3JzIiwiZXJyb3JzIiwic2VsZWN0ZWRGcmFnbWVudENvbnRlbnQiLCJzZWxlY3RlZFZlcnRleENvbnRlbnQiLCJ2ZXJ0ZXhTaGFkZXJDb250ZW50IiwiZnJhZ21lbnRTaGFkZXJDb250ZW50IiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwidW5kZWZpbmVkIiwiZnJhZ21lbnRFcnJvciIsImNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSIsImpvaW4iLCJ1bmlmb3JtcyIsIm51bVVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwidW5pZm9ybSIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRQcm9ncmFtVW5pZm9ybXMiLCJhdHRyaWJ1dGVCdWZmZXJzIiwibnVtQXR0cmlidXRlQnVmZmVycyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmlidXRlQnVmZmVyIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMiLCJ1bmlmb3JtQ29tcG9uZW50cyIsImZyb21DYWNoZSIsIlVuaWZvcm1JbmZvIiwiY29tcG9uZW50IiwidWMiLCJjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyIsImF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImZpbHRlciIsImJpbmRpbmdPcHRpb25zIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyIsImFiIiwiYWJjIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW5kZXJJbmZvIiwidXNlUHJvZ3JhbSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1IiwicHJpbWl0aXZlVHlwZSIsIlRSSUFOR0xFUyIsImRyYXdBcnJheXMiLCJyZW5kZXJQcm9ncmFtIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV3VmVydGV4Iiwic2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwibmV3Q29udGVudCIsInZlcnRleERyb3Bkb3duRWxlbWVudCIsIm5ld0ZyYWdtZW50Iiwic2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJmcmFnbWVudERyb3Bkb3duRWxlbWVudCIsIm1lc2hFbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFD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LGFBQ0EsSyx3QkFGSjJQLEVBQTBCLEVBRzFCSixJLGNBakJHMkQsRUFBdUIsS0FBRTdELEVBQTBCLEtBb0IxRGIsRUFBYzVOLFlBQ1pxQixFQUFVaVIsRUFBeUIsb0JBRy9CLEVBQWdDbFUsR0FBZSxlQUE5Q21VLEVBQVcsS0FBZ0IsS0FDbkI5UyxTQUFTLENBQ3RCLENBQUVMLEdBQUksT0FBUVMsUUFBUyxRQUN2QixDQUFFVCxHQUFJLFNBQVVTLFFBQVMsWUFFM0IrTixFQUFjNU4sWUFBWXFCLEVBQVVrUixFQUFhLFNBRWpEM0UsRUFBYzVOLFlBQVk2TixHQUUxQk8sSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IHRyYW5zbGF0aW9ucyA9IHtcclxuICAgIHNoYWRlcnM6IFwiU0hBREVSU1wiXHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzLCBWZWN0b3I0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5cclxuZXhwb3J0IGVudW0gVW5pZm9ybVR5cGUge1xyXG4gIEZMT0FUX1ZFQzIgPSAzNTY2NCxcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG4gIFNBTVBMRVJfMkQgPSAzNTY3OCxcclxufVxyXG5cclxuLy81MTIwIChCWVRFKSwgNTEyMSAoVU5TSUdORURfQllURSksIDUxMjIgKFNIT1JUKSwgNTEyMyAoVU5TSUdORURfU0hPUlQpLCA1MTI0IChJTlQpLFxyXG4vLyA1MTI1IChVTlNJR05FRF9JTlQpLCA1MTI2IChGTE9BVCksIDM1NjY0IChGTE9BVF9WRUMyKSxcclxuLy8gLCAzNTY2NyAoSU5UX1ZFQzIpLCAzNTY2OCAoSU5UX1ZFQzMpLCAzNTY2OSAoSU5UX1ZFQzQpLCAzNTY3MCAoQk9PTCksIDM1NjcxIChCT09MX1ZFQzIpLCAzNTY3MiAoQk9PTF9WRUMzKSwgMzU2NzMgKEJPT0xfVkVDNCksIDM1Njc0IChGTE9BVF9NQVQyKSwgMzU2NzUgKEZMT0FUX01BVDMpLCAzNTY3NiAoRkxPQVRfTUFUNClcclxuXHJcbmV4cG9ydCBjbGFzcyBVbmlmb3JtSW5mbzxUID0gYW55PiB7XHJcbiAgcHJpdmF0ZSB2YWx1ZTogVCB8IG51bGw7XHJcbiAgcHJpdmF0ZSBzZXR0ZXI6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBVbmlmb3JtVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbTogV2ViR0xQcm9ncmFtKSB7XHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMuY29udGV4dC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdGhpcy5uYW1lKTtcclxuICAgIHRoaXMuc2V0dGVyID0gY3JlYXRlVW5pZm9ybVNldHRlcih0aGlzLnR5cGUsIHRoaXMuY29udGV4dCwgbG9jYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuICB9XHJcblxyXG4gIHNldFVuaWZvcm0oKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnNldHRlcih0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFVuaWZvcm1UeXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7fVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtU2V0dGVyID0gKFxyXG4gIHR5cGU6IFVuaWZvcm1UeXBlLFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBsb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb25cclxuKTogKCh2YWx1ZTogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjIpID0+IGNvbnRleHQudW5pZm9ybTJmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjMpID0+IGNvbnRleHQudW5pZm9ybTNmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjQpID0+IGNvbnRleHQudW5pZm9ybTRmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLlNBTVBMRVJfMkQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlRGF0YTogYm9vbGVhbiB9KSA9PiB7XHJcbiAgICAgICAgLy9jb250ZXh0LnRleGkodmFsdWUuc2xvdCk7XHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcih0eXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCB0eXBlIERyb3Bkb3duSXRlbSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRpc3BsYXk6IHN0cmluZztcclxufTtcclxuXHJcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gIGVtcHR5SXRlbTogdHJ1ZSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9XHJcbik6IFtcclxuICBIVE1MU2VsZWN0RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRJdGVtczogKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4gdm9pZDtcclxuICAgIGdldEl0ZW1zOiAoKSA9PiBEcm9wZG93bkl0ZW1bXTtcclxuICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJbmRleDogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICBjbGVhclNlbGVjdGlvbjogKCkgPT4gdm9pZDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKGUgPT4gZS5pdGVtLmlkID09PSBlbGVtZW50LnZhbHVlKTtcclxuXHJcbiAgICBpZiAoZm91bmRFbGVtZW50Lml0ZW0uaWQpIHNldFNlbGVjdGVkSXRlbShmb3VuZEVsZW1lbnQuaXRlbSk7XHJcbiAgICBlbHNlIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRJdGVtcyA9IChpdGVtczogRHJvcGRvd25JdGVtW10pID0+IHtcclxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGl0ZW1FbGVtZW50cy5sZW5ndGggPSAwO1xyXG5cclxuICAgIGlmICghaXRlbXMuZmluZChpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdJdGVtcyA9IGNvbWJpbmVkT3B0aW9ucy5lbXB0eUl0ZW1cclxuICAgICAgPyBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc11cclxuICAgICAgOiBbLi4uaXRlbXNdO1xyXG4gICAgbmV3SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKGllID0+IGllLml0ZW0pO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbUJ5SWQgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUluZGV4ID0gKGluZGV4OiBudW1iZXIpID0+XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkKGl0ZW1FbGVtZW50c1tpbmRleF0uaXRlbS5pZCk7XHJcblxyXG4gIGNvbnN0IGdldFNlbGVjdGVkSXRlbSA9ICgpID0+IHNlbGVjdGVkSXRlbTtcclxuICBjb25zdCBjbGVhclNlbGVjdGlvbiA9ICgpID0+IHtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IChpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2UpKTtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgZWxlbWVudCxcclxuICAgIHtcclxuICAgICAgc2V0SXRlbXMsXHJcbiAgICAgIGdldEl0ZW1zLFxyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkLFxyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1CeUluZGV4LFxyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW0sXHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uLFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24gPSAoXHJcbiAgZWxlbWVudHM6IHsgaWQ6IHN0cmluZzsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgIGVsZW1lbnRzLmZvckVhY2gob2UgPT4gb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuICAgICAgZWxlbWVudHMuZmluZChpID0+IGkuaWQgPT09IGl0ZW0uaWQpLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0sXHJcbiAgICBcIlwiLFxyXG4gICAgeyBlbXB0eUl0ZW06IGZhbHNlIH1cclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgZWxlbWVudHMubWFwKGUgPT4gKHtcclxuICAgICAgaWQ6IGUuaWQsXHJcbiAgICAgIGRpc3BsYXk6IGUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJbmRleCgwKTtcclxuICByZXR1cm4gb3B0aW9uc0VsZW1lbnQ7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU/OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWUgPz8gXCJcIn0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURpdiA9IChjbGFzc05hbWU6IHN0cmluZywgY2hpbGRyZW4/OiBIVE1MRWxlbWVudFtdKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNoaWxkcmVuPy5mb3JFYWNoKGMgPT4gZGl2LmFwcGVuZENoaWxkKGMpKTtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCA9IDxUIGV4dGVuZHMgbnVtYmVyW10+KFxyXG4gIGluaXRpYWxWYWx1ZTogVCxcclxuICBvbkNoYW5nZTogKG5ld1ZhbHVlOiBUKSA9PiB2b2lkLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICBjb2x1bW5zOiBudW1iZXIsXHJcbiAgaW5wdXRPcHRpb25zPzogUGFydGlhbDxIVE1MSW5wdXRFbGVtZW50PlxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBUO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5wdXRHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBpbnB1dEdyaWQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWdyaWRcIjtcclxuXHJcbiAgY29uc3QgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfVtdID0gW107XHJcbiAgY29uc3Qgc2V0VmFsdWVzID0gKG5ld1ZhbHVlczogVCkgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWUudmFsdWUgPSBuZXdWYWx1ZXNbaW5kZXhdO1xyXG4gICAgICBpZS5lbGVtZW50LnZhbHVlID0gaWUudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH0pO1xyXG4gIGNvbnN0IGdldFZhbHVlcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoaWUgPT4gaWUudmFsdWUpIGFzIFQ7XHJcbiAgY29uc3Qgc2V0UmVhZG9ubHkgPSAocmVhZG9ubHk6IGJvb2xlYW4pID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5yZWFkT25seSA9IHJlYWRvbmx5KSk7XHJcblxyXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XHJcbiAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dFJvdy5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtcm93XCI7XHJcblxyXG4gICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2x1bW5zICsgY29sdW1uO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxWYWx1ZVtpbmRleF07XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gICAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZT8udG9TdHJpbmcoKTtcclxuICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBpdGVtRWxlbWVudHNbaW5kZXhdLnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcclxuICAgICAgICBvbkNoYW5nZT8uKGdldFZhbHVlcygpKTtcclxuICAgICAgfTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goaXRlbUVsZW1lbnQpO1xyXG4gICAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRHcmlkLmFwcGVuZENoaWxkKGlucHV0Um93KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBpbnB1dEdyaWQsXHJcbiAgICB7XHJcbiAgICAgIHNldFZhbHVlcyxcclxuICAgICAgZ2V0VmFsdWVzLFxyXG4gICAgICBzZXRSZWFkb25seSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjIgPSBbbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMiA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjI+KFswLCAwXSwgb25DaGFuZ2UsIDEsIDIpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjMgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3IzPihbMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCAzKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjQgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjQpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3I0PihbMCwgMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCA0KTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2IH0gZnJvbSBcIi4vd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IGNvbG9ySW5wdXRQcm9wcyA9IHtcclxuICBtaW46IFwiMFwiLFxyXG4gIG1heDogXCIxXCIsXHJcbiAgc3RlcDogXCIwLjFcIixcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3I0ID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjQpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNSwgMV0gYXMgQ29sb3I0O1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwke2NvbG9yWzNdfSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjQ+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICA0LFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yMyA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3IzKSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3IzO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjVdIGFzIENvbG9yMztcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sMSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjM+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICAzLFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGhhc1Byb3BlcnR5ID0gPFQgZXh0ZW5kcyB7fSwgUCBleHRlbmRzIFByb3BlcnR5S2V5PihcclxuICBvYmo6IFQsXHJcbiAgcHJvcDogUFxyXG4pOiBvYmogaXMgVCAmIFJlY29yZDxQLCB1bmtub3duPiA9PiB7XHJcbiAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhc3NlcnROZXZlciA9ICh2YWx1ZTogbmV2ZXIpOiBuZXZlciA9PiB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgdW5pb24gbWVtYmVyOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcclxufTtcclxuIiwiaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vdHlwZUd1YXJkc1wiO1xyXG5cclxuZXhwb3J0IGVudW0gQXR0cmlidXRlQnVmZmVyVHlwZSB7XHJcbiAgRkxPQVRfVkVDMyA9IDM1NjY1LFxyXG4gIEZMT0FUX1ZFQzQgPSAzNTY2NixcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUJ1ZmZlckluZm8ge1xyXG4gIHByaXZhdGUgYnVmZmVyOiBXZWJHTEJ1ZmZlciB8IG51bGw7XHJcbiAgcHJpdmF0ZSBsb2NhdGlvbjogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGVcclxuICApIHtcclxuICAgIHRoaXMuYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgdGhpcy5idWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigpO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW06IFdlYkdMUHJvZ3JhbSkge1xyXG4gICAgdGhpcy5sb2NhdGlvbiA9IHRoaXMuY29udGV4dC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IG51bWJlcltdW10pIHtcclxuICAgIC8vbnVtRWxlbWVudHMgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICB0aGlzLmNvbnRleHQuYmluZEJ1ZmZlcih0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcbiAgICBjb25zdCBmbGF0dGVuID0gW10uY29uY2F0KC4uLm5ld1ZhbHVlKTtcclxuICAgIHRoaXMuY29udGV4dC5idWZmZXJEYXRhKFxyXG4gICAgICB0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLFxyXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KGZsYXR0ZW4pLFxyXG4gICAgICB0aGlzLmNvbnRleHQuU1RBVElDX0RSQVdcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBzZXRBdHRyaWJ1dGVCdWZmZXIoKSB7XHJcbiAgICBpZiAodGhpcy5idWZmZXIgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5jb250ZXh0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMubG9jYXRpb24pO1xyXG4gICAgICB0aGlzLmNvbnRleHQuYmluZEJ1ZmZlcih0aGlzLmNvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcbiAgICAgIGNvbnN0IHNpemUgPSBnZXROdW1Db21wb25lbnRzKHRoaXMudHlwZSk7IC8vIDIgY29tcG9uZW50cyBwZXIgaXRlcmF0aW9uXHJcbiAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLmNvbnRleHQuRkxPQVQ7IC8vIHRoZSBkYXRhIGlzIDMyYml0IGZsb2F0c1xyXG4gICAgICBjb25zdCBub3JtYWxpemUgPSBmYWxzZTsgLy8gZG9uJ3Qgbm9ybWFsaXplIHRoZSBkYXRhXHJcbiAgICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSBtb3ZlIGZvcndhcmQgc2l6ZSAqIHNpemVvZih0eXBlKSBlYWNoIGl0ZXJhdGlvbiB0byBnZXQgdGhlIG5leHQgcG9zaXRpb25cclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYnVmZmVyXHJcbiAgICAgIHRoaXMuY29udGV4dC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxyXG4gICAgICAgIHRoaXMubG9jYXRpb24sXHJcbiAgICAgICAgc2l6ZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIG5vcm1hbGl6ZSxcclxuICAgICAgICBzdHJpZGUsXHJcbiAgICAgICAgb2Zmc2V0XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUJ1ZmZlcigpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmhhcyh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCIvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZURyb3Bkb3duLFxyXG4gIGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24sXHJcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlQ29sb3IzLCBjcmVhdGVDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5cclxuY29uc3QgdW5pZm9ybUNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbyB9XHJcbj4oa2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgdW5pZm9ybXM6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBVbmlmb3JtVHlwZSB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSB1bmlmb3Jtcy5tYXAodW5pZm9ybSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLnVuaWZvcm0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IHVuaWZvcm1Db21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS51bmlmb3JtSW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdW5pZm9ybUluZm8gPSBuZXcgVW5pZm9ybUluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZSxcclxuICAgICAgICB1bmlmb3JtLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZVVuaWZvcm1Db21wb25lbnQodW5pZm9ybUluZm8pLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMiA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlRWxlbWVudHNEcm9wZG93bihbXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcImN1c3RvbVwiLFxyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6IFwiY29sb3JcIixcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIF0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNCxcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3I0KHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yNCh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFtcclxuICAgIHsgaWQ6IFwiY3VzdG9tXCIsIGRpc3BsYXk6IFwiQ3VzdG9tXCIsIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQgfSxcclxuICAgIHsgaWQ6IFwiY29sb3JcIiwgZGlzcGxheTogXCJDb2xvclwiLCBlbGVtZW50OiBjb2xvckVsZW1lbnQgfSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCByZW1vdmUgPSA8VD4oYXJyYXk6IFRbXSwgaXRlbTogVCkgPT4ge1xyXG4gIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcclxuXHJcbiAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZUxhc3QgPSAodGV4dDogc3RyaW5nLCBjb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gY291bnQpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmVMYXN0IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9hcnJheVwiO1xyXG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZUJ1ZmZlckluZm8sIEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSBmcm9tIFwiLi9hdHRyaWJ1dGVCdWZmZXJcIjtcclxuaW1wb3J0IHsgVW5pZm9ybUluZm8sIFVuaWZvcm1UeXBlIH0gZnJvbSBcIi4vdW5pZm9ybVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXIgPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHR5cGU6IEdMZW51bSxcclxuICBzb3VyY2U6IHN0cmluZ1xyXG4pOiBXZWJHTFNoYWRlciB8IHsgZXJyb3I6IHN0cmluZyB9ID0+IHtcclxuICBjb25zdCBzaGFkZXIgPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgc2hhZGVyLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5DT01QSUxFX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBzaGFkZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZXJyb3IsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21waWxlU2hhZGVyc0Zyb21Tb3VyY2UgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBsZXQgdmVydGV4RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICBmcmFnbWVudEVycm9yID0gcmVtb3ZlTGFzdChmcmFnbWVudFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgLy90b2RvIGNsZWFudXBcclxuICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIFNoYWRlckNvbXBpbGVFcnJvcnM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShjb250ZXh0LCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxyXG4gIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxyXG4pID0+IHtcclxuICBjb25zdCBwcm9ncmFtID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuTElOS19TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYENyZWF0aW5nIHByb2dyYW0gZmFpbGVkOiAke3JlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbVVuaWZvcm1zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfVU5JRk9STVNcclxuICApO1xyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtVW5pZm9ybXM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IHVuaWZvcm0gPSBjb250ZXh0LmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiB1bmlmb3JtLm5hbWUsIHR5cGU6IHVuaWZvcm0udHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1BdHRyaWJ1dGVCdWZmZXJzID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX0FUVFJJQlVURVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtQXR0cmlidXRlQnVmZmVyczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlQnVmZmVyID0gY29udGV4dC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiBhdHRyaWJ1dGVCdWZmZXIubmFtZSwgdHlwZTogYXR0cmlidXRlQnVmZmVyLnR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlclByb2dyYW0gPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICByZW5kZXJJbmZvOiB7XHJcbiAgICB1bmlmb3JtczogVW5pZm9ybUluZm9bXTtcclxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IEF0dHJpYnV0ZUJ1ZmZlckluZm9bXTtcclxuICAgIC8vdGV4dHVyZXNcclxuICB9XHJcbikgPT4ge1xyXG4gIGNvbnRleHQudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICBjb250ZXh0LnZpZXdwb3J0KDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xyXG4gIGNvbnRleHQuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcclxuICBjb250ZXh0LmNsZWFyKGNvbnRleHQuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gIHJlbmRlckluZm8udW5pZm9ybXMuZm9yRWFjaCh1ID0+IHUuc2V0VW5pZm9ybSgpKTtcclxuICByZW5kZXJJbmZvLmF0dHJpYnV0ZUJ1ZmZlcnMuZm9yRWFjaChhYiA9PiBhYi5zZXRBdHRyaWJ1dGVCdWZmZXIoKSk7XHJcbiAgLy8gY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAvLyAgIC4uLnJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVycy5tYXAoKGFiKSA9PiBhYi5nZXRFbGVtZW50c0NvdW50KCkpXHJcbiAgLy8gKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcbiAgY29uc3QgY291bnQgPSAzO1xyXG4gIGNvbnRleHQuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFNoYWRlckNvbXBpbGVFcnJvcnMgPSBbXHJcbiAgdmVydGV4U2hhZGVyRXJyb3JzOiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJFcnJvcnM6IHN0cmluZ1xyXG5dO1xyXG5leHBvcnQgY29uc3QgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyA9IChyZXN1bHQ6IFNoYWRlckNvbXBpbGVFcnJvcnMpID0+IHtcclxuICBjb25zdCBbdmVydGV4U2hhZGVyRXJyb3JzLCBmcmFnbWVudFNoYWRlckVycm9yc10gPSByZXN1bHQ7XHJcblxyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKHZlcnRleFNoYWRlckVycm9ycykge1xyXG4gICAgZXJyb3JzLnB1c2goXCJWRVJURVggU0hBREVSOlwiLCB2ZXJ0ZXhTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZyYWdtZW50U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIkZSQUdNRU5UIFNIQURFUjpcIiwgZnJhZ21lbnRTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycy5qb2luKFwiXFxyXFxuXCIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duIH0gZnJvbSBcIi4vLi4vLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVLZXlNYXAgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tcG9zaXRlS2V5TWFwXCI7XHJcbmltcG9ydCB7IFVuc3Vic2NyaWJlLCBmb28gfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL3R5cGVzXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy93cmFwcGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcblxyXG5jb25zb2xlLmxvZyhmb28pO1xyXG50eXBlIENhY2hlS2V5ID0ge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlO1xyXG59O1xyXG5cclxudHlwZSBDYWNoZVZhbHVlID0ge1xyXG4gIGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7XHJcbiAgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mbztcclxuICBkaXNwb3NlOiAoKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuY29uc3QgY29tcG9uZW50Q2FjaGUgPSBuZXcgQ29tcG9zaXRlS2V5TWFwPENhY2hlS2V5LCBDYWNoZVZhbHVlPihcclxuICBrZXkgPT4gYCR7a2V5Lm5hbWV9OyR7a2V5LnR5cGV9YFxyXG4pO1xyXG5cclxuY29uc3QgcmVidWlsZENhY2hlID0gKG5ld1ZhbHVlczogeyBrZXk6IENhY2hlS2V5OyB2YWx1ZTogQ2FjaGVWYWx1ZSB9W10pID0+IHtcclxuICAvL2Rpc3Bvc2UgaGVyZVxyXG4gIC8vYWJpLmRpc3Bvc2UoKTtcclxuICAvL2NvbXBvbmVudENhY2hlLmNsZWFyKCk7XHJcbiAgLy9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2godWMgPT4gY29tcG9uZW50Q2FjaGUuc2V0KHVjLmtleSwgdWMudmFsdWUpKTtcclxufTtcclxuXHJcbnR5cGUgQXR0cmlidXRlQnVmZmVyQmluZGluZyA9IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZTtcclxuICBzdWJzY3JpYmVUb0NoYW5nZTogKG5ld1ZhbHVlOiBhbnkpID0+IFVuc3Vic2NyaWJlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICBhdHRyaWJ1dGVCdWZmZXJzOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10sXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M/OiBBdHRyaWJ1dGVCdWZmZXJCaW5kaW5nW11cclxuKSA9PiB7XHJcbiAgY29uc3QgY29tcG9uZW50cyA9IGF0dHJpYnV0ZUJ1ZmZlcnMubWFwKGF0dHJpYnV0ZUJ1ZmZlciA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLmF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZnJvbUNhY2hlID0gY29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUuYXR0cmlidXRlQnVmZmVySW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mbyA9IG5ldyBBdHRyaWJ1dGVCdWZmZXJJbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIubmFtZSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXIudHlwZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgY3VzdG9tRWxlbWVudCA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvKTtcclxuXHJcbiAgICAgIGNvbnN0IFtiaW5kaW5nT3B0aW9ucywgdW5zdWJzY3JpYmVdID0gY3JlYXRlQmluZGluZ09wdGlvbnMoXHJcbiAgICAgICAgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5maWx0ZXIoXHJcbiAgICAgICAgICBiID0+IGIudHlwZSA9PT0gYXR0cmlidXRlQnVmZmVySW5mby5nZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKClcclxuICAgICAgICApLFxyXG4gICAgICAgICgpID0+IG51bGwgLy90b2RvXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBlbGVtZW50ID0gYmluZGluZ09wdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgPyBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFtcclxuICAgICAgICAgICAgY3JlYXRlQ3VzdG9tT3B0aW9uKGN1c3RvbUVsZW1lbnQpLFxyXG4gICAgICAgICAgICAuLi5iaW5kaW5nT3B0aW9ucyxcclxuICAgICAgICAgIF0pXHJcbiAgICAgICAgOiBjdXN0b21FbGVtZW50O1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBrZXksXHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIGNvbXBvbmVudDogd2l0aExhYmVsKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lKSxcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uZGVsZXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJlYnVpbGRDYWNoZShjb21wb25lbnRzKTtcclxuICByZXR1cm4gY29tcG9uZW50cy5tYXAoYyA9PiBjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUN1c3RvbU9wdGlvbiA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gKHtcclxuICBpZDogXCJjdXN0b21cIixcclxuICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gIGVsZW1lbnQsXHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50ID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuKSA9PiB7XHJcbiAgc3dpdGNoIChhdHRyaWJ1dGVCdWZmZXJJbmZvLmdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSkge1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzModmFsdWUgPT4ge1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICBjb25zdCBpbml0aWFsVmFsdWU6IFZlY3RvcjRbXSA9IFtcclxuICAgICAgICBbMCwgMCwgMCwgMV0sXHJcbiAgICAgICAgWzAsIDAuNSwgMCwgMV0sXHJcbiAgICAgICAgWzAuNywgMCwgMCwgMV0sXHJcbiAgICAgIF07XHJcbiAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUoaW5pdGlhbFZhbHVlKTtcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNChpbml0aWFsVmFsdWUsIHZhbHVlID0+IHtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgfSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuLy92ZWMzXHJcbi8vYmluZGluZ1xyXG5cclxuY29uc3QgY3JlYXRlQmluZGluZ09wdGlvbnMgPSAoXHJcbiAgdXBkYXRlOiAobmV3VmFsdWU6IGFueSkgPT4gdm9pZCxcclxuICBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5nczogQXR0cmlidXRlQnVmZmVyQmluZGluZ1tdLFxyXG4gIHByZXZpZXdFbGVtZW50RmFjdG9yeTogKCkgPT4gSFRNTEVsZW1lbnRcclxuKTogW3sgaWQ6IHN0cmluZzsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9W10sIFVuc3Vic2NyaWJlXSA9PiB7XHJcbiAgY29uc3QgeHggPSBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5tYXAoYiA9PiB7XHJcbiAgICBjb25zdCB1bnN1YiA9IGIuc3Vic2NyaWJlVG9DaGFuZ2UodXBkYXRlKTtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBwcmV2aWV3RWxlbWVudEZhY3RvcnkoKTtcclxuICAgIGNvbnN0IGRpc3BsYXkgPSBiLm5hbWU7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IFwiZHVwYVwiLFxyXG4gICAgICB1bnN1YixcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgZGlzcGxheSxcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHVuc3ViID0gKCkgPT4geHguZm9yRWFjaCh4ID0+IHgudW5zdWIoKSk7XHJcbiAgcmV0dXJuIFt4eCwgdW5zdWJdO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzW10pID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBpZiAoYXR0cmlidXRlQnVmZmVyQmluZGluZ3MubGVuZ3RoKSB7XHJcbiAgLy8gICAvL2F0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdzLm1hcChiID0+IGIuKVxyXG4gIC8vICAgLy9wcmV2aWV3IGVsZW1lbnRcclxuICAvLyAgIGNvbnN0IHVuc3ViID0gYXR0cmlidXRlQnVmZmVyQmluZGluZ3NbOV0uc3Vic2NyaWJlVG9DaGFuZ2UodXBkYXRlKTtcclxuICAvLyAgIGNvbnN0IGJpbmQgPSB7XHJcbiAgLy8gICAgIGRpc3BsYXk6IFwiQmluZCAtIFwiLFxyXG4gIC8vICAgfTtcclxuICAvLyAgIC8vY29uc3QgeyBiaW5kaW5nT3B0aW9ucywgdW5zdWJzY3JpYmUgfSA9XHJcbiAgLy8gICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24oe1xyXG4gIC8vICAgICBjdXN0b206IHtcclxuICAvLyAgICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gIC8vICAgICAgIGVsZW1lbnQ6IGlucHV0LFxyXG4gIC8vICAgICB9LFxyXG4gIC8vICAgfSk7XHJcbiAgLy8gfVxyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeShlID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDQgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcbiIsImV4cG9ydCB0eXBlIFVuc3Vic2NyaWJlID0gKCkgPT4gdm9pZDtcclxuZXhwb3J0IGNvbnN0IGZvbyA9IDI7XHJcbiIsImltcG9ydCB7IG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSBcIi4uL3V0aWxzL2h0bWxcIjtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlYkdMQ2FudmFzID0gKFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nXHJcbik6IFtcclxuICBIVE1MQ2FudmFzRWxlbWVudCxcclxuICB7XHJcbiAgICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gIGNhbnZhcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG4gIG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0KGNhbnZhcywgcmVjdCA9PiB7XHJcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIC8vdG9kbyBtb3ZlIHRvIGVycm9yc1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJnbCBjb250ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGNhbnZhcyxcclxuICAgIHtcclxuICAgICAgY29udGV4dCxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IG9ic2VydmVFbGVtZW50Qm91bmRpbmdSZWN0ID0gKFxyXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXHJcbiAgY2FsbGJhY2s6IChyZWN0YW5nbGU6IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICB9KSA9PiB2b2lkXHJcbik6ICgoKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZWxlbWVudHMgPT4ge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJFbnRyeSA9IGVsZW1lbnRzLmZpbmQoZSA9PiBlLnRhcmdldCA9PT0gZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKG9ic2VydmVyRW50cnkpIHtcclxuICAgICAgY29uc3QgZG9tUmVjdCA9IG9ic2VydmVyRW50cnkudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgeDogZG9tUmVjdC54LFxyXG4gICAgICAgIHk6IGRvbVJlY3QueSxcclxuICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuICByZXR1cm4gKCkgPT4gcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmUgfSBmcm9tIFwiLi4vYXJyYXlcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4uL3V1aWRcIjtcclxuaW1wb3J0IHsgTWVzc2FnZVJlcXVlc3QsIE1lc3NhZ2VSZXNwb25zZSB9IGZyb20gXCIuL21lc3NhZ2VzXCI7XHJcblxyXG5kZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBNZXNzYWdlUmVxdWVzdCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2c2NvZGVBcGkgPSBhY3F1aXJlVnNDb2RlQXBpKCk7XHJcblxyXG50eXBlIFJlc3BvbnNlTGlzdGVuZXIgPSAobWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdlckVuZHBvaW50IHtcclxuICBldmVudExpc3RlbmVyczogUmVzcG9uc2VMaXN0ZW5lcltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGV2ZW50LmRhdGEpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2hhZGVyRG9jdW1lbnRzKCkge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdPihyZXNvbHZlID0+IHtcclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXRTaGFkZXJEb2N1bWVudHNcIiAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLmZpbGVzKTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldERvY3VtZW50VGV4dChmaWxlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSB1dWlkdjQoKTtcclxuXHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLFxyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPihyZXNvbHZlID0+IHtcclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXREb2N1bWVudFRleHRcIiAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxyXG4gICAgY2FsbGJhY2s6IChuZXdDb250ZW50OiBzdHJpbmcpID0+IHZvaWRcclxuICApOiAoKSA9PiB2b2lkIHtcclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwic3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIixcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZTogZmlsZVBhdGggfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbWVzc2FnZS50eXBlID09PSBcIm9uRG9jdW1lbnRUZXh0Q2hhbmdlXCIgJiZcclxuICAgICAgICBtZXNzYWdlLnBheWxvYWQuZmlsZVBhdGggPT09IGZpbGVQYXRoXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsXHJcbiAgICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZTogZmlsZVBhdGggfSxcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogUmVzcG9uc2VMaXN0ZW5lcikge1xyXG4gICAgcmVtb3ZlKHRoaXMuZXZlbnRMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdHJhbnNsYXRpb25zIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90cmFuc2xhdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNlY3Rpb25UaXRsZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvaGVhZGVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUJ1dHRvbiBhcyBjcmVhdGVCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMgfSBmcm9tIFwiLi91dGlscy93ZWJnbC91bmlmb3JtQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7XHJcbiAgY29tcGlsZVNoYWRlcnNGcm9tU291cmNlLFxyXG4gIGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbiAgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMsXHJcbiAgZ2V0UHJvZ3JhbVVuaWZvcm1zLFxyXG4gIHJlbmRlclByb2dyYW0sXHJcbiAgU2hhZGVyQ29tcGlsZUVycm9ycyxcclxufSBmcm9tIFwiLi91dGlscy93ZWJnbC9pbmRleFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIH0gZnJvbSBcIi4vdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVdlYkdMQ2FudmFzIH0gZnJvbSBcIi4vY29tcG9uZW50cy93ZWJnbENhbnZhc1wiO1xyXG5pbXBvcnQgeyBWaWV3ZXJFbmRwb2ludCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29tbXVuaWNhdGlvbi92aWV3ZXJFbmRwb2ludFwiO1xyXG5cclxuY29uc3QgY3JlYXRlVmlld2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHZpZXdlckVuZHBvaW50ID0gbmV3IFZpZXdlckVuZHBvaW50KCk7XHJcbiAgY29uc3Qgdmlld2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItY29udGVudCBzaGFkZXItZXJyb3JzXCIpO1xyXG4gIGNvbnN0IFt3ZWJHTENhbnZhcywgd2ViR0xDb250cm9sbGVyXSA9IGNyZWF0ZVdlYkdMQ2FudmFzKFwidmlld2VyLWNvbnRlbnRcIik7XHJcblxyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh3ZWJHTENhbnZhcyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQodmlld2VyT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHNob3dDb250ZW50ID0gKGNvbnRlbnQ6IFwiY2FudmFzXCIgfCBcImVycm9yc1wiIHwgXCJub25lXCIpID0+IHtcclxuICAgIHdlYkdMQ2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImNhbnZhc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJlcnJvcnNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN5bmNTaGFkZXJEb2N1bWVudHMgPSAoKSA9PiB7XHJcbiAgICB2aWV3ZXJFbmRwb2ludC5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoZiA9PiAoe1xyXG4gICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZFZlcnRleENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBhbmltYXRpb25GcmFtZUhhbmRsZTogbnVtYmVyID0gbnVsbDtcclxuXHJcbiAgY29uc3Qgb25TaGFkZXJDb250ZW50Q2hhbmdlZCA9ICgpID0+IHtcclxuICAgIHNoYWRlck9wdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3ZWJHTENvbnRyb2xsZXIuY29udGV4dDtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgJiYgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZShcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCxcclxuICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiZXJyb3JzXCIpO1xyXG4gICAgICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLmlubmVyVGV4dCA9IGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMoXHJcbiAgICAgICAgICByZXN1bHQgYXMgU2hhZGVyQ29tcGlsZUVycm9yc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHJlc3VsdCBhcyBXZWJHTFByb2dyYW07XHJcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBnZXRQcm9ncmFtVW5pZm9ybXMoY29udGV4dCwgcHJvZ3JhbSk7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVycyA9IGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzKGNvbnRleHQsIHByb2dyYW0pO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtQ29tcG9uZW50cyA9IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICB1bmlmb3Jtc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgdW5pZm9ybUNvbXBvbmVudHMuZm9yRWFjaCh1YyA9PlxyXG4gICAgICAgICAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZCh1Yy5jb21wb25lbnQpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnNcclxuICAgICAgICApO1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMuZm9yRWFjaChhYiA9PlxyXG4gICAgICAgICAgc2hhZGVyT3B0aW9ucy5hcHBlbmRDaGlsZChhYi5jb21wb25lbnQpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgdW5pZm9ybUluZm9zID0gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnVuaWZvcm1JbmZvKTtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJJbmZvcyA9IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMubWFwKFxyXG4gICAgICAgICAgYWJjID0+IGFiYy5hdHRyaWJ1dGVCdWZmZXJJbmZvXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lSGFuZGxlICE9PSBudWxsKVxyXG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVIYW5kbGUpO1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICByZW5kZXJQcm9ncmFtKHdlYkdMQ29udHJvbGxlci5jb250ZXh0LCByZXN1bHQsIHtcclxuICAgICAgICAgICAgdW5pZm9ybXM6IHVuaWZvcm1JbmZvcyxcclxuICAgICAgICAgICAgYXR0cmlidXRlQnVmZmVyczogYXR0cmlidXRlQnVmZmVySW5mb3MsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dDb250ZW50KFwibm9uZVwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgY3JlYXRlRGl2KFwidmlld2VyLXNoYWRlcnMtdGl0bGVcIiwgW1xyXG4gICAgICBjcmVhdGVTZWN0aW9uVGl0bGUodHJhbnNsYXRpb25zLnNoYWRlcnMsIFwiXCIpLmVsZW1lbnQsXHJcbiAgICAgIGNyZWF0ZUJ1dHRvbihcIlN5bmNcIiwgXCJ2aWV3ZXItcmVmcmVzaC1idXR0b25cIiwgc3luY1NoYWRlckRvY3VtZW50cylcclxuICAgICAgICAuZWxlbWVudCxcclxuICAgIF0pXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW3ZlcnRleERyb3Bkb3duRWxlbWVudCwgdmVydGV4RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgbmV3VmVydGV4ID0+IHtcclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdWZXJ0ZXgpIHtcclxuICAgICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2aWV3ZXJFbmRwb2ludC5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld1ZlcnRleC5pZCxcclxuICAgICAgICAgIG5ld0NvbnRlbnQgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdDb250ZW50O1xyXG4gICAgICAgICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3VmVydGV4XHJcbiAgICAgICAgPyBhd2FpdCB2aWV3ZXJFbmRwb2ludC5nZXREb2N1bWVudFRleHQobmV3VmVydGV4LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZCh3aXRoTGFiZWwodmVydGV4RHJvcGRvd25FbGVtZW50LCBcIlZlcnRleCBTaGFkZXJcIikpO1xyXG5cclxuICBjb25zdCBbZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgbmV3RnJhZ21lbnQgPT4ge1xyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3RnJhZ21lbnQpIHtcclxuICAgICAgICBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZSA9IHZpZXdlckVuZHBvaW50LnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3RnJhZ21lbnQuaWQsXHJcbiAgICAgICAgICBuZXdDb250ZW50ID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgPSBuZXdDb250ZW50O1xyXG4gICAgICAgICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgPSBuZXdGcmFnbWVudFxyXG4gICAgICAgID8gYXdhaXQgdmlld2VyRW5kcG9pbnQuZ2V0RG9jdW1lbnRUZXh0KG5ld0ZyYWdtZW50LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChmcmFnbWVudERyb3Bkb3duRWxlbWVudCwgXCJGcmFnbWVudCBTaGFkZXJcIilcclxuICApO1xyXG5cclxuICBjb25zdCBbbWVzaEVsZW1lbnQsIG1lc2hDb250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKCgpID0+IHt9KTtcclxuICBtZXNoQ29udHJvbGxlci5zZXRJdGVtcyhbXHJcbiAgICB7IGlkOiBcImN1YmVcIiwgZGlzcGxheTogXCJDdWJlXCIgfSxcclxuICAgIHsgaWQ6IFwiY2lyY2xlXCIsIGRpc3BsYXk6IFwiQ2lyY2xlXCIgfSxcclxuICBdKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChtZXNoRWxlbWVudCwgXCJNZXNoXCIpKTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxuXHJcbiAgc3luY1NoYWRlckRvY3VtZW50cygpO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==