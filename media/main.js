!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=function(e,t){return e.hasOwnProperty(t)},p=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},d=acquireVsCodeApi(),h=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return d.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return d.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;d.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),d.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),m=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},v=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},y=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},x=function(e,t,n){var r=b(e,e.VERTEX_SHADER,t),o=b(e,e.FRAGMENT_SHADER,n),i=void 0;f(r,"error")&&(i=s(r.error,1));var a=void 0;return f(o,"error")&&(a=s(o.error,1)),i||a?[i,a]:function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))}(e,r,o)},E=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},A=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},w=function(e){return A([0,0,0],e,1,3)},T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C={min:"0",max:"1",step:"0.1"},O=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var S,V=function(){function e(e,t,n,r){this.name=n,this.type=r;var o=e.getUniformLocation(t,n);this.setter=L(r,e,o)}return e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),L=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,O([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,O([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,O([n],e))};case r.SAMPLER_2D:return function(e){};default:p(e)}},_=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},N=new _((function(e){return e.name+";"+e.type})),P=function(e,t){switch(e.getUniformType()){case r.FLOAT_VEC2:return I((function(n){e.setValue(n),t()}));case r.FLOAT_VEC3:return B((function(n){e.setValue(n),t()}));case r.FLOAT_VEC4:var n=[1,0,0,1];return e.setValue(n),M(n,(function(n){e.setValue(n),t()}));case r.SAMPLER_2D:return j((function(n){l();e.setValue({slot:n.slot,textureData:!0}),t()}));default:return R()}},R=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},D=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},I=function(e){var t=A([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},j=function(e){var t=w(),n=t[0];return t[1].setValues([0,0,0]),n},B=function(e){var t=w(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=y("row-with-gap"),i=A(t,(function(t){r(t),null==e||e(t)}),1,3,C),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=D({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return y("column-with-gap",[i,n,o])},M=function(e,t){var n=A([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=y("row-with-gap"),i=A(t,(function(t){r(t),null==e||e(t)}),1,4,C),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=D({custom:{display:"Custom",element:r},color:{display:"Color",element:i}});return y("column-with-gap",[a,r,i])};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(S||(S={}));var k=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.location=e.getAttribLocation(t,n),this.buffer=e.createBuffer()}return e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=U(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.dispose=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),U=function(e){switch(e){case S.FLOAT_VEC3:return 3;case S.FLOAT_VEC4:return 4;default:p(e)}},H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},G=new _((function(e){return e.name+";"+e.type})),J=function(e,t){switch(e.getAttributeBufferType()){case S.FLOAT_VEC3:return z((function(n){e.setValue(n),t()}));case S.FLOAT_VEC4:var n=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(n),X(n,(function(n){e.setValue(n),t()}));default:return Y()}},Y=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},z=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},X=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},K=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};q(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,s,l,f,p,d,b,A,w,T,C,O,S,L;return K(this,(function(_){var R,D,I;return e=new h,t=document.getElementById("viewer"),n=y("viewer-options"),r=y("viewer-shader-options"),i=y("viewer-content shader-errors"),a=E("viewer-content"),u=a[0],s=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),l=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},A=function(){r.innerHTML="";var e,t,n,o,a=s.context;if(b&&d){var u=x(a,d,b);if(Array.isArray(u))l("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{l("canvas");var c=u,f=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push(g({},i))}return r}(a,c),p=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push(g({},i))}return r}(a,c),h=function(){return function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(s.context,u,{uniforms:[],attributeBuffers:[]})};(function(e,t,n,r){var o=r.map((function(r){var o=F({},r),i=N.get(o);if(i)return{key:o,component:i};var a=new V(e,t,r.name,r.type),u=v(P(a,n),"",r.name);return N.set(o,u),{key:o,component:u}}));return N.clear(),o.forEach((function(e){return N.set(e.key,e.component)})),o.map((function(e){return e.component}))})(a,c,h,f).forEach((function(e){return r.appendChild(e)})),function(e,t,n,r){var o=r.map((function(r){var o=H({},r),i=G.get(o);if(i)return{key:o,component:i};var a=new k(e,t,r.name,r.type),u=v(J(a,n),"",r.name);return G.set(o,u),{key:o,component:u}}));return G.clear(),o.forEach((function(e){return G.set(e.key,e.component)})),o.map((function(e){return e.component}))}(a,c,h,p).forEach((function(e){return r.appendChild(e)})),h()}}else l("none")},n.appendChild(y("viewer-shaders-title",[(R=o,D="",I=document.createElement("h3"),I.textContent=R,I.className=D+" section-title",{element:I}).element,m("Sync","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));C.setItems(t),L.setItems(t)}))})).element])),w=c((function(t){return q(void 0,void 0,void 0,(function(){var n;return K(this,(function(r){switch(r.label){case 0:return null==f||f(),t&&(f=e.subscribeToDocumentSave(t.id,(function(e){d=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return d=n,A(),[2]}}))}))})),T=w[0],C=w[1],n.appendChild(v(T,"viewer-vertex-shader-selector","Vertex Shader")),O=c((function(t){return q(void 0,void 0,void 0,(function(){var n;return K(this,(function(r){switch(r.label){case 0:return null==p||p(),t&&(p=e.subscribeToDocumentSave(t.id,(function(e){b=e,A()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return b=n,A(),[2]}}))}))})),S=O[0],L=O[1],n.appendChild(v(S,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(r),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3VuaWZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbW11bmljYXRpb25Qcm94eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jb21tb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NyZWF0ZVdlYkdMQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0VmVjdG9yMy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZWRpdENvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9zaXRlS2V5TWFwLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvdW5pZm9ybUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJVbmlmb3JtVHlwZSIsInRyYW5zbGF0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZW1wdHlJdGVtIiwiY3JlYXRlRHJvcGRvd24iLCJvbkNoYW5nZSIsImNsYXNzTmFtZSIsIm9wdGlvbnMiLCJjb21iaW5lZE9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldEl0ZW1zIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJsZW5ndGgiLCJkaXNwbGF5IiwiZm9yRWFjaCIsIm9wdGlvbiIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJnZXRJdGVtcyIsIm1hcCIsImllIiwic2V0U2VsZWN0ZWRJdGVtQnlJZCIsImdldFNlbGVjdGVkSXRlbSIsImNsZWFyU2VsZWN0aW9uIiwicmVtb3ZlTGFzdCIsInRleHQiLCJjb3VudCIsInN1YnN0cmluZyIsInV1aWR2NCIsInJlcGxhY2UiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJhc3NlcnROZXZlciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsIm1lc3NhZ2VJZCIsInBvc3RNZXNzYWdlIiwidHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZSIsInBheWxvYWQiLCJmaWxlcyIsInJlbW92ZUxpc3RlbmVyIiwiZ2V0RG9jdW1lbnRUZXh0IiwiZmlsZU5hbWUiLCJzdWJzY3JpYmVUb0RvY3VtZW50U2F2ZSIsImZpbGVQYXRoIiwiY2FsbGJhY2siLCJ0aGlzIiwiYXJyYXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVGQUJ1dHRvbiIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwid2l0aExhYmVsIiwid3JhcHBlciIsImxhYmVsIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjb21waWxlU2hhZGVyIiwicmVuZGVyaW5nQ29udGV4dCIsInNvdXJjZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZXJyb3IiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiY29tcGlsZVNoYWRlcnMiLCJjb250ZXh0IiwidmVydGV4U2hhZGVyQ29udGVudCIsImZyYWdtZW50U2hhZGVyQ29udGVudCIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwidW5kZWZpbmVkIiwiZnJhZ21lbnRFcnJvciIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJkZWxldGVQcm9ncmFtIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJjcmVhdGVXZWJHTENhbnZhcyIsImNhbnZhcyIsImdldENvbnRleHQiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJSZXNpemVPYnNlcnZlciIsImVsZW1lbnRzIiwib2JzZXJ2ZXJFbnRyeSIsInRhcmdldCIsImRvbVJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwieSIsIm9ic2VydmUiLCJjcmVhdGVNdWx0aU51bWJlcklucHV0IiwiaW5pdGlhbFZhbHVlIiwicm93cyIsImNvbHVtbnMiLCJpbnB1dE9wdGlvbnMiLCJpbnB1dEdyaWQiLCJnZXRWYWx1ZXMiLCJyb3ciLCJpbnB1dFJvdyIsImNvbHVtbiIsImlucHV0IiwiaXRlbUVsZW1lbnQiLCJhc3NpZ24iLCJvbmlucHV0IiwiTnVtYmVyIiwic2V0VmFsdWVzIiwibmV3VmFsdWVzIiwic2V0UmVhZG9ubHkiLCJyZWFkb25seSIsInJlYWRPbmx5IiwiY3JlYXRlVmVjdG9yMyIsImNvbG9ySW5wdXRQcm9wcyIsIm1pbiIsIm1heCIsInN0ZXAiLCJBdHRyaWJ1dGVCdWZmZXJUeXBlIiwibG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJzZXR0ZXIiLCJjcmVhdGVVbmlmb3JtU2V0dGVyIiwic2V0VmFsdWUiLCJuZXdWYWx1ZSIsInNldFVuaWZvcm0iLCJnZXRVbmlmb3JtVHlwZSIsImRpc3Bvc2UiLCJGTE9BVF9WRUMyIiwidW5pZm9ybTJmIiwiRkxPQVRfVkVDMyIsInVuaWZvcm0zZiIsIkZMT0FUX1ZFQzQiLCJ1bmlmb3JtNGYiLCJTQU1QTEVSXzJEIiwia2V5U2VsZWN0b3IiLCJNYXAiLCJzZXQiLCJoYXMiLCJjbGVhciIsInVuaWZvcm1Db21wb25lbnRDYWNoZSIsIkNvbXBvc2l0ZUtleU1hcCIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsInJlbmRlciIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwic2xvdCIsInRleHR1cmVEYXRhIiwiY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCIsImlubmVyVGV4dCIsImNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24iLCJ2YWx1ZXMiLCJvZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm9wdGlvbnNFbGVtZW50Iiwib3B0aW9uc0NvbnRyb2xsZXIiLCJlbnRyaWVzIiwidXBkYXRlIiwiY3VzdG9tRWxlbWVudCIsImNvbG9yRGl2Iiwic2V0Q29sb3IiLCJjb2xvciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbnRhaW5lciIsImNvbnRyb2xsZXIiLCJjcmVhdGVDb2xvcjMiLCJjb2xvckVsZW1lbnQiLCJjdXN0b20iLCJjcmVhdGVDb2xvcjQiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJmbGF0dGVuIiwiY29uY2F0IiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwic2V0QXR0cmlidXRlQnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJzaXplIiwiZ2V0TnVtQ29tcG9uZW50cyIsIkZMT0FUIiwidmVydGV4QXR0cmliUG9pbnRlciIsImdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJkZWxldGVCdWZmZXIiLCJidWZmZXJUeXBlIiwiYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUiLCJjcmVhdGVhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzIiwiY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0IiwiY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkIiwicmVzdWx0IiwicGFyc2UiLCJjb25zb2xlIiwibG9nIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJ2c2NvZGVBcGkiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsInNob3dDb250ZW50IiwiY29udGVudCIsInZpc2liaWxpdHkiLCJvblNoYWRlckNvbnRlbnRDaGFuZ2VkIiwidmVydGV4U2hhZGVyRXJyb3JzIiwiZnJhZ21lbnRTaGFkZXJFcnJvcnMiLCJlcnJvcnMiLCJzZWxlY3RlZEZyYWdtZW50Q29udGVudCIsInNlbGVjdGVkVmVydGV4Q29udGVudCIsImpvaW4iLCJ1bmlmb3JtcyIsIm51bVVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwidW5pZm9ybSIsImdldEFjdGl2ZVVuaWZvcm0iLCJnZXRQcm9ncmFtVW5pZm9ybXMiLCJhdHRyaWJ1dGVCdWZmZXJzIiwibnVtQXR0cmlidXRlQnVmZmVycyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmlidXRlQnVmZmVyIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMiLCJyZW5kZXJJbmZvIiwidXNlUHJvZ3JhbSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1IiwiYWIiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwiZHJhd0FycmF5cyIsInJlbmRlclByb2dyYW0iLCJ1bmlmb3JtQ29tcG9uZW50cyIsImNvbXBvbmVudEZyb21DYWNoZSIsImNvbXBvbmVudCIsIlVuaWZvcm1JbmZvIiwidWMiLCJjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyIsInVlIiwiYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyIsIkF0dHJpYnV0ZUJ1ZmZlckluZm8iLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwidGhlbiIsInNkIiwiZiIsInZlcnRleERyb3Bkb3duQ29udHJvbGxlciIsImZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyIiwibmV3VmVydGV4Iiwic2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwibmV3Q29udGVudCIsInZlcnRleERyb3Bkb3duRWxlbWVudCIsIm5ld0ZyYWdtZW50Iiwic2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJmcmFnbWVudERyb3Bkb3duRWxlbWVudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlC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QixHQUFNeEQsRUFBVW5MLGdCQUFnQjJPLEVBQVU5UixLQUR0QixNLGNBQ3BCLFcsYUFDQSxLLHdCQUZKc1AsRUFBd0IsRUFHeEJMLEksY0FqQkdnRCxFQUFxQixLQUFFTCxFQUF3QixLQW9CdERuRCxFQUFjL04sWUFDWnVELEVBQ0VnTyxFQUNBLGdDQUNBLGtCQUlFLEVBQXdEalQsR0FDNUQsU0FBT2tULEdBQVcsMEMsK0RBQ2hCQyxhQUVJRCxJQUNGQyxFQUF5QzdELEVBQVVqTCx3QkFDakQ2TyxFQUFZbFMsSUFDWixTQUFDZ1MsR0FDQzNDLEVBQTBCMkMsRUFDMUIvQyxRQUtvQmlELEVBQ3RCLEdBQU01RCxFQUFVbkwsZ0JBQWdCK08sRUFBWWxTLEtBRHRCLE0sY0FDdEIsVyxhQUNBLEssd0JBRkpxUCxFQUEwQixFQUcxQkosSSxjQWpCR21ELEVBQXVCLEtBQUVQLEVBQTBCLEtBb0IxRHBELEVBQWMvTixZQUNadUQsRUFDRW1PLEVBQ0Esa0NBQ0Esb0JBSUozRCxFQUFjL04sWUFBWWdPLEciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBVbmlmb3JtVHlwZVxyXG4gICkge1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSBjb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKTtcclxuICAgIHRoaXMuc2V0dGVyID0gY3JlYXRlVW5pZm9ybVNldHRlcih0eXBlLCBjb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICAvL2luaXRpYWxWYWx1ZTogRHJvcGRvd25JdGVtIHwgbnVsbCxcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9IC8vcGxhY2Vob2xkZXJcclxuKTogW1xyXG4gICAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIF0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKChlKSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKChpKSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcblxyXG4vL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNQcm9wZXJ0eSA9IDxUIGV4dGVuZHMge30sIFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXHJcbiAgb2JqOiBULFxyXG4gIHByb3A6IFBcclxuKTogb2JqIGlzIFQgJiBSZWNvcmQ8UCwgdW5rbm93bj4gPT4ge1xyXG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkocHJvcCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXNzZXJ0TmV2ZXIgPSAodmFsdWU6IG5ldmVyKTogbmV2ZXIgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIHVuaW9uIG1lbWJlcjogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZWxlbWVudHMpID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyRW50cnkgPSBlbGVtZW50cy5maW5kKChlKSA9PiBlLnRhcmdldCA9PT0gZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKG9ic2VydmVyRW50cnkpIHtcclxuICAgICAgY29uc3QgZG9tUmVjdCA9IG9ic2VydmVyRW50cnkudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgeDogZG9tUmVjdC54LFxyXG4gICAgICAgIHk6IGRvbVJlY3QueSxcclxuICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuICByZXR1cm4gKCkgPT4gcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmUsIHV1aWR2NCB9IGZyb20gJy4vLi4vdXRpbHMnO1xyXG5kZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsIGlkOiBzdHJpbmcsIH1cclxuICB8IHsgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIiwgaWQ6IHN0cmluZywgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfVxyXG4gIHwgeyB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH1cclxuICB8IHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH07XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSA9IHtcclxuICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiO1xyXG4gIGlkOiBzdHJpbmcsXHJcbiAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG59IHxcclxueyB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLCBpZDogc3RyaW5nLCBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcsIHRleHQ6IHN0cmluZyB9IH0gfFxyXG57IHR5cGU6IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlUGF0aDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcgfSB9XHJcblxyXG5leHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XHJcblxyXG50eXBlIFByb3h5UmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWc0NvZGVBcGlQcm94eSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWRcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC5maWxlcyk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXREb2N1bWVudFRleHQoZmlsZU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZSB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKGZpbGVQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIm9uRG9jdW1lbnRUZXh0Q2hhbmdlXCIgJiYgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aCkge1xyXG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0gfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcikge1xyXG4gICAgcmVtb3ZlKHRoaXMuZXZlbnRMaXN0ZW5lcnMsIGxpc3RlbmVyKVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlRkFCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIHRleHQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goKGMpID0+IGRpdi5hcHBlbmRDaGlsZChjKSk7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuIiwiaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlciA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdHlwZTogR0xlbnVtLFxyXG4gIHNvdXJjZTogc3RyaW5nXHJcbik6IFdlYkdMU2hhZGVyIHwgeyBlcnJvcjogc3RyaW5nIH0gPT4ge1xyXG4gIGNvbnN0IHNoYWRlciA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJQYXJhbWV0ZXIoXHJcbiAgICBzaGFkZXIsXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkNPTVBJTEVfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHNoYWRlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlcnJvcixcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXHJcbiAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHByb2dyYW0gPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5MSU5LX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBwcm9ncmFtO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ3JlYXRpbmcgcHJvZ3JhbSBmYWlsZWQ6ICR7cmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtVW5pZm9ybXMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1Vbmlmb3JtcyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9VTklGT1JNU1xyXG4gICk7XHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1Vbmlmb3JtczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgdW5pZm9ybSA9IGNvbnRleHQuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IC4uLnVuaWZvcm0gfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtQXR0cmlidXRlQnVmZmVycyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9BVFRSSUJVVEVTXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bUF0dHJpYnV0ZUJ1ZmZlcnM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlciA9IGNvbnRleHQuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGluZGV4KTtcclxuICAgIHJlc3VsdC5wdXNoKHsgLi4uYXR0cmlidXRlQnVmZmVyIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJQcm9ncmFtID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgcmVuZGVySW5mbzoge1xyXG4gICAgdW5pZm9ybXM6IFVuaWZvcm1JbmZvW107XHJcbiAgICBhdHRyaWJ1dGVCdWZmZXJzOiBBdHRyaWJ1dGVCdWZmZXJJbmZvW107XHJcbiAgICAvL3RleHR1cmVzXHJcbiAgfVxyXG4pID0+IHtcclxuICBjb250ZXh0LnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgY29udGV4dC52aWV3cG9ydCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcclxuICBjb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgY29udGV4dC5jbGVhcihjb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICByZW5kZXJJbmZvLnVuaWZvcm1zLmZvckVhY2goKHUpID0+IHUuc2V0VW5pZm9ybSgpKTtcclxuICByZW5kZXJJbmZvLmF0dHJpYnV0ZUJ1ZmZlcnMuZm9yRWFjaCgoYWIpID0+IGFiLnNldEF0dHJpYnV0ZUJ1ZmZlcigpKTtcclxuICAvLyBjb25zdCBudW1FbGVtZW50cyA9IE1hdGgubWluKFxyXG4gIC8vICAgLi4ucmVuZGVySW5mby5hdHRyaWJ1dGVCdWZmZXJzLm1hcCgoYWIpID0+IGFiLmdldEVsZW1lbnRzQ291bnQoKSlcclxuICAvLyApO1xyXG5cclxuICBjb25zdCBwcmltaXRpdmVUeXBlID0gY29udGV4dC5UUklBTkdMRVM7XHJcbiAgY29uc3Qgb2Zmc2V0ID0gMDtcclxuICBjb25zdCBjb3VudCA9IDM7XHJcbiAgY29udGV4dC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU2hhZGVyQ29tcGlsZUVycm9ycyA9IFtcclxuICB2ZXJ0ZXhTaGFkZXJFcnJvcnM6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckVycm9yczogc3RyaW5nXHJcbl07XHJcbmV4cG9ydCBjb25zdCBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzID0gKHJlc3VsdDogU2hhZGVyQ29tcGlsZUVycm9ycykgPT4ge1xyXG4gIGNvbnN0IFt2ZXJ0ZXhTaGFkZXJFcnJvcnMsIGZyYWdtZW50U2hhZGVyRXJyb3JzXSA9IHJlc3VsdDtcclxuXHJcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBpZiAodmVydGV4U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIlZFUlRFWCBTSEFERVI6XCIsIHZlcnRleFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZnJhZ21lbnRTaGFkZXJFcnJvcnMpIHtcclxuICAgIGVycm9ycy5wdXNoKFwiRlJBR01FTlQgU0hBREVSOlwiLCBmcmFnbWVudFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JzLmpvaW4oXCJcXHJcXG5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7IGhhc1Byb3BlcnR5LCBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCwgcmVtb3ZlTGFzdCB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNvbXBpbGVTaGFkZXIsXHJcbiAgY3JlYXRlUHJvZ3JhbSxcclxuICBTaGFkZXJDb21waWxlRXJyb3JzLFxyXG59IGZyb20gXCIuL3dlYmdsX3V0aWxzL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5GUkFHTUVOVF9TSEFERVIsXHJcbiAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICApO1xyXG5cclxuICBsZXQgdmVydGV4RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICBmcmFnbWVudEVycm9yID0gcmVtb3ZlTGFzdChmcmFnbWVudFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgLy90b2RvIGNsZWFudXBcclxuICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIFNoYWRlckNvbXBpbGVFcnJvcnM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShjb250ZXh0LCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJHTENhbnZhcyA9IChcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4pOiBbXHJcbiAgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAge1xyXG4gICAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICBjYW52YXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuICBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdChjYW52YXMsIChyZWN0KSA9PiB7XHJcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gIH0pO1xyXG5cclxuICBpZiAoIWNvbnRleHQpIHtcclxuICAgIC8vdG9kbyBtb3ZlIHRvIGVycm9yc1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJnbCBjb250ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGNhbnZhcyxcclxuICAgIHtcclxuICAgICAgY29udGV4dCxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQgPSA8VCBleHRlbmRzIG51bWJlcltdPihcclxuICBpbml0aWFsVmFsdWU6IFQsXHJcbiAgb25DaGFuZ2U6IChuZXdWYWx1ZTogVCkgPT4gdm9pZCxcclxuICByb3dzOiBudW1iZXIsXHJcbiAgY29sdW1uczogbnVtYmVyLFxyXG4gIGlucHV0T3B0aW9ucz86IFBhcnRpYWw8SFRNTElucHV0RWxlbWVudD5cclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gVDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGlucHV0R3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgaW5wdXRHcmlkLmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1ncmlkXCI7XHJcblxyXG4gIGNvbnN0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50OyB2YWx1ZTogbnVtYmVyIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFZhbHVlcyA9IChuZXdWYWx1ZXM6IFQpID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGllLnZhbHVlID0gbmV3VmFsdWVzW2luZGV4XTtcclxuICAgICAgaWUuZWxlbWVudC52YWx1ZSA9IGllLnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9KTtcclxuICBjb25zdCBnZXRWYWx1ZXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUudmFsdWUpIGFzIFQ7XHJcbiAgY29uc3Qgc2V0UmVhZG9ubHkgPSAocmVhZG9ubHk6IGJvb2xlYW4pID0+XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgTWF0cml4MyA9IFtcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlclxyXG5dO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlTWF0cml4MyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogTWF0cml4MykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PE1hdHJpeDM+KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDMsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5jb25zdCBjb2xvcklucHV0UHJvcHMgPSB7XHJcbiAgbWluOiBcIjBcIixcclxuICBtYXg6IFwiMVwiLFxyXG4gIHN0ZXA6IFwiMC4xXCIsXHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yNCA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3I0KSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3I0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjUsIDFdIGFzIENvbG9yNDtcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sJHtjb2xvclszXX0pYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3I0PihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgNCxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjMgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yMykgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yMztcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41XSBhcyBDb2xvcjM7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LDEpYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3IzPihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgMyxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImltcG9ydCB7IGFzc2VydE5ldmVyIH0gZnJvbSBcIi4vLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5sb2NhdGlvbiA9IGNvbnRleHQuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSk7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyW11bXSkge1xyXG4gICAgLy9udW1FbGVtZW50cyA9IHZhbHVlLmxlbmd0aDtcclxuICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgIGNvbnN0IGZsYXR0ZW4gPSBbXS5jb25jYXQoLi4ubmV3VmFsdWUpO1xyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmhhcyh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xvcjMsIGNyZWF0ZUNvbG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRDb2xvclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuLi9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IHVuaWZvcm1Db21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgSFRNTEVsZW1lbnRcclxuPigoa2V5KSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHJlbmRlcjogKCkgPT4gdm9pZCxcclxuICB1bmlmb3JtczogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH1bXVxyXG4pID0+IHtcclxuICBjb25zdCB1bmlmb3JtQ29tcG9uZW50cyA9IHVuaWZvcm1zLm1hcCgodSkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi51LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb21wb25lbnRGcm9tQ2FjaGUgPSB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGNvbXBvbmVudEZyb21DYWNoZSkge1xyXG4gICAgICByZXR1cm4geyBrZXksIGNvbXBvbmVudDogY29tcG9uZW50RnJvbUNhY2hlIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB1bmlmb3JtSW5mbyA9IG5ldyBVbmlmb3JtSW5mbyhjb250ZXh0LCBwcm9ncmFtLCB1Lm5hbWUsIHUudHlwZSk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm1JbmZvLCByZW5kZXIpLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgdS5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQoa2V5LCBjb21wb25lbnQpO1xyXG4gICAgICByZXR1cm4geyBrZXksIGNvbXBvbmVudDogY29tcG9uZW50IH07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHVuaWZvcm1Db21wb25lbnRDYWNoZS5jbGVhcigpO1xyXG4gIHVuaWZvcm1Db21wb25lbnRzLmZvckVhY2goKHVjKSA9PlxyXG4gICAgdW5pZm9ybUNvbXBvbmVudENhY2hlLnNldCh1Yy5rZXksIHVjLmNvbXBvbmVudClcclxuICApO1xyXG4gIHJldHVybiB1bmlmb3JtQ29tcG9uZW50cy5tYXAoKHVjKSA9PiB1Yy5jb21wb25lbnQpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUNvbXBvbmVudCA9IChcclxuICB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8sXHJcbiAgcmVuZGVyOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIHN3aXRjaCAodW5pZm9ybUluZm8uZ2V0VW5pZm9ybVR5cGUoKSkge1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzIoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWMzKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNCA9IFsxLCAwLCAwLCAxXTtcclxuICAgICAgdW5pZm9ybUluZm8uc2V0VmFsdWUoaW5pdGlhbFZhbHVlKTtcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWM0KGluaXRpYWxWYWx1ZSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiA9IChlbGVtZW50czoge1xyXG4gIFtrZXk6IHN0cmluZ106IHsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIChpdGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG5cclxuICAgICAgT2JqZWN0LnZhbHVlcyhlbGVtZW50cykuZm9yRWFjaCgob2UpID0+XHJcbiAgICAgICAgb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBlbGVtZW50c1tpdGVtLmlkXS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9LFxyXG4gICAgXCJcIixcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRJdGVtcyhcclxuICAgIE9iamVjdC5lbnRyaWVzKGVsZW1lbnRzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcclxuICAgICAgaWQ6IGtleSxcclxuICAgICAgZGlzcGxheTogdmFsdWUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJZChcImN1c3RvbVwiKTtcclxuICByZXR1cm4gb3B0aW9uc0VsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMiA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzQgPSAoXHJcbiAgaW5pdGlhbFZhbHVlOiBWZWN0b3I0LFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjQodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBbY29sb3JFbGVtZW50LCBjb2xvckNvbnRyb2xsZXJdID0gY3JlYXRlQ29sb3I0KHVwZGF0ZSk7XHJcbiAgY29sb3JDb250cm9sbGVyLnNldFZhbHVlcyhpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24oe1xyXG4gICAgY3VzdG9tOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQsXHJcbiAgICB9LFxyXG4gICAgY29sb3I6IHtcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuIiwiaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzLCBWZWN0b3I0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZWRpdFZlY3RvcjNcIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi4vY29tcG9uZW50cy93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUgPSBuZXcgQ29tcG9zaXRlS2V5TWFwPFxyXG4gIHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0sXHJcbiAgSFRNTEVsZW1lbnRcclxuPigoa2V5KSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgcmVuZGVyOiAoKSA9PiB2b2lkLFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlcnM6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH1bXVxyXG4pID0+IHtcclxuICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gYXR0cmlidXRlQnVmZmVycy5tYXAoKHUpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IHtcclxuICAgICAgLi4udSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY29tcG9uZW50RnJvbUNhY2hlID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGNvbXBvbmVudEZyb21DYWNoZSkge1xyXG4gICAgICByZXR1cm4geyBrZXksIGNvbXBvbmVudDogY29tcG9uZW50RnJvbUNhY2hlIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJJbmZvID0gbmV3IEF0dHJpYnV0ZUJ1ZmZlckluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIHUubmFtZSxcclxuICAgICAgICB1LnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZWF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvLCByZW5kZXIpLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgdS5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLnNldChrZXksIGNvbXBvbmVudCk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgY29tcG9uZW50OiBjb21wb25lbnQgfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2goKHVjKSA9PlxyXG4gICAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuc2V0KHVjLmtleSwgdWMuY29tcG9uZW50KVxyXG4gICk7XHJcbiAgcmV0dXJuIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMubWFwKCh1YykgPT4gdWMuY29tcG9uZW50KTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZWF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCA9IChcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gIHJlbmRlcjogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBzd2l0Y2ggKGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMygodmFsdWUpID0+IHtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0W10gPSBbXHJcbiAgICAgICAgWzAsIDAsIDAsIDFdLFxyXG4gICAgICAgIFswLCAwLjUsIDAsIDFdLFxyXG4gICAgICAgIFswLjcsIDAsIDAsIDFdLFxyXG4gICAgICBdO1xyXG4gICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKGluaXRpYWxWYWx1ZSk7XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQoaW5pdGlhbFZhbHVlLCAodmFsdWUpID0+IHtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzW10pID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAvL2NvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAvL09iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoaW5wdXQudmFsdWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KChlKSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeSgoZSkgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gNCA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBqc29uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy9Xcm9uZyBmb3JtYXQhIFNob3VsZCBiZSBbW3gxLHkxXSwgW3gyLHkyXSwgLi4uXVxyXG4gIHJldHVybiBpbnB1dDtcclxufTtcclxuIiwiaW1wb3J0IHsgdHJhbnNsYXRpb25zIH0gZnJvbSBcIi4vLi4vdHJhbnNsYXRpb25zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBVbnN1YnNjcmliZSwgVnNDb2RlQXBpUHJveHkgfSBmcm9tIFwiLi9jb21tdW5pY2F0aW9uUHJveHlcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VjdGlvblRpdGxlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlRkFCdXR0b24gYXMgY3JlYXRlQnV0dG9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVGQUJ1dHRvblwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29tbW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVdlYkdMQ2FudmFzLCBjb21waWxlU2hhZGVycyB9IGZyb20gXCIuL2NyZWF0ZVdlYkdMQ2FudmFzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIH0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvdW5pZm9ybUNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG4gIGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbiAgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMsXHJcbiAgZ2V0UHJvZ3JhbVVuaWZvcm1zLFxyXG4gIHJlbmRlclByb2dyYW0sXHJcbiAgU2hhZGVyQ29tcGlsZUVycm9ycyxcclxufSBmcm9tIFwiLi93ZWJnbF91dGlscy91dGlsc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIH0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50XCI7XHJcblxyXG5jb25zdCBjcmVhdGVWaWV3ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgdnNjb2RlQXBpID0gbmV3IFZzQ29kZUFwaVByb3h5KCk7XHJcbiAgY29uc3Qgdmlld2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItY29udGVudCBzaGFkZXItZXJyb3JzXCIpO1xyXG4gIGNvbnN0IFt3ZWJHTENhbnZhcywgd2ViR0xDb250cm9sbGVyXSA9IGNyZWF0ZVdlYkdMQ2FudmFzKFwidmlld2VyLWNvbnRlbnRcIik7XHJcblxyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh3ZWJHTENhbnZhcyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQodmlld2VyT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHNob3dDb250ZW50ID0gKGNvbnRlbnQ6IFwiY2FudmFzXCIgfCBcImVycm9yc1wiIHwgXCJub25lXCIpID0+IHtcclxuICAgIHdlYkdMQ2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImNhbnZhc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJlcnJvcnNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogVW5zdWJzY3JpYmUgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIGNvbnN0IG9uU2hhZGVyQ29udGVudENoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICBzaGFkZXJPcHRpb25zLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2ViR0xDb250cm9sbGVyLmNvbnRleHQ7XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ICYmIHNlbGVjdGVkVmVydGV4Q29udGVudCkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBjb21waWxlU2hhZGVycyhcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCxcclxuICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudFxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiZXJyb3JzXCIpO1xyXG4gICAgICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLmlubmVyVGV4dCA9IGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMoXHJcbiAgICAgICAgICByZXN1bHQgYXMgU2hhZGVyQ29tcGlsZUVycm9yc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHJlc3VsdCBhcyBXZWJHTFByb2dyYW07XHJcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBnZXRQcm9ncmFtVW5pZm9ybXMoY29udGV4dCwgcHJvZ3JhbSk7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVycyA9IGdldFByb2dyYW1BdHRyaWJ1dGVCdWZmZXJzKGNvbnRleHQsIHByb2dyYW0pO1xyXG5cclxuICAgICAgICBjb25zdCBzY2hlZHVsZVJlbmRlciA9ICgpID0+IHt9O1xyXG4gICAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+XHJcbiAgICAgICAgICByZW5kZXJQcm9ncmFtKHdlYkdMQ29udHJvbGxlci5jb250ZXh0LCByZXN1bHQsIHtcclxuICAgICAgICAgICAgdW5pZm9ybXM6IFtdLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzOiBbXSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgcmVuZGVyLFxyXG4gICAgICAgICAgdW5pZm9ybXNcclxuICAgICAgICApLmZvckVhY2goKHVlKSA9PiBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHVlKSk7XHJcblxyXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMoXHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICAgIHJlbmRlcixcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnNcclxuICAgICAgICApLmZvckVhY2goKGFiKSA9PiBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKGFiKSk7XHJcblxyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93Q29udGVudChcIm5vbmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIsIFtcclxuICAgICAgY3JlYXRlU2VjdGlvblRpdGxlKHRyYW5zbGF0aW9ucy5zaGFkZXJzLCBcIlwiKS5lbGVtZW50LFxyXG4gICAgICBjcmVhdGVCdXR0b24oXCJTeW5jXCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsICgpID0+IHtcclxuICAgICAgICB2c2NvZGVBcGkuZ2V0U2hhZGVyRG9jdW1lbnRzKCkudGhlbigoc2QpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGZpbGVzID0gc2QubWFwKChmKSA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZi5maWxlUGF0aCxcclxuICAgICAgICAgICAgZGlzcGxheTogZi5maWxlTmFtZSxcclxuICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICAgICAgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5lbGVtZW50LFxyXG4gICAgXSlcclxuICApO1xyXG5cclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyAobmV3VmVydGV4KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3VmVydGV4KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdnNjb2RlQXBpLnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3VmVydGV4LmlkLFxyXG4gICAgICAgICAgKG5ld0NvbnRlbnQpID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld1ZlcnRleFxyXG4gICAgICAgID8gYXdhaXQgdnNjb2RlQXBpLmdldERvY3VtZW50VGV4dChuZXdWZXJ0ZXguaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICB2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLXZlcnRleC1zaGFkZXItc2VsZWN0b3JcIixcclxuICAgICAgXCJWZXJ0ZXggU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICBjb25zdCBbZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgKG5ld0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdGcmFnbWVudCkge1xyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdnNjb2RlQXBpLnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3RnJhZ21lbnQuaWQsXHJcbiAgICAgICAgICAobmV3Q29udGVudCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0ZyYWdtZW50XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld0ZyYWdtZW50LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLWZyYWdtZW50LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIkZyYWdtZW50IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxufTtcclxuXHJcbmNyZWF0ZVZpZXdlcigpO1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlU2VjdGlvblRpdGxlID0gKHRleHQ6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xyXG4gIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBzZWN0aW9uLXRpdGxlYDtcclxuICByZXR1cm4geyBlbGVtZW50IH07XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=