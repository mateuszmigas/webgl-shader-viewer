!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r},o=function(e,t,n){var o=document.createElement("select");o.className=null!=t?t:"";var i=null,a=[],l=function(t){e(i=t)};o.onchange=function(){var e=a.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",a.length=0,e.find((function(e){return e.id===(null==i?void 0:i.id)}))||l(null),r([{id:"",display:""}],e).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==i?void 0:i.id),o.appendChild(t),a.push({element:t,item:e})}))},getItems:function(){return a.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),a.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return i},clearSelection:function(){a.forEach((function(e){return e.element.selected=!1})),l(null)}}]},i=acquireVsCodeApi(),a=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners=e.eventListeners.filter((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this;return i.postMessage({type:"getShaderDocuments"}),new Promise((function(t){e.eventListeners.push((function(e){return"getShaderDocuments"===e.type&&(t(e.payload.files),!0)}))}))},e}(),l=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};(function(e,t,n,r){new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function(){var e,t,n,r,i,c,s,d,f,p,m,v;return u(this,(function(u){var h,y;return e=new a,t=document.getElementById("viewer"),n=document.createElement("div"),h="viewer-shader-options",(y=document.createElement("div")).className=h,r=y,n.appendChild(r),n.className="viewer-options",i=o((function(e){})),c=i[0],s=i[1],n.appendChild(l(c,"viewer-vertex-shader-selector","Vertex Shader")),d=o((function(e){})),f=d[0],p=d[1],n.appendChild(l(f,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(function(e,t){var n=document.createElement("h3");return n.textContent=e,n.className=t+" section-title",{element:n}}("SHADERS","viewer-shaders-title").element),n.appendChild(function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}}("â†»","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));s.setItems(t),p.setItems(t)}))})).element),t.appendChild(n),(m=document.createElement("canvas")).className="viewer-content",m.width=500,m.height=500,t.appendChild(m),(v=m.getContext("2d")).fillStyle="green",v.fillRect(150,150,200,450),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tbXVuaWNhdGlvblByb3h5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy93cmFwcGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2NyZWF0ZUZBQnV0dG9uLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY3JlYXRlRHJvcGRvd24iLCJvbkNoYW5nZSIsImNsYXNzTmFtZSIsIm9wdGlvbnMiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRJdGVtIiwiaXRlbUVsZW1lbnRzIiwic2V0U2VsZWN0ZWRJdGVtIiwiaXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldEl0ZW1zIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJsZW5ndGgiLCJkaXNwbGF5IiwiZm9yRWFjaCIsIm9wdGlvbiIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJhcHBlbmRDaGlsZCIsInB1c2giLCJnZXRJdGVtcyIsIm1hcCIsImllIiwic2V0U2VsZWN0ZWRJdGVtQnlJZCIsImdldFNlbGVjdGVkSXRlbSIsImNsZWFyU2VsZWN0aW9uIiwiYWNxdWlyZVZzQ29kZUFwaSIsImV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZmlsdGVyIiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJtZXNzYWdlIiwicGF5bG9hZCIsImZpbGVzIiwid2l0aExhYmVsIiwidGV4dCIsIndyYXBwZXIiLCJsYWJlbCIsImRpdiIsInZzY29kZUFwaSIsIlZzQ29kZUFwaVByb3h5IiwiZ2V0RWxlbWVudEJ5SWQiLCJzaGFkZXJPcHRpb25zIiwibmV3VmVydGV4IiwidmVydGV4RHJvcGRvd25FbGVtZW50IiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwibmV3RnJhZ21lbnQiLCJmcmFnbWVudERyb3Bkb3duRWxlbWVudCIsImZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyIiwiY3JlYXRlU2VjdGlvblRpdGxlIiwib25DbGljayIsImJ1dHRvbiIsIm9uY2xpY2siLCJjcmVhdGVGQUJ1dHRvbiIsInRoZW4iLCJzZCIsImYiLCJmaWxlUGF0aCIsImZpbGVOYW1lIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFD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LEVBQVNyRSxTQUFTQyxjQUFjLFdBQy9CSixVQUFZLGlCQUNuQndFLEVBQU9DLE1BQVEsSUFDZkQsRUFBT0UsT0FBUyxJQUNoQnhFLEVBQVFxQixZQUFZaUQsSUFDZEcsRUFBVUgsRUFBT0ksV0FBVyxPQUMxQkMsVUFBWSxRQUNwQkYsRUFBUUcsU0FBUyxJQUFLLElBQUssSUFBSyxLIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgdHlwZSBEcm9wZG93bkl0ZW0gPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBkaXNwbGF5OiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRHJvcGRvd24gPSAoXHJcbiAgLy9pbml0aWFsVmFsdWU6IERyb3Bkb3duSXRlbSB8IG51bGwsXHJcbiAgb25DaGFuZ2U6IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB2b2lkLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZyxcclxuICBvcHRpb25zPzoge30gLy9wbGFjZWhvbGRlclxyXG4pOiBbXHJcbiAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0SXRlbXM6IChpdGVtczogRHJvcGRvd25JdGVtW10pID0+IHZvaWQ7XHJcbiAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICAgIGdldFNlbGVjdGVkSXRlbTogKCkgPT4gRHJvcGRvd25JdGVtIHwgbnVsbDtcclxuICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWUgPz8gXCJcIjtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoKGUpID0+IGUuaXRlbS5pZCA9PT0gZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgaWYgKGZvdW5kRWxlbWVudC5pdGVtLmlkKSBzZXRTZWxlY3RlZEl0ZW0oZm91bmRFbGVtZW50Lml0ZW0pO1xyXG4gICAgZWxzZSBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2V0SXRlbXMgPSAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBpdGVtRWxlbWVudHMubGVuZ3RoID0gMDtcclxuXHJcbiAgICBpZiAoIWl0ZW1zLmZpbmQoKGkpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc10uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xyXG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBpdGVtLmRpc3BsYXk7XHJcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQ7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goeyBlbGVtZW50OiBvcHRpb24sIGl0ZW0gfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJdGVtcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoKGllKSA9PiBpZS5pdGVtKTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW1CeUlkID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSkgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IChpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2UpKTtcclxuICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgZWxlbWVudCxcclxuICAgIHtcclxuICAgICAgc2V0SXRlbXMsXHJcbiAgICAgIGdldEl0ZW1zLFxyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1CeUlkLFxyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW0sXHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uLFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJkZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgfVxyXG4gIHwgeyB0eXBlOiBcIm9uRGlkU2hhZGVyRG9jdW1lbnRzQ2hhbmdlXCIgfTtcclxuXHJcbmV4cG9ydCB0eXBlIFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlID0ge1xyXG4gIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCI7XHJcbiAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFZzQ29kZUFwaVByb3h5IHtcclxuICBldmVudExpc3RlbmVyczogKChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gYm9vbGVhbilbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgLy9jbGVhciBldmVudCBsaXN0ZW5lciB0aGF0IGFyZSBubyBsb25nZXIgaW50ZXJlc3RlZFxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5maWx0ZXIoKGxpc3RlbmVyKSA9PlxyXG4gICAgICAgIGxpc3RlbmVyKGV2ZW50LmRhdGEpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8eyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXT4oKHJlc29sdmUpID0+IHtcclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXRTaGFkZXJEb2N1bWVudHNcIikge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQuZmlsZXMpO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHdpdGhMYWJlbCA9IChcclxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcclxuICBjbGFzc05hbWU6IHN0cmluZyxcclxuICB0ZXh0OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgd3JhcHBlci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IG9wdGlvbnMtd3JhcHBlcmA7XHJcbiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgbGFiZWwuY2xhc3NOYW1lID0gXCJvcHRpb25zLWxhYmVsXCI7XHJcbiAgbGFiZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7ZWxlbWVudC5jbGFzc05hbWV9IG9wdGlvbnMtY29udGVudGA7XHJcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICByZXR1cm4gd3JhcHBlcjtcclxufTtcclxuIiwiaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24sIERyb3Bkb3duSXRlbSB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgVnNDb2RlQXBpUHJveHkgfSBmcm9tIFwiLi9jb21tdW5pY2F0aW9uUHJveHlcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VjdGlvblRpdGxlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlRkFCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2NyZWF0ZUZBQnV0dG9uXCI7XHJcbmltcG9ydCB7IHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZURpdlNlY3Rpb24gPSAoY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNoYWRlck9wdGlvbnMgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICBlbGVtZW50LmlubmVySFRNTCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVZpZXdlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCB2c2NvZGVBcGkgPSBuZXcgVnNDb2RlQXBpUHJveHkoKTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgb3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29uc3Qgc2hhZGVyT3B0aW9ucyA9IGNyZWF0ZURpdlNlY3Rpb24oXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgb3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxuXHJcbiAgb3B0aW9ucy5jbGFzc05hbWUgPSBcInZpZXdlci1vcHRpb25zXCI7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4OiBEcm9wZG93bkl0ZW0gfCBudWxsID0gbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudDogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIGNvbnN0IG9uU2hhZGVyc0NoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICAvLyAvaWYgKHNlbGVjdGVkRnJhZ21lbnQpXHJcbiAgICAvL2VsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIC8vY3JlYXRlU2hhZGVyT3B0aW9ucyhzaGFkZXJPcHRpb25zKTtcclxuICB9O1xyXG5cclxuICAvL3ZlcnRleCBzaGFkZXJcclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICAobmV3VmVydGV4KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnQgPSBuZXdWZXJ0ZXg7XHJcbiAgICAgIG9uU2hhZGVyc0NoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIG9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoXHJcbiAgICAgIHZlcnRleERyb3Bkb3duRWxlbWVudCxcclxuICAgICAgXCJ2aWV3ZXItdmVydGV4LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIlZlcnRleCBTaGFkZXJcIlxyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIC8vZnJhZ21lbnQgc2hhZGVyXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIChuZXdGcmFnbWVudCkgPT4ge1xyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50ID0gbmV3RnJhZ21lbnQ7XHJcbiAgICAgIG9uU2hhZGVyc0NoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIG9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoXHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25FbGVtZW50LFxyXG4gICAgICBcInZpZXdlci1mcmFnbWVudC1zaGFkZXItc2VsZWN0b3JcIixcclxuICAgICAgXCJGcmFnbWVudCBTaGFkZXJcIlxyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIG9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICBjcmVhdGVTZWN0aW9uVGl0bGUoXCJTSEFERVJTXCIsIFwidmlld2VyLXNoYWRlcnMtdGl0bGVcIikuZWxlbWVudFxyXG4gICk7XHJcblxyXG4gIG9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICBjcmVhdGVGQUJ1dHRvbihcIuKGu1wiLCBcInZpZXdlci1yZWZyZXNoLWJ1dHRvblwiLCAoKSA9PiB7XHJcbiAgICAgIHZzY29kZUFwaS5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKChzZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gc2QubWFwKChmKSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IGYuZmlsZVBhdGgsXHJcbiAgICAgICAgICBkaXNwbGF5OiBmLmZpbGVOYW1lLFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgdmVydGV4RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgICAgICBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSkuZWxlbWVudFxyXG4gICk7XHJcblxyXG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IFwidmlld2VyLWNvbnRlbnRcIjtcclxuICBjYW52YXMud2lkdGggPSA1MDA7XHJcbiAgY2FudmFzLmhlaWdodCA9IDUwMDtcclxuICBlbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgY29udGV4dC5maWxsUmVjdCgxNTAsIDE1MCwgMjAwLCA0NTApO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUZBQnV0dG9uID0gKFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU6IHN0cmluZyxcclxuICBvbkNsaWNrOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9uLm9uY2xpY2sgPSBvbkNsaWNrO1xyXG4gIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICByZXR1cm4geyBlbGVtZW50OiBidXR0b24gfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==