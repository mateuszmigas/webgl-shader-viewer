!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},u={emptyItem:!0},c=function(e,t,n){var r=i(i({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?a([{id:"",display:""}],e):a(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=acquireVsCodeApi(),p=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return f.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return f.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;f.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),f.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),d=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},h=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},m=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},v=function(e,t){return e.hasOwnProperty(t)},y=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},g=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},b=function(e,t,n){var r=g(e,e.VERTEX_SHADER,t),o=g(e,e.FRAGMENT_SHADER,n),i=void 0;v(r,"error")&&(i=s(r.error,1));var a=void 0;return v(o,"error")&&(a=s(o.error,1)),i||a?[i,a]:function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))}(e,r,o)},x=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},E=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var a=[],u=function(){return a.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){a[i].value=Number(f.value),null==t||t(u())},a.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return a.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return a.forEach((function(t){return t.element.readOnly=e}))}}]},A=function(e){return E([0,0,0],e,1,3)},T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w={min:"0",max:"1",step:"0.1"},C=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var S,O=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=V(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),V=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,C([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,C([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,C([n],e))};case r.SAMPLER_2D:return function(e){};default:y(e)}},L=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){this.map.has(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=new L((function(e){return e.name+";"+e.type})),F=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return R((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return B((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),j(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return D((function(t){l();e.setValue({slot:t.slot,textureData:!0})}));default:return N()}},N=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},I=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},R=function(e){var t=E([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},D=function(e){var t=A(),n=t[0];return t[1].setValues([0,0,0]),n},B=function(e){var t=A(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=m("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,3,w),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=I({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return m("column-with-gap",[i,n,o])},j=function(e,t){var n=E([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=m("row-with-gap"),i=E(t,(function(t){r(t),null==e||e(t)}),1,4,w),a=i[0],u=i[1];return o.appendChild(a),o.appendChild(n),[o,T(T({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var a=I({custom:{display:"Custom",element:r},color:{display:"Color",element:i}});return m("column-with-gap",[a,r,i])};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(S||(S={}));var M=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=k(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.dispose=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),k=function(e){switch(e){case S.FLOAT_VEC3:return 3;case S.FLOAT_VEC4:return 4;default:y(e)}},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=new L((function(e){return e.name+";"+e.type})),G=function(e){switch(e.getAttributeBufferType()){case S.FLOAT_VEC3:return Y((function(t){e.setValue(t)}));case S.FLOAT_VEC4:var t=[[0,0,0,1],[0,.5,0,1],[.7,0,0,1]];return e.setValue(t),q(t,(function(t){e.setValue(t)}));default:return J()}},J=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},Y=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},q=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.value=JSON.stringify(e),n.oninput=function(){try{var e=JSON.parse(n.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;t(e)}catch(e){console.log("this is not a json")}},n},z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};z(void 0,void 0,void 0,(function(){var e,t,n,r,i,a,u,s,l,f,v,y,g,E,A,T,w,C,S,V,L,N;return X(this,(function(I){var R,D,B;return e=new p,t=document.getElementById("viewer"),n=m("viewer-options"),r=m("viewer-shader-options"),i=m("viewer-content shader-errors"),a=x("viewer-content"),u=a[0],s=a[1],t.appendChild(u),t.appendChild(i),t.appendChild(n),l=function(e){u.style.visibility="canvas"===e?"visible":"collapse",i.style.visibility="errors"===e?"visible":"collapse"},f=function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));S.setItems(t),N.setItems(t)}))},A=null,T=function(){r.innerHTML="";var e,t,n,o,a=s.context;if(E&&g){var u=b(a,g,E);if(Array.isArray(u))l("errors"),i.innerText=(t=(e=u)[0],n=e[1],o=[],t&&o.push("VERTEX SHADER:",t),n&&o.push("FRAGMENT SHADER:",n),o.join("\r\n"));else{l("canvas");var c=u,f=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),p=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(a,c),d=function(e,t,n){var r=n.map((function(n){var r=_({},n),o=P.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new O(e,t,n.name,n.type);return{key:r,value:{component:h(F(i),"",n.name),uniformInfo:i}}}));return P.clear(),r.forEach((function(e){return P.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,f);d.forEach((function(e){return r.appendChild(e.component)}));var m=function(e,t,n){var r=n.map((function(n){var r=U({},n),o=H.get(r);if(o)return o.attributeBufferInfo.attachToProgram(t),{key:r,value:o};var i=new M(e,t,n.name,n.type);return{key:r,value:{component:h(G(i),"",n.name),attributeBufferInfo:i}}}));return H.clear(),r.forEach((function(e){return H.set(e.key,e.value)})),r.map((function(e){return e.value}))}(a,c,p);m.forEach((function(e){return r.appendChild(e.component)}));var v=d.map((function(e){return e.uniformInfo})),y=m.map((function(e){return e.attributeBufferInfo}));null!==A&&cancelAnimationFrame(A);var x=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniforms.forEach((function(e){return e.setUniform()})),n.attributeBuffers.forEach((function(e){return e.setAttributeBuffer()}));var r=e.TRIANGLES;e.drawArrays(r,0,3)}(s.context,u,{uniforms:v,attributeBuffers:y}),A=requestAnimationFrame(x)};x()}}else l("none")},n.appendChild(m("viewer-shaders-title",[(R=o,D="",B=document.createElement("h3"),B.textContent=R,B.className=D+" section-title",{element:B}).element,d("Sync","viewer-refresh-button",f).element])),w=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==v||v(),t&&(v=e.subscribeToDocumentSave(t.id,(function(e){g=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return g=n,T(),[2]}}))}))})),C=w[0],S=w[1],n.appendChild(h(C,"viewer-vertex-shader-selector","Vertex Shader")),V=c((function(t){return z(void 0,void 0,void 0,(function(){var n;return X(this,(function(r){switch(r.label){case 0:return null==y||y(),t&&(y=e.subscribeToDocumentSave(t.id,(function(e){E=e,T()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return E=n,T(),[2]}}))}))})),L=V[0],N=V[1],n.appendChild(h(L,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(r),f(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvd2ViZ2wvdW5pZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZHJvcGRvd24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2FycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy91dWlkLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tbXVuaWNhdGlvblByb3h5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy90eXBlR3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy93ZWJnbC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NyZWF0ZVdlYkdMQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9odG1sLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9pbnB1dE51bWJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvaW5wdXRDb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9zaXRlS2V5TWFwLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy93ZWJnbC91bmlmb3JtQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvaGVhZGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIml0ZW0iLCJvbmNoYW5nZSIsImZvdW5kRWxlbWVudCIsImZpbmQiLCJlIiwiaWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsInJlbW92ZUxhc3QiLCJ0ZXh0IiwiY291bnQiLCJzdWJzdHJpbmciLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiYWNxdWlyZVZzQ29kZUFwaSIsImV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwibWVzc2FnZUlkIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJtZXNzYWdlIiwicGF5bG9hZCIsImZpbGVzIiwicmVtb3ZlTGlzdGVuZXIiLCJnZXREb2N1bWVudFRleHQiLCJmaWxlTmFtZSIsInN1YnNjcmliZVRvRG9jdW1lbnRTYXZlIiwiZmlsZVBhdGgiLCJjYWxsYmFjayIsInRoaXMiLCJhcnJheSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZUJ1dHRvbiIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwid2l0aExhYmVsIiwid3JhcHBlciIsImxhYmVsIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJoYXNQcm9wZXJ0eSIsIm9iaiIsInByb3AiLCJhc3NlcnROZXZlciIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbXBpbGVTaGFkZXIiLCJyZW5kZXJpbmdDb250ZXh0Iiwic291cmNlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJlcnJvciIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJjb21waWxlU2hhZGVycyIsImNvbnRleHQiLCJ2ZXJ0ZXhTaGFkZXJDb250ZW50IiwiZnJhZ21lbnRTaGFkZXJDb250ZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwidmVydGV4RXJyb3IiLCJ1bmRlZmluZWQiLCJmcmFnbWVudEVycm9yIiwicHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImRlbGV0ZVByb2dyYW0iLCJnZXRQcm9ncmFtSW5mb0xvZyIsImNyZWF0ZVdlYkdMQ2FudmFzIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsInJlY3QiLCJ3aWR0aCIsImhlaWdodCIsIlJlc2l6ZU9ic2VydmVyIiwiZWxlbWVudHMiLCJvYnNlcnZlckVudHJ5IiwidGFyZ2V0IiwiZG9tUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5Iiwib2JzZXJ2ZSIsImNyZWF0ZU11bHRpTnVtYmVySW5wdXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0T3B0aW9ucyIsImlucHV0R3JpZCIsImdldFZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY29sb3JJbnB1dFByb3BzIiwibWluIiwibWF4Iiwic3RlcCIsIkF0dHJpYnV0ZUJ1ZmZlclR5cGUiLCJhdHRhY2hUb1Byb2dyYW0iLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldHRlciIsImNyZWF0ZVVuaWZvcm1TZXR0ZXIiLCJzZXRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZGlzcG9zZSIsIkZMT0FUX1ZFQzIiLCJ1bmlmb3JtMmYiLCJGTE9BVF9WRUMzIiwidW5pZm9ybTNmIiwiRkxPQVRfVkVDNCIsInVuaWZvcm00ZiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImhhcyIsImNsZWFyIiwidW5pZm9ybUNvbXBvbmVudENhY2hlIiwiQ29tcG9zaXRlS2V5TWFwIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudCIsInVuaWZvcm1JbmZvIiwiY3JlYXRlVW5pZm9ybUZvclZlYzIiLCJjcmVhdGVVbmlmb3JtRm9yVmVjMyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWM0IiwiY3JlYXRlVW5pZm9ybUZvclRleHR1cmUiLCJzbG90IiwidGV4dHVyZURhdGEiLCJjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkIiwiaW5uZXJUZXh0IiwiY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiIsInZhbHVlcyIsIm9lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwib3B0aW9uc0VsZW1lbnQiLCJvcHRpb25zQ29udHJvbGxlciIsImVudHJpZXMiLCJ1cGRhdGUiLCJjdXN0b21FbGVtZW50IiwiY29sb3JEaXYiLCJzZXRDb2xvciIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29udGFpbmVyIiwiY29udHJvbGxlciIsImNyZWF0ZUNvbG9yMyIsImNvbG9yRWxlbWVudCIsImN1c3RvbSIsImNyZWF0ZUNvbG9yNCIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImdldEF0dHJpYkxvY2F0aW9uIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImZsYXR0ZW4iLCJjb25jYXQiLCJidWZmZXJEYXRhIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJzZXRBdHRyaWJ1dGVCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInNpemUiLCJnZXROdW1Db21wb25lbnRzIiwiRkxPQVQiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSIsImRlbGV0ZUJ1ZmZlciIsImJ1ZmZlclR5cGUiLCJhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRDYWNoZSIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCIsImF0dHJpYnV0ZUJ1ZmZlckluZm8iLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQiLCJyZXN1bHQiLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsInZzY29kZUFwaSIsInZpZXdlciIsImdldEVsZW1lbnRCeUlkIiwidmlld2VyT3B0aW9ucyIsInNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb21waWxhdGlvbkVycm9ycyIsIndlYkdMQ2FudmFzIiwid2ViR0xDb250cm9sbGVyIiwic2hvd0NvbnRlbnQiLCJjb250ZW50IiwidmlzaWJpbGl0eSIsInN5bmNTaGFkZXJEb2N1bWVudHMiLCJ0aGVuIiwic2QiLCJmIiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwiZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIiLCJhbmltYXRpb25GcmFtZUhhbmRsZSIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJ2ZXJ0ZXhTaGFkZXJFcnJvcnMiLCJmcmFnbWVudFNoYWRlckVycm9ycyIsImVycm9ycyIsInNlbGVjdGVkRnJhZ21lbnRDb250ZW50Iiwic2VsZWN0ZWRWZXJ0ZXhDb250ZW50Iiwiam9pbiIsInVuaWZvcm1zIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFByb2dyYW1Vbmlmb3JtcyIsImF0dHJpYnV0ZUJ1ZmZlcnMiLCJudW1BdHRyaWJ1dGVCdWZmZXJzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyIsInVuaWZvcm1Db21wb25lbnRzIiwiZnJvbUNhY2hlIiwiVW5pZm9ybUluZm8iLCJjb21wb25lbnQiLCJ1YyIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyIsIkF0dHJpYnV0ZUJ1ZmZlckluZm8iLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYWIiLCJhYmMiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbmRlckluZm8iLCJ1c2VQcm9ncmFtIiwidmlld3BvcnQiLCJjbGVhckNvbG9yIiwiQ09MT1JfQlVGRkVSX0JJVCIsInUiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwiZHJhd0FycmF5cyIsInJlbmRlclByb2dyYW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuZXdWZXJ0ZXgiLCJzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJuZXdDb250ZW50IiwidmVydGV4RHJvcGRvd25FbGVtZW50IiwibmV3RnJhZ21lbnQiLCJzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsImZyYWdtZW50RHJvcGRvd25FbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFP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RUFBdUIsS0FBRWxELEVBQTBCLEtBb0IxRGIsRUFBYy9OLFlBQ1pnRCxFQUNFOE8sRUFDQSxrQ0FDQSxvQkFJSi9ELEVBQWMvTixZQUFZZ08sR0FFMUJPLEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi8uLi92aWV3ZXIvY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHsgZW1wdHlJdGVtOiBib29sZWFuIH1cclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICBjbGVhclNlbGVjdGlvbjogKCkgPT4gdm9pZDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKGUgPT4gZS5pdGVtLmlkID09PSBlbGVtZW50LnZhbHVlKTtcclxuXHJcbiAgICBpZiAoZm91bmRFbGVtZW50Lml0ZW0uaWQpIHNldFNlbGVjdGVkSXRlbShmb3VuZEVsZW1lbnQuaXRlbSk7XHJcbiAgICBlbHNlIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZXRJdGVtcyA9IChpdGVtczogRHJvcGRvd25JdGVtW10pID0+IHtcclxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGl0ZW1FbGVtZW50cy5sZW5ndGggPSAwO1xyXG5cclxuICAgIGlmICghaXRlbXMuZmluZChpID0+IGkuaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQpKSB7XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdJdGVtcyA9IGNvbWJpbmVkT3B0aW9ucy5lbXB0eUl0ZW1cclxuICAgICAgPyBbeyBpZDogXCJcIiwgZGlzcGxheTogXCJcIiB9LCAuLi5pdGVtc11cclxuICAgICAgOiBbLi4uaXRlbXNdO1xyXG4gICAgbmV3SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKGllID0+IGllLml0ZW0pO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbUJ5SWQgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4ge1xyXG4gICAgICBpZiAoaWUuaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzZXRTZWxlY3RlZEl0ZW0oaWUuaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRTZWxlY3RlZEl0ZW0gPSAoKSA9PiBzZWxlY3RlZEl0ZW07XHJcbiAgY29uc3QgY2xlYXJTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcbiIsIi8vaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcclxuZXhwb3J0IGNvbnN0IHV1aWR2NCA9ICgpID0+IHtcclxuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcclxuICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gIH0pO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmUgfSBmcm9tIFwiLi8uLi91dGlscy9hcnJheVwiO1xyXG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi8uLi91dGlscy91dWlkXCI7XHJcbmRlY2xhcmUgY29uc3QgYWNxdWlyZVZzQ29kZUFwaTogKCkgPT4ge1xyXG4gIC8vZ2V0U3RhdGU6ICgpID0+IGFueTtcclxuICAvL3NldFN0YXRlOiAoc3RhdGU6IGFueSkgPT4gdm9pZDtcclxuICBwb3N0TWVzc2FnZTogKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlcXVlc3QpID0+IHZvaWQ7XHJcbn07XHJcbmV4cG9ydCBjb25zdCB2c2NvZGVBcGkgPSBhY3F1aXJlVnNDb2RlQXBpKCk7XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0ID1cclxuICB8IHsgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIjsgaWQ6IHN0cmluZyB9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCI7IGlkOiBzdHJpbmc7IHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH1cclxuICB8IHsgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiOyBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcgfSB9XHJcbiAgfCB7IHR5cGU6IFwidW5zdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiOyBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcgfSB9O1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UgPVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiO1xyXG4gICAgICBpZDogc3RyaW5nO1xyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVzOiB7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdIH07XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCI7XHJcbiAgICAgIGlkOiBzdHJpbmc7XHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZzsgdGV4dDogc3RyaW5nIH07XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIjtcclxuICAgICAgcGF5bG9hZDogeyBmaWxlUGF0aDogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfTtcclxuICAgIH07XHJcblxyXG5leHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XHJcblxyXG50eXBlIFByb3h5UmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWc0NvZGVBcGlQcm94eSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGV2ZW50ID0+IHtcclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGV2ZW50LmRhdGEpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2hhZGVyRG9jdW1lbnRzKCkge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdPihyZXNvbHZlID0+IHtcclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImdldFNoYWRlckRvY3VtZW50c1wiICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCkge1xyXG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnBheWxvYWQuZmlsZXMpO1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0RG9jdW1lbnRUZXh0KGZpbGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWUgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcclxuICAgIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkXHJcbiAgKTogVW5zdWJzY3JpYmUge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbGlzdGVuZXIgPSAobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG1lc3NhZ2UudHlwZSA9PT0gXCJvbkRvY3VtZW50VGV4dENoYW5nZVwiICYmXHJcbiAgICAgICAgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aFxyXG4gICAgICApIHtcclxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgIHR5cGU6IFwidW5zdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcikge1xyXG4gICAgcmVtb3ZlKHRoaXMuZXZlbnRMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChcclxuICB0ZXh0OiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljaztcclxuICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgcmV0dXJuIHsgZWxlbWVudDogYnV0dG9uIH07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgdGV4dDogc3RyaW5nXHJcbikgPT4ge1xyXG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHdyYXBwZXIuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goYyA9PiBkaXYuYXBwZW5kQ2hpbGQoYykpO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBoYXNQcm9wZXJ0eSA9IDxUIGV4dGVuZHMge30sIFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXHJcbiAgb2JqOiBULFxyXG4gIHByb3A6IFBcclxuKTogb2JqIGlzIFQgJiBSZWNvcmQ8UCwgdW5rbm93bj4gPT4ge1xyXG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkocHJvcCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXNzZXJ0TmV2ZXIgPSAodmFsdWU6IG5ldmVyKTogbmV2ZXIgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIHVuaW9uIG1lbWJlcjogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XHJcbn07XHJcbiIsImltcG9ydCB7IEF0dHJpYnV0ZUJ1ZmZlckluZm8sIEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSBmcm9tIFwiLi9hdHRyaWJ1dGVCdWZmZXJcIjtcclxuaW1wb3J0IHsgVW5pZm9ybUluZm8sIFVuaWZvcm1UeXBlIH0gZnJvbSBcIi4vdW5pZm9ybVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXIgPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHR5cGU6IEdMZW51bSxcclxuICBzb3VyY2U6IHN0cmluZ1xyXG4pOiBXZWJHTFNoYWRlciB8IHsgZXJyb3I6IHN0cmluZyB9ID0+IHtcclxuICBjb25zdCBzaGFkZXIgPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgc2hhZGVyLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5DT01QSUxFX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBzaGFkZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZXJyb3IsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxyXG4gIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxyXG4pID0+IHtcclxuICBjb25zdCBwcm9ncmFtID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuTElOS19TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYENyZWF0aW5nIHByb2dyYW0gZmFpbGVkOiAke3JlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbVVuaWZvcm1zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfVU5JRk9STVNcclxuICApO1xyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtVW5pZm9ybXM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IHVuaWZvcm0gPSBjb250ZXh0LmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiB1bmlmb3JtLm5hbWUsIHR5cGU6IHVuaWZvcm0udHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1BdHRyaWJ1dGVCdWZmZXJzID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX0FUVFJJQlVURVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlIH1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtQXR0cmlidXRlQnVmZmVyczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlQnVmZmVyID0gY29udGV4dC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgcmVzdWx0LnB1c2goeyBuYW1lOiBhdHRyaWJ1dGVCdWZmZXIubmFtZSwgdHlwZTogYXR0cmlidXRlQnVmZmVyLnR5cGUgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlclByb2dyYW0gPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICByZW5kZXJJbmZvOiB7XHJcbiAgICB1bmlmb3JtczogVW5pZm9ybUluZm9bXTtcclxuICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IEF0dHJpYnV0ZUJ1ZmZlckluZm9bXTtcclxuICAgIC8vdGV4dHVyZXNcclxuICB9XHJcbikgPT4ge1xyXG4gIGNvbnRleHQudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICBjb250ZXh0LnZpZXdwb3J0KDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xyXG4gIGNvbnRleHQuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcclxuICBjb250ZXh0LmNsZWFyKGNvbnRleHQuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gIHJlbmRlckluZm8udW5pZm9ybXMuZm9yRWFjaCh1ID0+IHUuc2V0VW5pZm9ybSgpKTtcclxuICByZW5kZXJJbmZvLmF0dHJpYnV0ZUJ1ZmZlcnMuZm9yRWFjaChhYiA9PiBhYi5zZXRBdHRyaWJ1dGVCdWZmZXIoKSk7XHJcbiAgLy8gY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAvLyAgIC4uLnJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVycy5tYXAoKGFiKSA9PiBhYi5nZXRFbGVtZW50c0NvdW50KCkpXHJcbiAgLy8gKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcbiAgY29uc3QgY291bnQgPSAzO1xyXG4gIGNvbnRleHQuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFNoYWRlckNvbXBpbGVFcnJvcnMgPSBbXHJcbiAgdmVydGV4U2hhZGVyRXJyb3JzOiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJFcnJvcnM6IHN0cmluZ1xyXG5dO1xyXG5leHBvcnQgY29uc3QgZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyA9IChyZXN1bHQ6IFNoYWRlckNvbXBpbGVFcnJvcnMpID0+IHtcclxuICBjb25zdCBbdmVydGV4U2hhZGVyRXJyb3JzLCBmcmFnbWVudFNoYWRlckVycm9yc10gPSByZXN1bHQ7XHJcblxyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKHZlcnRleFNoYWRlckVycm9ycykge1xyXG4gICAgZXJyb3JzLnB1c2goXCJWRVJURVggU0hBREVSOlwiLCB2ZXJ0ZXhTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZyYWdtZW50U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIkZSQUdNRU5UIFNIQURFUjpcIiwgZnJhZ21lbnRTaGFkZXJFcnJvcnMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVycm9ycy5qb2luKFwiXFxyXFxuXCIpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCB9IGZyb20gXCIuLi91dGlscy9odG1sXCI7XHJcbmltcG9ydCB7IHJlbW92ZUxhc3QgfSBmcm9tIFwiLi4vdXRpbHMvYXJyYXlcIjtcclxuaW1wb3J0IHsgaGFzUHJvcGVydHkgfSBmcm9tIFwiLi4vdXRpbHMvdHlwZUd1YXJkc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNvbXBpbGVTaGFkZXIsXHJcbiAgY3JlYXRlUHJvZ3JhbSxcclxuICBTaGFkZXJDb21waWxlRXJyb3JzLFxyXG59IGZyb20gXCIuLi91dGlscy93ZWJnbC9pbmRleFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXJzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXJDb250ZW50OiBzdHJpbmcsXHJcbiAgZnJhZ21lbnRTaGFkZXJDb250ZW50OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihcclxuICAgIGNvbnRleHQsXHJcbiAgICBjb250ZXh0LlZFUlRFWF9TSEFERVIsXHJcbiAgICB2ZXJ0ZXhTaGFkZXJDb250ZW50XHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgY29udGV4dCxcclxuICAgIGNvbnRleHQuRlJBR01FTlRfU0hBREVSLFxyXG4gICAgZnJhZ21lbnRTaGFkZXJDb250ZW50XHJcbiAgKTtcclxuXHJcbiAgbGV0IHZlcnRleEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgaWYgKGhhc1Byb3BlcnR5KHZlcnRleFNoYWRlciwgXCJlcnJvclwiKSkge1xyXG4gICAgdmVydGV4RXJyb3IgPSByZW1vdmVMYXN0KHZlcnRleFNoYWRlci5lcnJvciwgMSk7XHJcbiAgfVxyXG5cclxuICBsZXQgZnJhZ21lbnRFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gIGlmIChoYXNQcm9wZXJ0eShmcmFnbWVudFNoYWRlciwgXCJlcnJvclwiKSkge1xyXG4gICAgZnJhZ21lbnRFcnJvciA9IHJlbW92ZUxhc3QoZnJhZ21lbnRTaGFkZXIuZXJyb3IsIDEpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZlcnRleEVycm9yIHx8IGZyYWdtZW50RXJyb3IpIHtcclxuICAgIC8vdG9kbyBjbGVhbnVwXHJcbiAgICByZXR1cm4gW3ZlcnRleEVycm9yLCBmcmFnbWVudEVycm9yXSBhcyBTaGFkZXJDb21waWxlRXJyb3JzO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNyZWF0ZVByb2dyYW0oY29udGV4dCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViR0xDYW52YXMgPSAoXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuKTogW1xyXG4gIEhUTUxDYW52YXNFbGVtZW50LFxyXG4gIHtcclxuICAgIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbiAgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QoY2FudmFzLCByZWN0ID0+IHtcclxuICAgIGNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XHJcbiAgfSk7XHJcblxyXG4gIGlmICghY29udGV4dCkge1xyXG4gICAgLy90b2RvIG1vdmUgdG8gZXJyb3JzXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHdlYmdsIGNvbnRleHRcIik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW1xyXG4gICAgY2FudmFzLFxyXG4gICAge1xyXG4gICAgICBjb250ZXh0LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbGVtZW50cyA9PiB7XHJcbiAgICBjb25zdCBvYnNlcnZlckVudHJ5ID0gZWxlbWVudHMuZmluZChlID0+IGUudGFyZ2V0ID09PSBlbGVtZW50KTtcclxuXHJcbiAgICBpZiAob2JzZXJ2ZXJFbnRyeSkge1xyXG4gICAgICBjb25zdCBkb21SZWN0ID0gb2JzZXJ2ZXJFbnRyeS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNhbGxiYWNrKHtcclxuICAgICAgICB4OiBkb21SZWN0LngsXHJcbiAgICAgICAgeTogZG9tUmVjdC55LFxyXG4gICAgICAgIHdpZHRoOiBkb21SZWN0LndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogZG9tUmVjdC5oZWlnaHQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xyXG4gIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVNdWx0aU51bWJlcklucHV0ID0gPFQgZXh0ZW5kcyBudW1iZXJbXT4oXHJcbiAgaW5pdGlhbFZhbHVlOiBULFxyXG4gIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsXHJcbiAgcm93czogbnVtYmVyLFxyXG4gIGNvbHVtbnM6IG51bWJlcixcclxuICBpbnB1dE9wdGlvbnM/OiBQYXJ0aWFsPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IFQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGlucHV0R3JpZC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtZ3JpZFwiO1xyXG5cclxuICBjb25zdCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTElucHV0RWxlbWVudDsgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF07XHJcbiAgICAgIGllLmVsZW1lbnQudmFsdWUgPSBpZS52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICBjb25zdCBzZXRSZWFkb25seSA9IChyZWFkb25seTogYm9vbGVhbikgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgY29sb3JJbnB1dFByb3BzID0ge1xyXG4gIG1pbjogXCIwXCIsXHJcbiAgbWF4OiBcIjFcIixcclxuICBzdGVwOiBcIjAuMVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjQgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yNCkgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yNDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41LCAxXSBhcyBDb2xvcjQ7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LCR7Y29sb3JbM119KWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yND4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDQsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3IzID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjMpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjM7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNV0gYXMgQ29sb3IzO1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwxKWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yMz4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDMsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcclxuICAgIHByaXZhdGUgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZVxyXG4gICkge1xyXG4gICAgdGhpcy5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICB0aGlzLmJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbTogV2ViR0xQcm9ncmFtKSB7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIHRoaXMubmFtZSk7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogbnVtYmVyW11bXSkge1xyXG4gICAgLy9udW1FbGVtZW50cyA9IHZhbHVlLmxlbmd0aDtcclxuICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgIGNvbnN0IGZsYXR0ZW4gPSBbXS5jb25jYXQoLi4ubmV3VmFsdWUpO1xyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmhhcyh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIGNyZWF0ZVZlY3RvcjIsXHJcbiAgY3JlYXRlVmVjdG9yMyxcclxuICBjcmVhdGVWZWN0b3I0LFxyXG4gIFZlY3RvcjIsXHJcbiAgVmVjdG9yMyxcclxuICBWZWN0b3I0LFxyXG59IGZyb20gXCIuLi8uLi92aWV3ZXIvY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuLi8uLi92aWV3ZXIvY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xvcjMsIGNyZWF0ZUNvbG9yNCB9IGZyb20gXCIuLi8uLi92aWV3ZXIvY29tcG9uZW50cy9pbnB1dENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uLy4uL3ZpZXdlci9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2LCB3aXRoTGFiZWwgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSBcIi4uL3V1aWRcIjtcclxuXHJcbmNvbnN0IHVuaWZvcm1Db21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgeyBjb21wb25lbnQ6IEhUTUxFbGVtZW50OyB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHVuaWZvcm1zOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IHVuaWZvcm1Db21wb25lbnRzID0gdW5pZm9ybXMubWFwKHVuaWZvcm0gPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi51bmlmb3JtLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XHJcblxyXG4gICAgaWYgKGZyb21DYWNoZSkge1xyXG4gICAgICBmcm9tQ2FjaGUudW5pZm9ybUluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHVuaWZvcm1JbmZvID0gbmV3IFVuaWZvcm1JbmZvKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgcHJvZ3JhbSxcclxuICAgICAgICB1bmlmb3JtLm5hbWUsXHJcbiAgICAgICAgdW5pZm9ybS50eXBlXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm1JbmZvKSxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiA9IChlbGVtZW50czoge1xyXG4gIFtrZXk6IHN0cmluZ106IHsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGl0ZW0gPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpLmZvckVhY2gob2UgPT4gb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuXHJcbiAgICAgIGVsZW1lbnRzW2l0ZW0uaWRdLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgIH0sXHJcbiAgICBcIlwiLFxyXG4gICAgeyBlbXB0eUl0ZW06IGZhbHNlIH1cclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldEl0ZW1zKFxyXG4gICAgT2JqZWN0LmVudHJpZXMoZWxlbWVudHMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xyXG4gICAgICBpZDoga2V5LFxyXG4gICAgICBkaXNwbGF5OiB2YWx1ZS5kaXNwbGF5LFxyXG4gICAgfSkpXHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRTZWxlY3RlZEl0ZW1CeUlkKFwiY3VzdG9tXCIpO1xyXG4gIHJldHVybiBvcHRpb25zRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMyID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMih1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwXSk7XHJcbiAgcmV0dXJuIGN1c3RvbUVsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVTcmM6IHN0cmluZyB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjMoKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yMyh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoWzEsIDAsIDBdKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVVbmlmb3JtU2VsZWN0aW9uKHtcclxuICAgIGN1c3RvbToge1xyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIGNvbG9yOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ29sb3JcIixcclxuICAgICAgZWxlbWVudDogY29sb3JFbGVtZW50LFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjNCA9IChcclxuICBpbml0aWFsVmFsdWU6IFZlY3RvcjQsXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjQpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yNCh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjQodXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vdmlld2VyL2NvbXBvbmVudHMvaW5wdXROdW1iZXJcIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uLy4uL3ZpZXdlci9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcblxyXG5jb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm8gfVxyXG4+KGtleSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgYXR0cmlidXRlQnVmZmVyczogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdXHJcbikgPT4ge1xyXG4gIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSBhdHRyaWJ1dGVCdWZmZXJzLm1hcChhdHRyaWJ1dGVCdWZmZXIgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0ge1xyXG4gICAgICAuLi5hdHRyaWJ1dGVCdWZmZXIsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLmdldChrZXkpO1xyXG5cclxuICAgIGlmIChmcm9tQ2FjaGUpIHtcclxuICAgICAgZnJvbUNhY2hlLmF0dHJpYnV0ZUJ1ZmZlckluZm8uYXR0YWNoVG9Qcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiBmcm9tQ2FjaGUgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm8gPSBuZXcgQXR0cmlidXRlQnVmZmVySW5mbyhcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLm5hbWUsXHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChhdHRyaWJ1dGVCdWZmZXJJbmZvKSxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IHsgY29tcG9uZW50LCBhdHRyaWJ1dGVCdWZmZXJJbmZvIH0gfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgIGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudENhY2hlLnNldCh1Yy5rZXksIHVjLnZhbHVlKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLm1hcCh1YyA9PiB1Yy52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQgPSAoXHJcbiAgYXR0cmlidXRlQnVmZmVySW5mbzogQXR0cmlidXRlQnVmZmVySW5mb1xyXG4pID0+IHtcclxuICBzd2l0Y2ggKGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyh2YWx1ZSA9PiB7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdID0gW1xyXG4gICAgICAgIFswLCAwLCAwLCAxXSxcclxuICAgICAgICBbMCwgMC41LCAwLCAxXSxcclxuICAgICAgICBbMC43LCAwLCAwLCAxXSxcclxuICAgICAgXTtcclxuICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0KGluaXRpYWxWYWx1ZSwgdmFsdWUgPT4ge1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgYXR0cmlidXRlIGJ1ZmZlclwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeShlID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDQgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcbiIsImltcG9ydCB7IHRyYW5zbGF0aW9ucyB9IGZyb20gXCIuLy4uL3RyYW5zbGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgVW5zdWJzY3JpYmUsIFZzQ29kZUFwaVByb3h5IH0gZnJvbSBcIi4vY29tbXVuaWNhdGlvblByb3h5XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNlY3Rpb25UaXRsZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvaGVhZGVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUJ1dHRvbiBhcyBjcmVhdGVCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlV2ViR0xDYW52YXMsIGNvbXBpbGVTaGFkZXJzIH0gZnJvbSBcIi4vY3JlYXRlV2ViR0xDYW52YXNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vdXRpbHMvd2ViZ2wvdW5pZm9ybUNvbXBvbmVudFwiO1xyXG5pbXBvcnQge1xyXG4gIGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbiAgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMsXHJcbiAgZ2V0UHJvZ3JhbVVuaWZvcm1zLFxyXG4gIHJlbmRlclByb2dyYW0sXHJcbiAgU2hhZGVyQ29tcGlsZUVycm9ycyxcclxufSBmcm9tIFwiLi4vdXRpbHMvd2ViZ2wvaW5kZXhcIjtcclxuaW1wb3J0IHsgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyB9IGZyb20gXCIuLi91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZVZpZXdlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCB2c2NvZGVBcGkgPSBuZXcgVnNDb2RlQXBpUHJveHkoKTtcclxuICBjb25zdCB2aWV3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdlclwiKTtcclxuICBjb25zdCB2aWV3ZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJDb21waWxhdGlvbkVycm9ycyA9IGNyZWF0ZURpdihcInZpZXdlci1jb250ZW50IHNoYWRlci1lcnJvcnNcIik7XHJcbiAgY29uc3QgW3dlYkdMQ2FudmFzLCB3ZWJHTENvbnRyb2xsZXJdID0gY3JlYXRlV2ViR0xDYW52YXMoXCJ2aWV3ZXItY29udGVudFwiKTtcclxuXHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHdlYkdMQ2FudmFzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQoc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh2aWV3ZXJPcHRpb25zKTtcclxuXHJcbiAgY29uc3Qgc2hvd0NvbnRlbnQgPSAoY29udGVudDogXCJjYW52YXNcIiB8IFwiZXJyb3JzXCIgfCBcIm5vbmVcIikgPT4ge1xyXG4gICAgd2ViR0xDYW52YXMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiY2FudmFzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImVycm9yc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3luY1NoYWRlckRvY3VtZW50cyA9ICgpID0+IHtcclxuICAgIHZzY29kZUFwaS5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKHNkID0+IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoZiA9PiAoe1xyXG4gICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgIGRpc3BsYXk6IGYuZmlsZU5hbWUsXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogVW5zdWJzY3JpYmUgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IGFuaW1hdGlvbkZyYW1lSGFuZGxlOiBudW1iZXIgPSBudWxsO1xyXG5cclxuICBjb25zdCBvblNoYWRlckNvbnRlbnRDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgc2hhZGVyT3B0aW9ucy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdlYkdMQ29udHJvbGxlci5jb250ZXh0O1xyXG5cclxuICAgIGlmIChzZWxlY3RlZEZyYWdtZW50Q29udGVudCAmJiBzZWxlY3RlZFZlcnRleENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGlsZVNoYWRlcnMoXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQsXHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBzaG93Q29udGVudChcImVycm9yc1wiKTtcclxuICAgICAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5pbm5lclRleHQgPSBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzKFxyXG4gICAgICAgICAgcmVzdWx0IGFzIFNoYWRlckNvbXBpbGVFcnJvcnNcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSByZXN1bHQgYXMgV2ViR0xQcm9ncmFtO1xyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0gZ2V0UHJvZ3JhbVVuaWZvcm1zKGNvbnRleHQsIHByb2dyYW0pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlcnMgPSBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyhjb250ZXh0LCBwcm9ncmFtKTtcclxuXHJcbiAgICAgICAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgdW5pZm9ybXNcclxuICAgICAgICApO1xyXG4gICAgICAgIHVuaWZvcm1Db21wb25lbnRzLmZvckVhY2godWMgPT5cclxuICAgICAgICAgIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQodWMuY29tcG9uZW50KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzKFxyXG4gICAgICAgICAgY29udGV4dCxcclxuICAgICAgICAgIHByb2dyYW0sXHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLmZvckVhY2goYWIgPT5cclxuICAgICAgICAgIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQoYWIuY29tcG9uZW50KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuaWZvcm1JbmZvcyA9IHVuaWZvcm1Db21wb25lbnRzLm1hcCh1YyA9PiB1Yy51bmlmb3JtSW5mbyk7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlQnVmZmVySW5mb3MgPSBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzLm1hcChcclxuICAgICAgICAgIGFiYyA9PiBhYmMuYXR0cmlidXRlQnVmZmVySW5mb1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRpb25GcmFtZUhhbmRsZSAhPT0gbnVsbClcclxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSGFuZGxlKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgcmVuZGVyUHJvZ3JhbSh3ZWJHTENvbnRyb2xsZXIuY29udGV4dCwgcmVzdWx0LCB7XHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB1bmlmb3JtSW5mb3MsXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnM6IGF0dHJpYnV0ZUJ1ZmZlckluZm9zLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93Q29udGVudChcIm5vbmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIsIFtcclxuICAgICAgY3JlYXRlU2VjdGlvblRpdGxlKHRyYW5zbGF0aW9ucy5zaGFkZXJzLCBcIlwiKS5lbGVtZW50LFxyXG4gICAgICBjcmVhdGVCdXR0b24oXCJTeW5jXCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsIHN5bmNTaGFkZXJEb2N1bWVudHMpXHJcbiAgICAgICAgLmVsZW1lbnQsXHJcbiAgICBdKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFt2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIHZlcnRleERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld1ZlcnRleCA9PiB7XHJcbiAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3VmVydGV4KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdnNjb2RlQXBpLnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3VmVydGV4LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdWZXJ0ZXhcclxuICAgICAgICA/IGF3YWl0IHZzY29kZUFwaS5nZXREb2N1bWVudFRleHQobmV3VmVydGV4LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgdmVydGV4RHJvcGRvd25FbGVtZW50LFxyXG4gICAgICBcInZpZXdlci12ZXJ0ZXgtc2hhZGVyLXNlbGVjdG9yXCIsXHJcbiAgICAgIFwiVmVydGV4IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld0ZyYWdtZW50ID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2c2NvZGVBcGkuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdGcmFnbWVudC5pZCxcclxuICAgICAgICAgIG5ld0NvbnRlbnQgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0ZyYWdtZW50XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld0ZyYWdtZW50LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLWZyYWdtZW50LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIkZyYWdtZW50IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxuXHJcbiAgc3luY1NoYWRlckRvY3VtZW50cygpO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==