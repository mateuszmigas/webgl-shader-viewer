!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},o=function(e,t,n){var o=document.createElement("select");o.className=null!=t?t:"";var i=null,u=[],a=function(t){e(i=t)};o.onchange=function(){var e=u.find((function(e){return e.item.id===o.value}));e.item.id?a(e.item):a(null)};return[o,{setItems:function(e){o.innerHTML="",u.length=0,e.find((function(e){return e.id===(null==i?void 0:i.id)}))||a(null),r([{id:"",display:""}],e).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==i?void 0:i.id),o.appendChild(t),u.push({element:t,item:e})}))},getItems:function(){return u.map((function(e){return e.item}))},setSelectedItemById:function(e){a(null),u.forEach((function(t){t.item.id===e?(t.element.selected=!0,a(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return i},clearSelection:function(){u.forEach((function(e){return e.element.selected=!1})),a(null)}}]},i=acquireVsCodeApi(),u=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners=e.eventListeners.filter((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this;return i.postMessage({type:"getShaderDocuments"}),new Promise((function(t){e.eventListeners.push((function(e){return"getShaderDocuments"===e.type&&(t(e.payload.files),!0)}))}))},e}(),a=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},l=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},c=function(e,t,n,r){var o,i=document.createElement("div");i.className="edit-input-grid";for(var u=l(e),a=0;a<n;a++){var c=document.createElement("div");c.className="edit-input-row";for(var d=function(n){var i=a*r+n,l=document.createElement("input");l.className="edit-input",l.type="number",console.log(i),l.value=null===(o=e[i])||void 0===o?void 0:o.toString(),l.oninput=function(){u[i]=Number(l.value),t(u)},c.appendChild(l)},s=0;s<r;s++)d(s);i.appendChild(c)}return i},d=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};(function(e,t,n,r){new(n||(n=Promise))((function(o,i){function u(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}l((r=r.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function(){var e,t,n,r,i,l,s,f,p,m;return d(this,(function(d){var v,h;return e=new u,t=document.getElementById("viewer"),n=document.createElement("div"),v="viewer-shader-options",(h=document.createElement("div")).className=v,r=h,n.appendChild(r),n.className="viewer-options",i=o((function(e){})),l=i[0],s=i[1],n.appendChild(a(l,"viewer-vertex-shader-selector","Vertex Shader")),f=o((function(e){})),p=f[0],m=f[1],n.appendChild(a(p,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(function(e,t){var n=document.createElement("h3");return n.textContent=e,n.className=t+" section-title",{element:n}}("SHADERS","viewer-shaders-title").element),n.appendChild(function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}}("â†»","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));s.setItems(t),m.setItems(t)}))})).element),t.appendChild(n),r.appendChild(a(c([1,3,4],(function(e){return console.log(e)}),1,3),"","u_color")),r.appendChild(a(c([1,3,4,5],(function(e){return console.log(e)}),1,4),"","u_diffuse")),r.appendChild(a(c([0,1,2,3,4,5,6,7,8],(function(e){return console.log(e)}),3,4),"","u_diffuse2")),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tbXVuaWNhdGlvblByb3h5LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy93cmFwcGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvZWRpdFZlY3RvcjMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlU2VjdGlvblRpdGxlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9jcmVhdGVGQUJ1dHRvbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIml0ZW0iLCJvbmNoYW5nZSIsImZvdW5kRWxlbWVudCIsImZpbmQiLCJlIiwiaWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsImFjcXVpcmVWc0NvZGVBcGkiLCJldmVudExpc3RlbmVycyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZpbHRlciIsImxpc3RlbmVyIiwiZGF0YSIsImdldFNoYWRlckRvY3VtZW50cyIsInBvc3RNZXNzYWdlIiwidHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZSIsInBheWxvYWQiLCJmaWxlcyIsIndpdGhMYWJlbCIsInRleHQiLCJ3cmFwcGVyIiwibGFiZWwiLCJjcmVhdGVNdWx0aUVkaXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0R3JpZCIsInZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5kZXgiLCJpbnB1dCIsImNvbnNvbGUiLCJsb2ciLCJ0b1N0cmluZyIsIm9uaW5wdXQiLCJOdW1iZXIiLCJkaXYiLCJ2c2NvZGVBcGkiLCJWc0NvZGVBcGlQcm94eSIsImdldEVsZW1lbnRCeUlkIiwic2hhZGVyT3B0aW9ucyIsIm5ld1ZlcnRleCIsInZlcnRleERyb3Bkb3duRWxlbWVudCIsInZlcnRleERyb3Bkb3duQ29udHJvbGxlciIsIm5ld0ZyYWdtZW50IiwiZnJhZ21lbnREcm9wZG93bkVsZW1lbnQiLCJmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlciIsImNyZWF0ZVNlY3Rpb25UaXRsZSIsIm9uQ2xpY2siLCJidXR0b24iLCJvbmNsaWNrIiwiY3JlYXRlRkFCdXR0b24iLCJ0aGVuIiwic2QiLCJmIiwiZmlsZVBhdGgiLCJmaWxlTmFtZSIs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R0FBSSxjQUN6RGpCLEVBQWNoRCxZQUFZd0IsRURyRE9JLEVBQWdCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQUksU0FBQXFDLEdBQU8sT0FBQTFCLFFBQVFDLElBQUl5QixLQUFNLEVBQUcsR0NxRHJELEdBQUksZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIC8vaW5pdGlhbFZhbHVlOiBEcm9wZG93bkl0ZW0gfCBudWxsLFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHt9IC8vcGxhY2Vob2xkZXJcclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICBjbGVhclNlbGVjdGlvbjogKCkgPT4gdm9pZDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lID8/IFwiXCI7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKChlKSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKChpKSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZGVjbGFyZSBjb25zdCBhY3F1aXJlVnNDb2RlQXBpOiAoKSA9PiB7XHJcbiAgLy9nZXRTdGF0ZTogKCkgPT4gYW55O1xyXG4gIC8vc2V0U3RhdGU6IChzdGF0ZTogYW55KSA9PiB2b2lkO1xyXG4gIHBvc3RNZXNzYWdlOiAobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCkgPT4gdm9pZDtcclxufTtcclxuZXhwb3J0IGNvbnN0IHZzY29kZUFwaSA9IGFjcXVpcmVWc0NvZGVBcGkoKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlcXVlc3QgPVxyXG4gIHwgeyB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiIH1cclxuICB8IHsgdHlwZTogXCJvbkRpZFNoYWRlckRvY3VtZW50c0NoYW5nZVwiIH07XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSA9IHtcclxuICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiO1xyXG4gIHBheWxvYWQ6IHsgZmlsZXM6IHsgZmlsZVBhdGg6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZyB9W10gfTtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBWc0NvZGVBcGlQcm94eSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6ICgobWVzc2FnZTogVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVzcG9uc2UpID0+IGJvb2xlYW4pW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIC8vY2xlYXIgZXZlbnQgbGlzdGVuZXIgdGhhdCBhcmUgbm8gbG9uZ2VyIGludGVyZXN0ZWRcclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZmlsdGVyKChsaXN0ZW5lcikgPT5cclxuICAgICAgICBsaXN0ZW5lcihldmVudC5kYXRhKVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRTaGFkZXJEb2N1bWVudHMoKSB7XHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHsgZmlsZVBhdGg6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZyB9W10+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaCgobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLmZpbGVzKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgdGV4dDogc3RyaW5nXHJcbikgPT4ge1xyXG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHdyYXBwZXIuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcbiIsIlxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU11bHRpRWRpdCA9IChpbml0aWFsVmFsdWU6IG51bWJlcltdLCBvbkNoYW5nZTogKG5ld1ZhbHVlOiBudW1iZXJbXSkgPT4gdm9pZCwgcm93czogbnVtYmVyLCBjb2x1bW5zOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IGlucHV0R3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dEdyaWQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWdyaWRcIjtcclxuXHJcbiAgICBsZXQgdmFsdWVzID0gWy4uLmluaXRpYWxWYWx1ZV07XHJcblxyXG4gICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgICAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaW5wdXRSb3cuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LXJvd1wiO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICAgICAgICAgICAgaW5wdXQudHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XT8udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2UodmFsdWVzKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dClcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbnB1dEdyaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNYXRyaXgzID0gKCkgPT4gY3JlYXRlTXVsdGlFZGl0KFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XSwgdmFsID0+IGNvbnNvbGUubG9nKHZhbCksIDMsIDQpO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9ICgpID0+IGNyZWF0ZU11bHRpRWRpdChbMSwgMywgNF0sIHZhbCA9PiBjb25zb2xlLmxvZyh2YWwpLCAxLCAzKTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjQgPSAoKSA9PiBjcmVhdGVNdWx0aUVkaXQoWzEsIDMsIDQsIDVdLCB2YWwgPT4gY29uc29sZS5sb2codmFsKSwgMSwgNCk7XHJcblxyXG4iLCJpbXBvcnQgeyBjcmVhdGVEcm9wZG93biwgRHJvcGRvd25JdGVtIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBWc0NvZGVBcGlQcm94eSB9IGZyb20gXCIuL2NvbW11bmljYXRpb25Qcm94eVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZWN0aW9uVGl0bGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NyZWF0ZVNlY3Rpb25UaXRsZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVGQUJ1dHRvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b25cIjtcclxuaW1wb3J0IHsgd2l0aExhYmVsIH0gZnJvbSBcIi4vY29tcG9uZW50cy93cmFwcGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVNYXRyaXgzLCBjcmVhdGVWZWN0b3IzLCBjcmVhdGVWZWN0b3I0IH0gZnJvbSBcIi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5cclxuY29uc3QgY3JlYXRlRGl2U2VjdGlvbiA9IChjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU2hhZGVyT3B0aW9ucyA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gIGVsZW1lbnQuaW5uZXJIVE1MID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCBjcmVhdGVWaWV3ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgdnNjb2RlQXBpID0gbmV3IFZzQ29kZUFwaVByb3h5KCk7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlld2VyXCIpO1xyXG4gIGNvbnN0IG9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXZTZWN0aW9uKFwidmlld2VyLXNoYWRlci1vcHRpb25zXCIpO1xyXG4gIG9wdGlvbnMuYXBwZW5kQ2hpbGQoc2hhZGVyT3B0aW9ucyk7XHJcblxyXG4gIG9wdGlvbnMuY2xhc3NOYW1lID0gXCJ2aWV3ZXItb3B0aW9uc1wiO1xyXG4gIGxldCBzZWxlY3RlZFZlcnRleDogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnQ6IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG5cclxuICBjb25zdCBvblNoYWRlcnNDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgLy8gL2lmIChzZWxlY3RlZEZyYWdtZW50KVxyXG4gICAgLy9lbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAvL2NyZWF0ZVNoYWRlck9wdGlvbnMoc2hhZGVyT3B0aW9ucyk7XHJcbiAgfTtcclxuXHJcbiAgLy92ZXJ0ZXggc2hhZGVyXHJcbiAgY29uc3QgW3ZlcnRleERyb3Bkb3duRWxlbWVudCwgdmVydGV4RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgKG5ld1ZlcnRleCkgPT4ge1xyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50ID0gbmV3VmVydGV4O1xyXG4gICAgICBvblNoYWRlcnNDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICBvcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICB2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLXZlcnRleC1zaGFkZXItc2VsZWN0b3JcIixcclxuICAgICAgXCJWZXJ0ZXggU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICAvL2ZyYWdtZW50IHNoYWRlclxyXG4gIGNvbnN0IFtmcmFnbWVudERyb3Bkb3duRWxlbWVudCwgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICAobmV3RnJhZ21lbnQpID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudCA9IG5ld0ZyYWdtZW50O1xyXG4gICAgICBvblNoYWRlcnNDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICBvcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICBmcmFnbWVudERyb3Bkb3duRWxlbWVudCxcclxuICAgICAgXCJ2aWV3ZXItZnJhZ21lbnQtc2hhZGVyLXNlbGVjdG9yXCIsXHJcbiAgICAgIFwiRnJhZ21lbnQgU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICBvcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgY3JlYXRlU2VjdGlvblRpdGxlKFwiU0hBREVSU1wiLCBcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIpLmVsZW1lbnRcclxuICApO1xyXG5cclxuICBvcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgY3JlYXRlRkFCdXR0b24oXCLihrtcIiwgXCJ2aWV3ZXItcmVmcmVzaC1idXR0b25cIiwgKCkgPT4ge1xyXG4gICAgICB2c2NvZGVBcGkuZ2V0U2hhZGVyRG9jdW1lbnRzKCkudGhlbigoc2QpID0+IHtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IHNkLm1hcCgoZikgPT4gKHtcclxuICAgICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgICAgZGlzcGxheTogZi5maWxlTmFtZSxcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgICAgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICB9KTtcclxuICAgIH0pLmVsZW1lbnRcclxuICApO1xyXG5cclxuICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbnMpO1xyXG4gIHNoYWRlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKGNyZWF0ZVZlY3RvcjMoKSwgXCJcIiwgXCJ1X2NvbG9yXCIpKTtcclxuICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChjcmVhdGVWZWN0b3I0KCksIFwiXCIsIFwidV9kaWZmdXNlXCIpKTtcclxuICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHdpdGhMYWJlbChjcmVhdGVNYXRyaXgzKCksIFwiXCIsIFwidV9kaWZmdXNlMlwiKSk7XHJcblxyXG4gIC8vIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgLy8gY2FudmFzLmNsYXNzTmFtZSA9IFwidmlld2VyLWNvbnRlbnRcIjtcclxuICAvLyBjYW52YXMud2lkdGggPSA1MDA7XHJcbiAgLy8gY2FudmFzLmhlaWdodCA9IDUwMDtcclxuICAvLyBlbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgLy8gY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgLy8gY29udGV4dC5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgLy8gY29udGV4dC5maWxsUmVjdCgxNTAsIDE1MCwgMjAwLCA0NTApO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUZBQnV0dG9uID0gKFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBjbGFzc05hbWU6IHN0cmluZyxcclxuICBvbkNsaWNrOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9uLm9uY2xpY2sgPSBvbkNsaWNrO1xyXG4gIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICByZXR1cm4geyBlbGVtZW50OiBidXR0b24gfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==