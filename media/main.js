!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r},u={emptyItem:!0},c=function(e,t,n){var r=a(a({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?i([{id:"",display:""}],e):i(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=function(e,t){return e.hasOwnProperty(t)},d=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},p=acquireVsCodeApi(),m=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return p.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return p.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;p.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),p.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),v=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},h=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},y=function(e,t,n,r,o){var a=document.createElement("div");a.className="edit-input-grid";for(var i=[],u=function(){return i.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var a=c*r+n,l=e[a],f=document.createElement("input"),d={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){i[a].value=Number(f.value),null==t||t(u())},i.push(d),s.appendChild(f)},f=0;f<r;f++)l(f);a.appendChild(s)}return[a,{setValues:function(e){return i.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return i.forEach((function(t){return t.element.readOnly=e}))}}]},g=function(e){return y([0,0,0],e,1,3)},b=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},x={min:"0",max:"1",step:"0.1"},A=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var w,C=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=[],a=function(n){var a=e.getActiveUniform(t,n),i=e.getUniformLocation(t,a.name),u=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,A([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,A([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,A([n],e))};case r.SAMPLER_2D:return function(e){};default:d(e)}}(a.type,e,i),c=void 0;o.push({name:a.name,type:a.type,update:function(e){return c=e},onRender:function(){console.log("setting",c),u(c)}})},i=0;i<n;++i)a(i);return o},T=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},S=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},O=function(e){var t=y([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},L=function(e){var t=g(),n=t[0];return t[1].setValues([0,0,0]),n},_=function(e){var t=g(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=b("row-with-gap"),a=y(t,(function(t){r(t),null==e||e(t)}),1,3,x),i=a[0],u=a[1];return o.appendChild(i),o.appendChild(n),[o,E(E({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var a=S({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return b("column-with-gap",[a,n,o])},V=function(e){var t=y([0,0,0,0],e,1,4),n=t[0];t[1].setValues([0,0,0,0]);var r=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=b("row-with-gap"),a=y(t,(function(t){r(t),null==e||e(t)}),1,4,x),i=a[0],u=a[1];return o.appendChild(i),o.appendChild(n),[o,E(E({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0,1]);var a=S({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return b("column-with-gap",[a,n,o])},R=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.clear=function(){this.map.clear()},e}();!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(w||(w={}));var F=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=function(n){var o=e.getActiveAttrib(t,n),a=e.getAttribLocation(t,o.name),i=e.createBuffer();!function(e){switch(e){case w.FLOAT_VEC3:return 3;case w.FLOAT_VEC4:return 4;default:d(e)}}(o.type);r.push({name:o.name,type:o.type,update:function(t){e.bindBuffer(e.ARRAY_BUFFER,i);[].concat.apply([],t);e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,.5,.7,0]),e.STATIC_DRAW)},onRender:function(){e.enableVertexAttribArray(a),e.bindBuffer(e.ARRAY_BUFFER,i);var t=e.FLOAT;e.vertexAttribPointer(a,2,t,!1,0,0)}})},a=0;a<n;++a)o(a);return r},N=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},P=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},D=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&4===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},M=new R((function(e){return e.name+";"+e.type})),j=new R((function(e){return e.name+";"+e.type})),B=function(e,t){t.uniforms.map((function(e){var n=M.get(I({},e));if(n)return n;var o=h(function(e,t){switch(e.type){case r.FLOAT_VEC2:return O((function(n){e.update(n),t()}));case r.FLOAT_VEC3:return _((function(n){e.update(n),t()}));case r.FLOAT_VEC4:return V((function(n){e.update(n),t()}));case r.SAMPLER_2D:return L((function(n){l();e.update({slot:n.slot,textureData:!0}),t()}));default:return T()}}(e,t.render),"",e.name);return M.set(I({},e),o),o})).forEach((function(t){return e.appendChild(t)})),t.attributeBuffers.map((function(e){var n=j.get(I({},e));if(n)return n;var r=h(function(e,t){switch(e.type){case w.FLOAT_VEC3:return P((function(n){e.update(n),t()}));case w.FLOAT_VEC4:return D((function(n){e.update(n),t()}));default:return N()}}(e,t.render),"",e.name);return j.set(I({},e),r),r})).forEach((function(t){return e.appendChild(t)}))},U=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},k=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{compileShaders:function(e,t){var n=U(o,o.VERTEX_SHADER,e),r=U(o,o.FRAGMENT_SHADER,t),a=void 0;f(n,"error")&&(a=s(n.error,1));var i=void 0;if(f(r,"error")&&(i=s(r.error,1)),a||i)return[a,i];var u=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))}(o,n,r),c=C(o,u),l=F(o,u);return{render:function(){console.log("rendering"),o.useProgram(u),o.viewport(0,0,o.canvas.width,o.canvas.height),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),c.forEach((function(e){return e.onRender()})),l.forEach((function(e){return e.onRender()}));var e=o.TRIANGLES;o.drawArrays(e,0,3)},uniforms:c,attributeBuffers:l}}}]},H=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};H(void 0,void 0,void 0,(function(){var e,t,n,r,a,i,u,s,l,f,d,p,y,g,E,x,A,w,C,T;return G(this,(function(S){var O,L,_;return e=new m,t=document.getElementById("viewer"),n=b("viewer-options"),r=b("viewer-shader-options"),a=b("viewer-content shader-errors"),i=k("viewer-content"),u=i[0],s=i[1],t.appendChild(u),t.appendChild(a),t.appendChild(n),l=function(e){u.style.visibility="canvas"===e?"visible":"collapse",a.style.visibility="errors"===e?"visible":"collapse"},g=function(){if(r.innerHTML="",y&&p){var e=s.compileShaders(p,y);if(Array.isArray(e)){l("errors");var t=e,n=t[0],o=t[1],i=[];n&&i.push("VERTEX SHADER:",n),o&&i.push("FRAGMENT SHADER:",o),a.innerText=i.join("\r\n")}else l("canvas"),B(r,e)}else l("none")},n.appendChild(b("viewer-shaders-title",[(O=o,L="",_=document.createElement("h3"),_.textContent=O,_.className=L+" section-title",{element:_}).element,v("Sync","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));A.setItems(t),T.setItems(t)}))})).element])),E=c((function(t){return H(void 0,void 0,void 0,(function(){var n;return G(this,(function(r){switch(r.label){case 0:return null==f||f(),t&&(f=e.subscribeToDocumentSave(t.id,(function(e){p=e,g()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return p=n,g(),[2]}}))}))})),x=E[0],A=E[1],n.appendChild(h(x,"viewer-vertex-shader-selector","Vertex Shader")),w=c((function(t){return H(void 0,void 0,void 0,(function(){var n;return G(this,(function(r){switch(r.label){case 0:return null==d||d(),t&&(d=e.subscribeToDocumentSave(t.id,(function(e){y=e,g()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return y=n,g(),[2]}}))}))})),C=w[0],T=w[1],n.appendChild(h(C,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(r),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3VuaWZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbW11bmljYXRpb25Qcm94eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0VmVjdG9yMy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY29tbW9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0Q29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy9hdHRyaWJ1dGVCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy91bmlmb3JtQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9zaXRlS2V5TWFwLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc2hhZGVyT3B0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY3JlYXRlV2ViR0xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlU2VjdGlvblRpdGxlLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIml0ZW0iLCJvbmNoYW5nZSIsImZvdW5kRWxlbWVudCIsImZpbmQiLCJlIiwiaWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsInJlbW92ZUxhc3QiLCJ0ZXh0IiwiY291bnQiLCJzdWJzdHJpbmciLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiaGFzUHJvcGVydHkiLCJvYmoiLCJwcm9wIiwiYXNzZXJ0TmV2ZXIiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY3F1aXJlVnNDb2RlQXBpIiwiZXZlbnRMaXN0ZW5lcnMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsImRhdGEiLCJnZXRTaGFkZXJEb2N1bWVudHMiLCJtZXNzYWdlSWQiLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsImNhbGxiYWNrIiwidGhpcyIsImFycmF5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlRkFCdXR0b24iLCJvbkNsaWNrIiwiYnV0dG9uIiwib25jbGljayIsIndpdGhMYWJlbCIsIndyYXBwZXIiLCJsYWJlbCIsImNyZWF0ZU11bHRpTnVtYmVySW5wdXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0T3B0aW9ucyIsImlucHV0R3JpZCIsImdldFZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjb2xvcklucHV0UHJvcHMiLCJtaW4iLCJtYXgiLCJzdGVwIiwiQXR0cmlidXRlQnVmZmVyVHlwZSIsImdlbmVyYXRlVW5pZm9ybUluZm9zIiwiY29udGV4dCIsInByb2dyYW0iLCJudW1Vbmlmb3JtcyIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfVU5JRk9STVMiLCJyZXN1bHQiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldHRlciIsImxvY2F0aW9uIiwiRkxPQVRfVkVDMiIsInVuaWZvcm0yZiIsIkZMT0FUX1ZFQzMiLCJ1bmlmb3JtM2YiLCJGTE9BVF9WRUM0IiwidW5pZm9ybTRmIiwiU0FNUExFUl8yRCIsImdldFVuaWZvcm1TZXR0ZXIiLCJjdXJyZW50VmFsdWUiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJvblJlbmRlciIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkIiwiaW5uZXJUZXh0IiwiY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiIsImVsZW1lbnRzIiwidmFsdWVzIiwib2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJvcHRpb25zRWxlbWVudCIsIm9wdGlvbnNDb250cm9sbGVyIiwiZW50cmllcyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3VzdG9tRWxlbWVudCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjb2xvckRpdiIsInNldENvbG9yIiwiY29sb3IiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb250YWluZXIiLCJjb250cm9sbGVyIiwiY3JlYXRlQ29sb3IzIiwiY29sb3JFbGVtZW50IiwiY3VzdG9tIiwiY3JlYXRlVW5pZm9ybUZvclZlYzQiLCJjcmVhdGVDb2xvcjQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImNsZWFyIiwiZ2VuZXJhdGVBdHRyaWJ1dGVCdWZmZXJJbmZvcyIsIm51bUF0dHJpYnV0ZUJ1ZmZlcnMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYiIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiYnVmZmVyVHlwZSIsImdldE51bUNvbXBvbmVudHMiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiY29uY2F0IiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJGTE9BVCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMiLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiZXJyb3IiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQiLCJ1bmlmb3Jtc0NhY2hlIiwiQ29tcG9zaXRlS2V5TWFwIiwiYXR0cmlidXRlQnVmZmVyc0NhY2hlIiwiYXBwZW5kV2l0aFNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb250cm9sbGVyIiwidW5pZm9ybXMiLCJjb21wb25lbnRGcm9tQ2FjaGUiLCJjb21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsInJlbmRlciIsInNsb3QiLCJ0ZXh0dXJlRGF0YSIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJzIiwiYXR0cmlidXRlQnVmZmVyIiwiYXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCIsImNvbXBpbGVTaGFkZXIiLCJyZW5kZXJpbmdDb250ZXh0Iiwic291cmNlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlV2ViR0xDYW52YXMiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwicmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlckVudHJ5IiwidGFyZ2V0IiwiZG9tUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5Iiwib2JzZXJ2ZSIsImNvbXBpbGVTaGFkZXJzIiwidmVydGV4U2hhZGVyQ29udGVudCIsImZyYWdtZW50U2hhZGVyQ29udGVudCIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwiZnJhZ21lbnRFcnJvciIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsIkxJTktfU1RBVFVTIiwiZGVsZXRlUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInZpZXdwb3J0IiwiY2xlYXJDb2xvciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1IiwiYWIiLCJwcmltaXRpdmVUeXBlIiwiVFJJQU5HTEVTIiwiZHJhd0FycmF5cyIsInZzY29kZUFwaSIsInZpZXdlciIsImdldEVsZW1lbnRCeUlkIiwidmlld2VyT3B0aW9ucyIsInNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb21waWxhdGlvbkVycm9ycyIsIndlYkdMQ2FudmFzIiwid2ViR0xDb250cm9sbGVyIiwic2hvd0NvbnRlbnQiLCJjb250ZW50IiwidmlzaWJpbGl0eSIsIm9uU2hhZGVyQ29udGVudENoYW5nZWQiLCJzZWxlY3RlZEZyYWdtZW50Q29udGVudCIsInNlbGVjdGVkVmVydGV4Q29udGVudCIsInZlcnRleFNoYWRlckVycm9ycyIsImZyYWdtZW50U2hhZGVyRXJyb3JzIiwiZXJyb3JzIiwiam9pbiIsInRoZW4iLCJzZCIsImYiLCJ2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIiLCJmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlciIsIm5ld1ZlcnRleCIsInNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsIm5ld0NvbnRlbnQiLCJ2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQiLCJuZXdGcmFnbWVudCIsInNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwiZnJhZ21lbnRE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QU0sT0FDMUIzUSxHQUFJMlEsRUFBRXJOLFNBQ05qRCxRQUFTc1EsRUFBRXZOLGFBR2J3TixFQUF5QjNRLFNBQVNnRCxHQUNsQzROLEVBQTJCNVEsU0FBU2dELFNBRXJDNUQsV0FJRCxFQUFvREwsR0FDeEQsU0FBTzhSLEdBQVMsMEMsK0RBQ2RDLGFBRUlELElBQ0ZDLEVBQXVDeEIsRUFBVWxNLHdCQUMvQ3lOLEVBQVU5USxJQUNWLFNBQUNnUixHQUNDWixFQUF3QlksRUFDeEJkLFFBS2tCWSxFQUNwQixHQUFNdkIsRUFBVXBNLGdCQUFnQjJOLEVBQVU5USxLQUR0QixNLGNBQ3BCLFcsYUFDQSxLLHdCQUZKb1EsRUFBd0IsRUFHeEJGLEksY0FqQkdlLEVBQXFCLEtBQUVMLEVBQXdCLEtBb0J0RGxCLEVBQWNoUCxZQUNadUQsRUFDRWdOLEVBQ0EsZ0NBQ0Esa0JBSUUsRUFBd0RqUyxHQUM1RCxTQUFPa1MsR0FBVywwQywrREFDaEJDLGFBRUlELElBQ0ZDLEVBQXlDNUIsRUFBVWxNLHdCQUNqRDZOLEVBQVlsUixJQUNaLFNBQUNnUixHQUNDYixFQUEwQmEsRUFDMUJkLFFBS29CZ0IsRUFDdEIsR0FBTTNCLEVBQVVwTSxnQkFBZ0IrTixFQUFZbFIsS0FEdEIsTSxjQUN0QixXLGFBQ0EsSyx3QkFGSm1RLEVBQTBCLEVBRzFCRCxJLGNBakJHa0IsRUFBdUIsS0FBRVAsRUFBMEIsS0FvQjFEbkIsRUFBY2hQLFlBQ1p1RCxFQUNFbU4sRUFDQSxrQ0FDQSxvQkFJSjFCLEVBQWNoUCxZQUFZaVAsRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IHRyYW5zbGF0aW9ucyA9IHtcclxuICAgIHNoYWRlcnM6IFwiU0hBREVSU1wiXHJcbn0iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzLCBWZWN0b3I0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZWRpdFZlY3RvcjNcIjtcclxuaW1wb3J0IHsgQ29sb3IzLCBDb2xvcjQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0Q29sb3JcIjtcclxuXHJcbmV4cG9ydCBlbnVtIFVuaWZvcm1UeXBlIHtcclxuICBGTE9BVF9WRUMyID0gMzU2NjQsXHJcbiAgRkxPQVRfVkVDMyA9IDM1NjY1LFxyXG4gIEZMT0FUX1ZFQzQgPSAzNTY2NixcclxuICBTQU1QTEVSXzJEID0gMzU2NzgsXHJcbn1cclxuXHJcbi8vNTEyMCAoQllURSksIDUxMjEgKFVOU0lHTkVEX0JZVEUpLCA1MTIyIChTSE9SVCksIDUxMjMgKFVOU0lHTkVEX1NIT1JUKSwgNTEyNCAoSU5UKSxcclxuLy8gNTEyNSAoVU5TSUdORURfSU5UKSwgNTEyNiAoRkxPQVQpLCAzNTY2NCAoRkxPQVRfVkVDMiksXHJcbi8vICwgMzU2NjcgKElOVF9WRUMyKSwgMzU2NjggKElOVF9WRUMzKSwgMzU2NjkgKElOVF9WRUM0KSwgMzU2NzAgKEJPT0wpLCAzNTY3MSAoQk9PTF9WRUMyKSwgMzU2NzIgKEJPT0xfVkVDMyksIDM1NjczIChCT09MX1ZFQzQpLCAzNTY3NCAoRkxPQVRfTUFUMiksIDM1Njc1IChGTE9BVF9NQVQzKSwgMzU2NzYgKEZMT0FUX01BVDQpXHJcblxyXG5leHBvcnQgdHlwZSBVbmlmb3JtSW5mbyA9IHsgbmFtZTogc3RyaW5nOyBvblJlbmRlcjogKCkgPT4gdm9pZCB9ICYgKFxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyO1xyXG4gICAgICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZDtcclxuICAgIH1cclxuICB8IHtcclxuICAgICAgdHlwZTogVW5pZm9ybVR5cGUuRkxPQVRfVkVDMztcclxuICAgICAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjMgfCBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ7XHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0IHwgQ29sb3I0KSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEO1xyXG4gICAgICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHZvaWQ7XHJcbiAgICB9XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VW5pZm9ybVNldHRlciA9IChcclxuICB0eXBlOiBVbmlmb3JtVHlwZSxcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgbG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uXHJcbik6ICgodmFsdWU6IGFueSkgPT4gdm9pZCkgPT4ge1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyOlxyXG4gICAgICByZXR1cm4gKHZhbHVlOiBWZWN0b3IyKSA9PiBjb250ZXh0LnVuaWZvcm0yZihsb2NhdGlvbiwgLi4udmFsdWUpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gKHZhbHVlOiBWZWN0b3IzKSA9PiBjb250ZXh0LnVuaWZvcm0zZihsb2NhdGlvbiwgLi4udmFsdWUpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gKHZhbHVlOiBWZWN0b3I0KSA9PiBjb250ZXh0LnVuaWZvcm00Zihsb2NhdGlvbiwgLi4udmFsdWUpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gKHZhbHVlOiB7IHNsb3Q6IG51bWJlcjsgdGV4dHVyZURhdGE6IGJvb2xlYW4gfSkgPT4ge1xyXG4gICAgICAgIC8vY29udGV4dC50ZXhpKHZhbHVlLnNsb3QpO1xyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgYXNzZXJ0TmV2ZXIodHlwZSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVW5pZm9ybUluZm9zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKTogVW5pZm9ybUluZm9bXSA9PiB7XHJcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfVU5JRk9STVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IFVuaWZvcm1JbmZvW10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bVVuaWZvcm1zOyArK2luZGV4KSB7XHJcbiAgICBjb25zdCB1bmlmb3JtID0gY29udGV4dC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGluZGV4KTtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gY29udGV4dC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdW5pZm9ybS5uYW1lKTtcclxuICAgIGNvbnN0IHNldHRlciA9IGdldFVuaWZvcm1TZXR0ZXIodW5pZm9ybS50eXBlLCBjb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgICBsZXQgY3VycmVudFZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xyXG4gICAgY29uc3Qgb25SZW5kZXIgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2V0dGluZ1wiLCBjdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgc2V0dGVyKGN1cnJlbnRWYWx1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgbmFtZTogdW5pZm9ybS5uYW1lLFxyXG4gICAgICB0eXBlOiB1bmlmb3JtLnR5cGUsXHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiB1bmtub3duKSA9PiAoY3VycmVudFZhbHVlID0gdmFsdWUpLFxyXG4gICAgICBvblJlbmRlcixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICAvL2luaXRpYWxWYWx1ZTogRHJvcGRvd25JdGVtIHwgbnVsbCxcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9IC8vcGxhY2Vob2xkZXJcclxuKTogW1xyXG4gICAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIF0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKChlKSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKChpKSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcblxyXG4vL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNQcm9wZXJ0eSA9IDxUIGV4dGVuZHMge30sIFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXHJcbiAgb2JqOiBULFxyXG4gIHByb3A6IFBcclxuKTogb2JqIGlzIFQgJiBSZWNvcmQ8UCwgdW5rbm93bj4gPT4ge1xyXG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkocHJvcCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXNzZXJ0TmV2ZXIgPSAodmFsdWU6IG5ldmVyKTogbmV2ZXIgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIHVuaW9uIG1lbWJlcjogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QgPSAoXHJcbiAgZWxlbWVudDogRWxlbWVudCxcclxuICBjYWxsYmFjazogKHJlY3RhbmdsZToge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gIH0pID0+IHZvaWRcclxuKTogKCgpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZWxlbWVudHMpID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyRW50cnkgPSBlbGVtZW50cy5maW5kKChlKSA9PiBlLnRhcmdldCA9PT0gZWxlbWVudCk7XHJcblxyXG4gICAgaWYgKG9ic2VydmVyRW50cnkpIHtcclxuICAgICAgY29uc3QgZG9tUmVjdCA9IG9ic2VydmVyRW50cnkudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgeDogZG9tUmVjdC54LFxyXG4gICAgICAgIHk6IGRvbVJlY3QueSxcclxuICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcclxuICByZXR1cm4gKCkgPT4gcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG59O1xyXG4iLCJpbXBvcnQgeyByZW1vdmUsIHV1aWR2NCB9IGZyb20gJy4vLi4vdXRpbHMnO1xyXG5kZWNsYXJlIGNvbnN0IGFjcXVpcmVWc0NvZGVBcGk6ICgpID0+IHtcclxuICAvL2dldFN0YXRlOiAoKSA9PiBhbnk7XHJcbiAgLy9zZXRTdGF0ZTogKHN0YXRlOiBhbnkpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0KSA9PiB2b2lkO1xyXG59O1xyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxuZXhwb3J0IHR5cGUgVnNDb2RlQXBpUHJveHlNZXNzYWdlUmVxdWVzdCA9XHJcbiAgfCB7IHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsIGlkOiBzdHJpbmcsIH1cclxuICB8IHsgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIiwgaWQ6IHN0cmluZywgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfVxyXG4gIHwgeyB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH1cclxuICB8IHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZyB9IH07XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSA9IHtcclxuICB0eXBlOiBcImdldFNoYWRlckRvY3VtZW50c1wiO1xyXG4gIGlkOiBzdHJpbmcsXHJcbiAgcGF5bG9hZDogeyBmaWxlczogeyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXSB9O1xyXG59IHxcclxueyB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLCBpZDogc3RyaW5nLCBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcsIHRleHQ6IHN0cmluZyB9IH0gfFxyXG57IHR5cGU6IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlUGF0aDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcgfSB9XHJcblxyXG5leHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XHJcblxyXG50eXBlIFByb3h5UmVzcG9uc2VMaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWc0NvZGVBcGlQcm94eSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcltdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWRcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC5maWxlcyk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXREb2N1bWVudFRleHQoZmlsZU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZSB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKGZpbGVQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkKTogVW5zdWJzY3JpYmUge1xyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJzdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lOiBmaWxlUGF0aCB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIm9uRG9jdW1lbnRUZXh0Q2hhbmdlXCIgJiYgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aCkge1xyXG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJ1bnN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0gfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFByb3h5UmVzcG9uc2VMaXN0ZW5lcikge1xyXG4gICAgcmVtb3ZlKHRoaXMuZXZlbnRMaXN0ZW5lcnMsIGxpc3RlbmVyKVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlRkFCdXR0b24gPSAoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b24ub25jbGljayA9IG9uQ2xpY2s7XHJcbiAgYnV0dG9uLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIHJldHVybiB7IGVsZW1lbnQ6IGJ1dHRvbiB9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3Qgd2l0aExhYmVsID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIGNsYXNzTmFtZTogc3RyaW5nLFxyXG4gIHRleHQ6IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gb3B0aW9ucy13cmFwcGVyYDtcclxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICBsYWJlbC5jbGFzc05hbWUgPSBcIm9wdGlvbnMtbGFiZWxcIjtcclxuICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtlbGVtZW50LmNsYXNzTmFtZX0gb3B0aW9ucy1jb250ZW50YDtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIHJldHVybiB3cmFwcGVyO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCA9IDxUIGV4dGVuZHMgbnVtYmVyW10+KFxyXG4gIGluaXRpYWxWYWx1ZTogVCxcclxuICBvbkNoYW5nZTogKG5ld1ZhbHVlOiBUKSA9PiB2b2lkLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICBjb2x1bW5zOiBudW1iZXIsXHJcbiAgaW5wdXRPcHRpb25zPzogUGFydGlhbDxIVE1MSW5wdXRFbGVtZW50PlxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IFQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBUO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5wdXRHcmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBpbnB1dEdyaWQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWdyaWRcIjtcclxuXHJcbiAgY29uc3QgaXRlbUVsZW1lbnRzOiB7IGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IHZhbHVlOiBudW1iZXIgfVtdID0gW107XHJcbiAgY29uc3Qgc2V0VmFsdWVzID0gKG5ld1ZhbHVlczogVCkgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWUudmFsdWUgPSBuZXdWYWx1ZXNbaW5kZXhdO1xyXG4gICAgICBpZS5lbGVtZW50LnZhbHVlID0gaWUudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH0pO1xyXG4gIGNvbnN0IGdldFZhbHVlcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoKGllKSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICBjb25zdCBzZXRSZWFkb25seSA9IChyZWFkb25seTogYm9vbGVhbikgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKChpZSkgPT4gKGllLmVsZW1lbnQucmVhZE9ubHkgPSByZWFkb25seSkpO1xyXG5cclxuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyByb3crKykge1xyXG4gICAgY29uc3QgaW5wdXRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaW5wdXRSb3cuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LXJvd1wiO1xyXG5cclxuICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IGNvbHVtbnM7IGNvbHVtbisrKSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gcm93ICogY29sdW1ucyArIGNvbHVtbjtcclxuICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsVmFsdWVbaW5kZXhdO1xyXG4gICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gICAgICBPYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gICAgICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICAgICAgaW5wdXQudHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gdmFsdWU/LnRvU3RyaW5nKCk7XHJcbiAgICAgIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgaXRlbUVsZW1lbnRzW2luZGV4XS52YWx1ZSA9IE51bWJlcihpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgb25DaGFuZ2U/LihnZXRWYWx1ZXMoKSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKGl0ZW1FbGVtZW50KTtcclxuICAgICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0R3JpZC5hcHBlbmRDaGlsZChpbnB1dFJvdyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW1xyXG4gICAgaW5wdXRHcmlkLFxyXG4gICAge1xyXG4gICAgICBzZXRWYWx1ZXMsXHJcbiAgICAgIGdldFZhbHVlcyxcclxuICAgICAgc2V0UmVhZG9ubHksXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBNYXRyaXgzID0gW1xyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyXHJcbl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNYXRyaXgzID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBNYXRyaXgzKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8TWF0cml4Mz4oWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLCBvbkNoYW5nZSwgMywgMyk7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IyID0gW251bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjIgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjIpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3IyPihbMCwgMF0sIG9uQ2hhbmdlLCAxLCAyKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IzID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMz4oWzAsIDAsIDBdLCBvbkNoYW5nZSwgMSwgMyk7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3I0ID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3I0KSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yND4oWzAsIDAsIDAsIDBdLCBvbkNoYW5nZSwgMSwgNCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVEaXYgPSAoY2xhc3NOYW1lOiBzdHJpbmcsIGNoaWxkcmVuPzogSFRNTEVsZW1lbnRbXSkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBjaGlsZHJlbj8uZm9yRWFjaCgoYykgPT4gZGl2LmFwcGVuZENoaWxkKGMpKTtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dCB9IGZyb20gXCIuL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5jb25zdCBjb2xvcklucHV0UHJvcHMgPSB7XHJcbiAgbWluOiBcIjBcIixcclxuICBtYXg6IFwiMVwiLFxyXG4gIHN0ZXA6IFwiMC4xXCIsXHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yNCA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3I0KSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3I0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjUsIDFdIGFzIENvbG9yNDtcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sJHtjb2xvclszXX0pYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3I0PihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgNCxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xvcjMgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjMgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yMykgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yMztcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41XSBhcyBDb2xvcjM7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LDEpYDtcclxuICB9O1xyXG5cclxuICBzZXRDb2xvcihpbml0aWFsVmFsdWUpO1xyXG5cclxuICBjb25zdCBvbkNoYW5nZUludGVybmFsID0gKGNvbG9yOiBDb2xvcjMpID0+IHtcclxuICAgIHNldENvbG9yKGNvbG9yKTtcclxuICAgIG9uQ2hhbmdlPy4oY29sb3IpO1xyXG4gIH07XHJcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRGl2KFwicm93LXdpdGgtZ2FwXCIpO1xyXG4gIGNvbnN0IFtlbGVtZW50LCBjb250cm9sbGVyXSA9IGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8Q29sb3IzPihcclxuICAgIGluaXRpYWxWYWx1ZSxcclxuICAgIG9uQ2hhbmdlSW50ZXJuYWwsXHJcbiAgICAxLFxyXG4gICAgMyxcclxuICAgIGNvbG9ySW5wdXRQcm9wc1xyXG4gICk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb2xvckRpdik7XHJcbiAgcmV0dXJuIFtcclxuICAgIGNvbnRhaW5lcixcclxuICAgIHtcclxuICAgICAgLi4uY29udHJvbGxlcixcclxuICAgICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yMykgPT4ge1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VmFsdWVzKHZhbHVlKTtcclxuICAgICAgICBzZXRDb2xvcih2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImltcG9ydCB7IGFzc2VydE5ldmVyIH0gZnJvbSBcIi4vLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcbmV4cG9ydCBlbnVtIEF0dHJpYnV0ZUJ1ZmZlclR5cGUge1xyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZUJ1ZmZlckluZm8gPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIG9uUmVuZGVyOiAoKSA9PiB2b2lkO1xyXG59ICYgKFxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM7XHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzW10pID0+IHZvaWQ7XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDtcclxuICAgICAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjRbXSkgPT4gdm9pZDtcclxuICAgIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXROdW1Db21wb25lbnRzID0gKGJ1ZmZlclR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUpID0+IHtcclxuICBzd2l0Y2ggKGJ1ZmZlclR5cGUpIHtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gMztcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gNDtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKGJ1ZmZlclR5cGUpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUF0dHJpYnV0ZUJ1ZmZlckluZm9zID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW1cclxuKSA9PiB7XHJcbiAgY29uc3QgbnVtQXR0cmlidXRlQnVmZmVycyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9BVFRSSUJVVEVTXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0OiBBdHRyaWJ1dGVCdWZmZXJJbmZvW10gPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bUF0dHJpYnV0ZUJ1ZmZlcnM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IGF0dHJpYiA9IGNvbnRleHQuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGluZGV4KTtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gY29udGV4dC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWIubmFtZSk7XHJcbiAgICBjb25zdCBidWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgY29uc3QgZGlzcG9zZSA9ICgpID0+IGNvbnRleHQuZGVsZXRlQnVmZmVyKGJ1ZmZlcik7XHJcbiAgICBjb25zdCBudW1Db21wb25lbnRzID0gZ2V0TnVtQ29tcG9uZW50cyhhdHRyaWIudHlwZSk7XHJcbiAgICBjb25zdCBvblJlbmRlciA9ICgpID0+IHtcclxuICAgICAgY29udGV4dC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XHJcbiAgICAgIGNvbnRleHQuYmluZEJ1ZmZlcihjb250ZXh0LkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IDI7IC8vIDIgY29tcG9uZW50cyBwZXIgaXRlcmF0aW9uXHJcbiAgICAgIGNvbnN0IHR5cGUgPSBjb250ZXh0LkZMT0FUOyAvLyB0aGUgZGF0YSBpcyAzMmJpdCBmbG9hdHNcclxuICAgICAgY29uc3Qgbm9ybWFsaXplID0gZmFsc2U7IC8vIGRvbid0IG5vcm1hbGl6ZSB0aGUgZGF0YVxyXG4gICAgICBjb25zdCBzdHJpZGUgPSAwOyAvLyAwID0gbW92ZSBmb3J3YXJkIHNpemUgKiBzaXplb2YodHlwZSkgZWFjaCBpdGVyYXRpb24gdG8gZ2V0IHRoZSBuZXh0IHBvc2l0aW9uXHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IDA7IC8vIHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGJ1ZmZlclxyXG4gICAgICBjb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgbG9jYXRpb24sXHJcbiAgICAgICAgc2l6ZSxcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIG5vcm1hbGl6ZSxcclxuICAgICAgICBzdHJpZGUsXHJcbiAgICAgICAgb2Zmc2V0XHJcbiAgICAgICk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgbmFtZTogYXR0cmliLm5hbWUsXHJcbiAgICAgIHR5cGU6IGF0dHJpYi50eXBlLFxyXG4gICAgICB1cGRhdGU6ICh2YWx1ZTogbnVtYmVyW11bXSkgPT4ge1xyXG4gICAgICAgIGNvbnRleHQuYmluZEJ1ZmZlcihjb250ZXh0LkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcclxuICAgICAgICBjb25zdCBmbGF0dGVuID0gW10uY29uY2F0KC4uLnZhbHVlKTtcclxuICAgICAgICBjb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgICAgICBjb250ZXh0LkFSUkFZX0JVRkZFUixcclxuICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDAuNSwgMC43LCAwXSksXHJcbiAgICAgICAgICBjb250ZXh0LlNUQVRJQ19EUkFXXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgb25SZW5kZXIsXHJcbiAgICAgIC8vZGlzcG9zZVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG4iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21tb25cIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xvcjMsIGNyZWF0ZUNvbG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRDb2xvclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybUNvbXBvbmVudCA9IChcclxuICB1bmlmb3JtSW5mbzogVW5pZm9ybUluZm8sXHJcbiAgcmVuZGVyOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIHN3aXRjaCAodW5pZm9ybUluZm8udHlwZSkge1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMyOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzIoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdW5pZm9ybUluZm8udXBkYXRlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMygodmFsdWUpID0+IHtcclxuICAgICAgICB1bmlmb3JtSW5mby51cGRhdGUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWM0KCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHVuaWZvcm1JbmZvLnVwZGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFVwZGF0ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby51cGRhdGUoeyBzbG90OiB2YWx1ZS5zbG90LCB0ZXh0dXJlRGF0YTogdHJ1ZSB9KTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIHVuaWZvcm1cIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24gPSAoZWxlbWVudHM6IHtcclxuICBba2V5OiBzdHJpbmddOiB7IGRpc3BsYXk6IHN0cmluZzsgZWxlbWVudDogSFRNTEVsZW1lbnQgfTtcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtvcHRpb25zRWxlbWVudCwgb3B0aW9uc0NvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICAoaXRlbSkgPT4ge1xyXG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuXHJcbiAgICAgIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpLmZvckVhY2goKG9lKSA9PlxyXG4gICAgICAgIG9lLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZWxlbWVudHNbaXRlbS5pZF0uZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgfSxcclxuICAgIFwiXCIsXHJcbiAgICB7IGVtcHR5SXRlbTogZmFsc2UgfVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0SXRlbXMoXHJcbiAgICBPYmplY3QuZW50cmllcyhlbGVtZW50cykubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7XHJcbiAgICAgIGlkOiBrZXksXHJcbiAgICAgIGRpc3BsYXk6IHZhbHVlLmRpc3BsYXksXHJcbiAgICB9KSlcclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldFNlbGVjdGVkSXRlbUJ5SWQoXCJjdXN0b21cIik7XHJcbiAgcmV0dXJuIG9wdGlvbnNFbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMyID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMih1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwXSk7XHJcbiAgcmV0dXJuIGN1c3RvbUVsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMyA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjModXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG5cclxuICBjb25zdCBbY29sb3JFbGVtZW50LCBjb2xvckNvbnRyb2xsZXJdID0gY3JlYXRlQ29sb3IzKHVwZGF0ZSk7XHJcbiAgY29sb3JDb250cm9sbGVyLnNldFZhbHVlcyhbMSwgMCwgMF0pO1xyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24oe1xyXG4gICAgY3VzdG9tOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQsXHJcbiAgICB9LFxyXG4gICAgY29sb3I6IHtcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjNCA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjQodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMCwgMF0pO1xyXG5cclxuICBjb25zdCBbY29sb3JFbGVtZW50LCBjb2xvckNvbnRyb2xsZXJdID0gY3JlYXRlQ29sb3I0KHVwZGF0ZSk7XHJcbiAgY29sb3JDb250cm9sbGVyLnNldFZhbHVlcyhbMSwgMCwgMCwgMV0pO1xyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudCA9IGNyZWF0ZVVuaWZvcm1TZWxlY3Rpb24oe1xyXG4gICAgY3VzdG9tOiB7XHJcbiAgICAgIGRpc3BsYXk6IFwiQ3VzdG9tXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQsXHJcbiAgICB9LFxyXG4gICAgY29sb3I6IHtcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUtleU1hcDxUS2V5LCBUVmFsdWU+IHtcclxuICBwcml2YXRlIG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUVmFsdWU+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUga2V5U2VsZWN0b3I6IChjb21wb3NpdGVLZXk6IFRLZXkpID0+IHN0cmluZykge31cclxuXHJcbiAgZ2V0KGtleTogVEtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwLmdldCh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgc2V0KGtleTogVEtleSwgdmFsdWU6IFRWYWx1ZSkge1xyXG4gICAgdGhpcy5tYXAuc2V0KHRoaXMua2V5U2VsZWN0b3Ioa2V5KSwgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJJbmZvLCBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCA9IChcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gIHJlbmRlcjogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBzd2l0Y2ggKGF0dHJpYnV0ZUJ1ZmZlckluZm8udHlwZSkge1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby51cGRhdGUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0KCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8udXBkYXRlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCA9ICgpID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBcInVuc3VwcG9ydGVkLWVycm9yXCI7XHJcbiAgZGl2LmlubmVyVGV4dCA9IFwiTm90IHN1cHBvcnRlZCBhdHRyaWJ1dGUgYnVmZmVyXCI7XHJcbiAgcmV0dXJuIGRpdjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAvL2NvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAvL09iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoaW5wdXQudmFsdWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KChlKSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNCA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNFtdKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoKGUpID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDQgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBqc29uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgLy9Xcm9uZyBmb3JtYXQhIFNob3VsZCBiZSBbW3gxLHkxXSwgW3gyLHkyXSwgLi4uXVxyXG4gIHJldHVybiBpbnB1dDtcclxufTtcclxuIiwiaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgfSBmcm9tIFwiLi93ZWJnbF91dGlscy91bmlmb3JtQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBTaGFkZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vY3JlYXRlV2ViR0xDYW52YXNcIjtcclxuaW1wb3J0IHsgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi93ZWJnbF91dGlscy91bmlmb3JtXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudFwiO1xyXG5cclxuY29uc3QgdW5pZm9ybXNDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IFVuaWZvcm1UeXBlIH0sXHJcbiAgSFRNTEVsZW1lbnRcclxuPigoa2V5KSA9PiBgJHtrZXkubmFtZX07JHtrZXkudHlwZX1gKTtcclxuXHJcbmNvbnN0IGF0dHJpYnV0ZUJ1ZmZlcnNDYWNoZSA9IG5ldyBDb21wb3NpdGVLZXlNYXA8XHJcbiAgeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSxcclxuICBIVE1MRWxlbWVudFxyXG4+KChrZXkpID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwcGVuZFdpdGhTaGFkZXJPcHRpb25zID0gKFxyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxyXG4gIHNoYWRlckNvbnRyb2xsZXI6IFNoYWRlckNvbnRyb2xsZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgdW5pZm9ybUVsZW1lbnRzID0gc2hhZGVyQ29udHJvbGxlci51bmlmb3Jtcy5tYXAoKHVuaWZvcm0pID0+IHtcclxuICAgIGNvbnN0IGNvbXBvbmVudEZyb21DYWNoZSA9IHVuaWZvcm1zQ2FjaGUuZ2V0KHtcclxuICAgICAgLi4udW5pZm9ybSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChjb21wb25lbnRGcm9tQ2FjaGUpIHtcclxuICAgICAgcmV0dXJuIGNvbXBvbmVudEZyb21DYWNoZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICBjcmVhdGVVbmlmb3JtQ29tcG9uZW50KHVuaWZvcm0sIHNoYWRlckNvbnRyb2xsZXIucmVuZGVyKSxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICB1bmlmb3Jtc0NhY2hlLnNldCh7IC4uLnVuaWZvcm0gfSwgY29tcG9uZW50KTtcclxuICAgICAgcmV0dXJuIGNvbXBvbmVudDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdW5pZm9ybUVsZW1lbnRzLmZvckVhY2goKGUpID0+IGVsZW1lbnQuYXBwZW5kQ2hpbGQoZSkpO1xyXG5cclxuICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJFbGVtZW50cyA9IHNoYWRlckNvbnRyb2xsZXIuYXR0cmlidXRlQnVmZmVycy5tYXAoXHJcbiAgICAoYXR0cmlidXRlQnVmZmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudEZyb21DYWNoZSA9IGF0dHJpYnV0ZUJ1ZmZlcnNDYWNoZS5nZXQoe1xyXG4gICAgICAgIC4uLmF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoY29tcG9uZW50RnJvbUNhY2hlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudEZyb21DYWNoZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB3aXRoTGFiZWwoXHJcbiAgICAgICAgICBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnQoXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcixcclxuICAgICAgICAgICAgc2hhZGVyQ29udHJvbGxlci5yZW5kZXJcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgYXR0cmlidXRlQnVmZmVyLm5hbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnNDYWNoZS5zZXQoeyAuLi5hdHRyaWJ1dGVCdWZmZXIgfSwgY29tcG9uZW50KTtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgYXR0cmlidXRlQnVmZmVyRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4gZWxlbWVudC5hcHBlbmRDaGlsZChlKSk7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjb21waWxlU2hhZGVyID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB0eXBlOiBHTGVudW0sXHJcbiAgc291cmNlOiBzdHJpbmdcclxuKTogV2ViR0xTaGFkZXIgfCB7IGVycm9yOiBzdHJpbmcgfSA9PiB7XHJcbiAgY29uc3Qgc2hhZGVyID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlclBhcmFtZXRlcihcclxuICAgIHNoYWRlcixcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuQ09NUElMRV9TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gc2hhZGVyO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBlcnJvciA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVycm9yLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZ3JhbSA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlcixcclxuICBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXJcclxuKSA9PiB7XHJcbiAgY29uc3QgcHJvZ3JhbSA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkxJTktfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHByb2dyYW07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgIGBDcmVhdGluZyBwcm9ncmFtIGZhaWxlZDogJHtyZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pfWBcclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEVhc3lHTEF0dHJpYnV0ZUJ1ZmZlciB7fVxyXG5cclxuZXhwb3J0IGNsYXNzIEVhc3lHTFVuaWZvcm0ge31cclxuXHJcbmV4cG9ydCBjbGFzcyBFYXN5R0xQcm9ncmFtIHt9XHJcbiIsImltcG9ydCB7XHJcbiAgQXR0cmlidXRlQnVmZmVySW5mbyxcclxuICBnZW5lcmF0ZUF0dHJpYnV0ZUJ1ZmZlckluZm9zLFxyXG59IGZyb20gXCIuL3dlYmdsX3V0aWxzL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSwgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QsIHJlbW92ZUxhc3QgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBnZW5lcmF0ZVVuaWZvcm1JbmZvcyxcclxuICBnZXRVbmlmb3JtU2V0dGVyLFxyXG4gIFVuaWZvcm1JbmZvLFxyXG59IGZyb20gXCIuL3dlYmdsX3V0aWxzL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgY29tcGlsZVNoYWRlciwgY3JlYXRlUHJvZ3JhbSB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgdHlwZSBDb21waWxlRXJyb3JzID0gW1xyXG4gIHZlcnRleFNoYWRlckVycm9yczogc3RyaW5nLFxyXG4gIGZyYWdtZW50U2hhZGVyRXJyb3JzOiBzdHJpbmdcclxuXTtcclxuXHJcbmV4cG9ydCB0eXBlIFNoYWRlckNvbnRyb2xsZXIgPSB7XHJcbiAgdW5pZm9ybXM6IFVuaWZvcm1JbmZvW107XHJcbiAgYXR0cmlidXRlQnVmZmVyczogQXR0cmlidXRlQnVmZmVySW5mb1tdO1xyXG4gIHJlbmRlcjogKCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJHTENhbnZhcyA9IChcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4pOiBbXHJcbiAgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAge1xyXG4gICAgY29tcGlsZVNoYWRlcnM6IChcclxuICAgICAgdmVydGV4U2hhZGVyQ29udGVudDogc3RyaW5nLFxyXG4gICAgICBmcmFnbWVudFNoYWRlckNvbnRlbnQ6IHN0cmluZ1xyXG4gICAgKSA9PiBDb21waWxlRXJyb3JzIHwgU2hhZGVyQ29udHJvbGxlcjtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgY2FudmFzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcclxuXHJcbiAgb2JzZXJ2ZUVsZW1lbnRCb3VuZGluZ1JlY3QoY2FudmFzLCAocmVjdCkgPT4ge1xyXG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodDtcclxuICB9KTtcclxuXHJcbiAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAvL3RvZG8gbW92ZSB0byBlcnJvcnNcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgd2ViZ2wgY29udGV4dFwiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbXBpbGVTaGFkZXJzID0gKFxyXG4gICAgdmVydGV4U2hhZGVyQ29udGVudDogc3RyaW5nLFxyXG4gICAgZnJhZ21lbnRTaGFkZXJDb250ZW50OiBzdHJpbmdcclxuICApID0+IHtcclxuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICAgIGNvbnRleHQuVkVSVEVYX1NIQURFUixcclxuICAgICAgdmVydGV4U2hhZGVyQ29udGVudFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICAgIGNvbnRleHQuRlJBR01FTlRfU0hBREVSLFxyXG4gICAgICBmcmFnbWVudFNoYWRlckNvbnRlbnRcclxuICAgICk7XHJcblxyXG4gICAgbGV0IHZlcnRleEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICBpZiAoaGFzUHJvcGVydHkodmVydGV4U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICAgIHZlcnRleEVycm9yID0gcmVtb3ZlTGFzdCh2ZXJ0ZXhTaGFkZXIuZXJyb3IsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmcmFnbWVudEVycm9yOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICBpZiAoaGFzUHJvcGVydHkoZnJhZ21lbnRTaGFkZXIsIFwiZXJyb3JcIikpIHtcclxuICAgICAgZnJhZ21lbnRFcnJvciA9IHJlbW92ZUxhc3QoZnJhZ21lbnRTaGFkZXIuZXJyb3IsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJ0ZXhFcnJvciB8fCBmcmFnbWVudEVycm9yKSB7XHJcbiAgICAgIC8vdG9kbyBjbGVhbnVwXHJcbiAgICAgIHJldHVybiBbdmVydGV4RXJyb3IsIGZyYWdtZW50RXJyb3JdIGFzIENvbXBpbGVFcnJvcnM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oY29udGV4dCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICBjb25zdCB1bmlmb3JtcyA9IGdlbmVyYXRlVW5pZm9ybUluZm9zKGNvbnRleHQsIHByb2dyYW0pO1xyXG4gICAgY29uc3QgYXR0cmlidXRlQnVmZmVycyA9IGdlbmVyYXRlQXR0cmlidXRlQnVmZmVySW5mb3MoY29udGV4dCwgcHJvZ3JhbSk7XHJcbiAgICAvL2RlbGV0ZSBzaGFkZXJzXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVuZGVyOiAoKSA9PiB7XHJcbiAgICAgICAgLy93ZWJnbFV0aWxzLnJlc2l6ZUNhbnZhc1RvRGlzcGxheVNpemUoZ2wuY2FudmFzKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbmRlcmluZ1wiKTtcclxuXHJcbiAgICAgICAgY29udGV4dC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgICAgICAvLyBUZWxsIFdlYkdMIGhvdyB0byBjb252ZXJ0IGZyb20gY2xpcCBzcGFjZSB0byBwaXhlbHNcclxuICAgICAgICBjb250ZXh0LnZpZXdwb3J0KDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBDbGVhciB0aGUgY2FudmFzXHJcbiAgICAgICAgY29udGV4dC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIGNvbnRleHQuY2xlYXIoY29udGV4dC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgICAgICAgdW5pZm9ybXMuZm9yRWFjaCgodSkgPT4gdS5vblJlbmRlcigpKTtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJzLmZvckVhY2goKGFiKSA9PiBhYi5vblJlbmRlcigpKTtcclxuICAgICAgICBjb25zdCBwcmltaXRpdmVUeXBlID0gY29udGV4dC5UUklBTkdMRVM7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCBjb3VudCA9IDM7XHJcbiAgICAgICAgY29udGV4dC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xyXG4gICAgICB9LFxyXG4gICAgICB1bmlmb3JtcyxcclxuICAgICAgYXR0cmlidXRlQnVmZmVycyxcclxuICAgIH0gYXMgU2hhZGVyQ29udHJvbGxlcjtcclxuICB9O1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAgY2FudmFzLFxyXG4gICAge1xyXG4gICAgICBjb21waWxlU2hhZGVycyxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiaW1wb3J0IHsgdHJhbnNsYXRpb25zIH0gZnJvbSBcIi4vLi4vdHJhbnNsYXRpb25zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duIH0gZnJvbSBcIi4vY29tcG9uZW50cy9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBVbnN1YnNjcmliZSwgVnNDb2RlQXBpUHJveHkgfSBmcm9tIFwiLi9jb21tdW5pY2F0aW9uUHJveHlcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VjdGlvblRpdGxlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVTZWN0aW9uVGl0bGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlRkFCdXR0b24gYXMgY3JlYXRlQnV0dG9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jcmVhdGVGQUJ1dHRvblwiO1xyXG5pbXBvcnQgeyB3aXRoTGFiZWwgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IGFwcGVuZFdpdGhTaGFkZXJPcHRpb25zIGFzIHVwZGF0ZVNoYWRlck9wdGlvbnMgfSBmcm9tIFwiLi9zaGFkZXJPcHRpb25zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29tbW9uXCI7XHJcbmltcG9ydCB7XHJcbiAgQ29tcGlsZUVycm9ycyxcclxuICBjcmVhdGVXZWJHTENhbnZhcyxcclxuICBTaGFkZXJDb250cm9sbGVyLFxyXG59IGZyb20gXCIuL2NyZWF0ZVdlYkdMQ2FudmFzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVWaWV3ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgdnNjb2RlQXBpID0gbmV3IFZzQ29kZUFwaVByb3h5KCk7XHJcbiAgY29uc3Qgdmlld2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3ZXJcIik7XHJcbiAgY29uc3Qgdmlld2VyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1vcHRpb25zXCIpO1xyXG4gIGNvbnN0IHNoYWRlck9wdGlvbnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItc2hhZGVyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMgPSBjcmVhdGVEaXYoXCJ2aWV3ZXItY29udGVudCBzaGFkZXItZXJyb3JzXCIpO1xyXG4gIGNvbnN0IFt3ZWJHTENhbnZhcywgd2ViR0xDb250cm9sbGVyXSA9IGNyZWF0ZVdlYkdMQ2FudmFzKFwidmlld2VyLWNvbnRlbnRcIik7XHJcblxyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh3ZWJHTENhbnZhcyk7XHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQodmlld2VyT3B0aW9ucyk7XHJcblxyXG4gIGNvbnN0IHNob3dDb250ZW50ID0gKGNvbnRlbnQ6IFwiY2FudmFzXCIgfCBcImVycm9yc1wiIHwgXCJub25lXCIpID0+IHtcclxuICAgIHdlYkdMQ2FudmFzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImNhbnZhc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgICBzaGFkZXJDb21waWxhdGlvbkVycm9ycy5zdHlsZS52aXNpYmlsaXR5ID1cclxuICAgICAgY29udGVudCA9PT0gXCJlcnJvcnNcIiA/IFwidmlzaWJsZVwiIDogXCJjb2xsYXBzZVwiO1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6IFVuc3Vic2NyaWJlIHwgdW5kZWZpbmVkO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogVW5zdWJzY3JpYmUgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIGNvbnN0IG9uU2hhZGVyQ29udGVudENoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICBzaGFkZXJPcHRpb25zLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ICYmIHNlbGVjdGVkVmVydGV4Q29udGVudCkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSB3ZWJHTENvbnRyb2xsZXIuY29tcGlsZVNoYWRlcnMoXHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50LFxyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJlcnJvcnNcIik7XHJcbiAgICAgICAgY29uc3QgW1xyXG4gICAgICAgICAgdmVydGV4U2hhZGVyRXJyb3JzLFxyXG4gICAgICAgICAgZnJhZ21lbnRTaGFkZXJFcnJvcnMsXHJcbiAgICAgICAgXSA9IHJlc3VsdCBhcyBDb21waWxlRXJyb3JzO1xyXG5cclxuICAgICAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgIGlmICh2ZXJ0ZXhTaGFkZXJFcnJvcnMpIHtcclxuICAgICAgICAgIGVycm9ycy5wdXNoKFwiVkVSVEVYIFNIQURFUjpcIiwgdmVydGV4U2hhZGVyRXJyb3JzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmcmFnbWVudFNoYWRlckVycm9ycykge1xyXG4gICAgICAgICAgZXJyb3JzLnB1c2goXCJGUkFHTUVOVCBTSEFERVI6XCIsIGZyYWdtZW50U2hhZGVyRXJyb3JzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLmlubmVyVGV4dCA9IGVycm9ycy5qb2luKFwiXFxyXFxuXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3dDb250ZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHVwZGF0ZVNoYWRlck9wdGlvbnMoc2hhZGVyT3B0aW9ucywgcmVzdWx0IGFzIFNoYWRlckNvbnRyb2xsZXIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93Q29udGVudChcIm5vbmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIsIFtcclxuICAgICAgY3JlYXRlU2VjdGlvblRpdGxlKHRyYW5zbGF0aW9ucy5zaGFkZXJzLCBcIlwiKS5lbGVtZW50LFxyXG4gICAgICBjcmVhdGVCdXR0b24oXCJTeW5jXCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsICgpID0+IHtcclxuICAgICAgICB2c2NvZGVBcGkuZ2V0U2hhZGVyRG9jdW1lbnRzKCkudGhlbigoc2QpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGZpbGVzID0gc2QubWFwKChmKSA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZi5maWxlUGF0aCxcclxuICAgICAgICAgICAgZGlzcGxheTogZi5maWxlTmFtZSxcclxuICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICAgICAgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5lbGVtZW50LFxyXG4gICAgXSlcclxuICApO1xyXG5cclxuICBjb25zdCBbdmVydGV4RHJvcGRvd25FbGVtZW50LCB2ZXJ0ZXhEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyAobmV3VmVydGV4KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3VmVydGV4KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdnNjb2RlQXBpLnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3VmVydGV4LmlkLFxyXG4gICAgICAgICAgKG5ld0NvbnRlbnQpID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld1ZlcnRleFxyXG4gICAgICAgID8gYXdhaXQgdnNjb2RlQXBpLmdldERvY3VtZW50VGV4dChuZXdWZXJ0ZXguaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICB2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLXZlcnRleC1zaGFkZXItc2VsZWN0b3JcIixcclxuICAgICAgXCJWZXJ0ZXggU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICBjb25zdCBbZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIGZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgYXN5bmMgKG5ld0ZyYWdtZW50KSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdGcmFnbWVudCkge1xyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdnNjb2RlQXBpLnN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgICAgICAgbmV3RnJhZ21lbnQuaWQsXHJcbiAgICAgICAgICAobmV3Q29udGVudCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgICAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RlZEZyYWdtZW50Q29udGVudCA9IG5ld0ZyYWdtZW50XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld0ZyYWdtZW50LmlkKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIHdpdGhMYWJlbChcclxuICAgICAgZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsXHJcbiAgICAgIFwidmlld2VyLWZyYWdtZW50LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIkZyYWdtZW50IFNoYWRlclwiXHJcbiAgICApXHJcbiAgKTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChzaGFkZXJPcHRpb25zKTtcclxufTtcclxuXHJcbmNyZWF0ZVZpZXdlcigpO1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlU2VjdGlvblRpdGxlID0gKHRleHQ6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xyXG4gIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBzZWN0aW9uLXRpdGxlYDtcclxuICByZXR1cm4geyBlbGVtZW50IH07XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=