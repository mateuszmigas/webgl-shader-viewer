!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o="SHADERS",a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r},u={emptyItem:!0},c=function(e,t,n){var r=a(a({},u),n),o=document.createElement("select");o.className="dropdown-base "+t;var c=null,s=[],l=function(t){e(c=t)};o.onchange=function(){var e=s.find((function(e){return e.item.id===o.value}));e.item.id?l(e.item):l(null)};return[o,{setItems:function(e){o.innerHTML="",s.length=0,e.find((function(e){return e.id===(null==c?void 0:c.id)}))||l(null),(r.emptyItem?i([{id:"",display:""}],e):i(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==c?void 0:c.id),o.appendChild(t),s.push({element:t,item:e})}))},getItems:function(){return s.map((function(e){return e.item}))},setSelectedItemById:function(e){l(null),s.forEach((function(t){t.item.id===e?(t.element.selected=!0,l(t.item)):t.element.selected=!1}))},getSelectedItem:function(){return c},clearSelection:function(){s.forEach((function(e){return e.element.selected=!1})),l(null)}}]},s=function(e,t){return e.substring(0,e.length-t)},l=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},f=function(e,t){return e.hasOwnProperty(t)},d=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},p=acquireVsCodeApi(),m=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=l();return p.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=l();return p.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;p.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),p.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){var t,n,r;t=this.eventListeners,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)},e}(),v=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},h=function(e,t,n){var r=document.createElement("div");r.className=t+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=n,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},y=function(e,t,n,r,o){var a=document.createElement("div");a.className="edit-input-grid";for(var i=[],u=function(){return i.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var a=c*r+n,l=e[a],f=document.createElement("input"),d={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){i[a].value=Number(f.value),null==t||t(u())},i.push(d),s.appendChild(f)},f=0;f<r;f++)l(f);a.appendChild(s)}return[a,{setValues:function(e){return i.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:u,setReadonly:function(e){return i.forEach((function(t){return t.element.readOnly=e}))}}]},g=function(e){return y([0,0,0],e,1,3)},b=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},x={min:"0",max:"1",step:"0.1"},A=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var w,C=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=[],a=function(n){var a=e.getActiveUniform(t,n),i=e.getUniformLocation(t,a.name),u=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,A([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,A([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,A([n],e))};case r.SAMPLER_2D:return function(e){};default:d(e)}}(a.type,e,i),c=void 0;o.push({name:a.name,type:a.type,update:function(e){return c=e},onRender:function(){return u(c)}})},i=0;i<n;++i)a(i);return o},T=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},S=function(e){var t=c((function(t){t&&(Object.values(e).forEach((function(e){return e.element.classList.add("hidden")})),e[t.id].element.classList.remove("hidden"))}),"",{emptyItem:!1}),n=t[0],r=t[1];return r.setItems(Object.entries(e).map((function(e){return{id:e[0],display:e[1].display}}))),r.setSelectedItemById("custom"),n},O=function(e){var t=y([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},L=function(e){var t=g(),n=t[0];return t[1].setValues([0,0,0]),n},_=function(e){var t=g(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=b("row-with-gap"),a=y(t,(function(t){r(t),null==e||e(t)}),1,3,x),i=a[0],u=a[1];return o.appendChild(i),o.appendChild(n),[o,E(E({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var a=S({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return b("column-with-gap",[a,n,o])},V=function(e){var t=y([0,0,0,0],e,1,4),n=t[0];t[1].setValues([0,0,0,0]);var r=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=b("row-with-gap"),a=y(t,(function(t){r(t),null==e||e(t)}),1,4,x),i=a[0],u=a[1];return o.appendChild(i),o.appendChild(n),[o,E(E({},u),{setValues:function(e){u.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0,1]);var a=S({custom:{display:"Custom",element:n},color:{display:"Color",element:o}});return b("column-with-gap",[a,n,o])},F=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.clear=function(){this.map.clear()},e}();!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(w||(w={}));var N=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=function(n){var o=e.getActiveAttrib(t,n),a=e.getAttribLocation(t,o.name),i=e.createBuffer();!function(e){switch(e){case w.FLOAT_VEC3:return 3;case w.FLOAT_VEC4:return 4;default:d(e)}}(o.type);r.push({name:o.name,type:o.type,update:function(t){e.bindBuffer(e.ARRAY_BUFFER,i);[].concat.apply([],t);e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,.5,.7,0]),e.STATIC_DRAW)},onRender:function(){e.enableVertexAttribArray(a),e.bindBuffer(e.ARRAY_BUFFER,i);var t=e.FLOAT;e.vertexAttribPointer(a,2,t,!1,0,0)}})},a=0;a<n;++a)o(a);return r},R=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},P=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},D=function(e){var t=document.createElement("input");return t.className="edit-input",t.oninput=function(){try{var n=JSON.parse(t.value);if(console.log("result",n),Array.isArray(n))n.every((function(e){return!!Array.isArray(e)&&4===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(n)}catch(e){console.log("this is not a json")}},t},I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},M=new F((function(e){return e.name+";"+e.type})),j=new F((function(e){return e.name+";"+e.type})),B=function(e,t){t.uniforms.map((function(e){var n=M.get(I({},e));if(n)return n;var o=h(function(e,t){switch(e.type){case r.FLOAT_VEC2:return O((function(n){e.update(n),t()}));case r.FLOAT_VEC3:return _((function(n){e.update(n),t()}));case r.FLOAT_VEC4:return V((function(n){e.update(n),t()}));case r.SAMPLER_2D:return L((function(n){l();e.update({slot:n.slot,textureData:!0}),t()}));default:return T()}}(e,t.render),"",e.name);return M.set(I({},e),o),o})).forEach((function(t){return e.appendChild(t)})),t.attributeBuffers.map((function(e){var n=j.get(I({},e));if(n)return n;var r=h(function(e,t){switch(e.type){case w.FLOAT_VEC3:return P((function(n){e.update(n),t()}));case w.FLOAT_VEC4:return D((function(n){e.update(n),t()}));default:return R()}}(e,t.render),"",e.name);return j.set(I({},e),r),r})).forEach((function(t){return e.appendChild(t)}))},U=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},k=function(e){var t=document.createElement("canvas");t.className=e;var n=t.getContext("webgl");if(!n)throw new Error("Unable to create webgl context");return[t,{compileShaders:function(e,t){var r=U(n,n.VERTEX_SHADER,e),o=U(n,n.FRAGMENT_SHADER,t),a=void 0;f(r,"error")&&(a=s(r.error,1));var i=void 0;if(f(o,"error")&&(i=s(o.error,1)),a||i)return[a,i];var u=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))}(n,r,o),c=C(n,u),l=N(n,u);return{render:function(){console.log("rendering"),n.useProgram(u),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),c.forEach((function(e){return e.onRender()})),l.forEach((function(e){return e.onRender()}));var e=n.TRIANGLES;n.drawArrays(e,0,3)},uniforms:c,attributeBuffers:l}}}]},H=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};H(void 0,void 0,void 0,(function(){var e,t,n,r,a,i,u,s,l,f,d,p,y,g,E,x,A,w,C,T;return G(this,(function(S){var O,L,_;return e=new m,t=document.getElementById("viewer"),n=b("viewer-options"),r=b("viewer-shader-options"),a=b("viewer-content shader-errors"),i=k("viewer-content"),u=i[0],s=i[1],t.appendChild(u),t.appendChild(a),t.appendChild(n),l=function(e){u.style.visibility="canvas"===e?"visible":"collapse",a.style.visibility="errors"===e?"visible":"collapse"},g=function(){if(r.innerHTML="",y&&p){var e=s.compileShaders(p,y);if(Array.isArray(e)){l("errors");var t=e,n=t[0],o=t[1],i=[];n&&i.push("VERTEX SHADER:",n),o&&i.push("FRAGMENT SHADER:",o),a.innerText=i.join("\r\n")}else l("canvas"),B(r,e)}else l("none")},n.appendChild(b("viewer-shaders-title",[(O=o,L="",_=document.createElement("h3"),_.textContent=O,_.className=L+" section-title",{element:_}).element,v("Sync","viewer-refresh-button",(function(){e.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));A.setItems(t),T.setItems(t)}))})).element])),E=c((function(t){return H(void 0,void 0,void 0,(function(){var n;return G(this,(function(r){switch(r.label){case 0:return null==f||f(),t&&(f=e.subscribeToDocumentSave(t.id,(function(e){p=e,g()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return p=n,g(),[2]}}))}))})),x=E[0],A=E[1],n.appendChild(h(x,"viewer-vertex-shader-selector","Vertex Shader")),w=c((function(t){return H(void 0,void 0,void 0,(function(){var n;return G(this,(function(r){switch(r.label){case 0:return null==d||d(),t&&(d=e.subscribeToDocumentSave(t.id,(function(e){y=e,g()}))),t?[4,e.getDocumentText(t.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return y=n,g(),[2]}}))}))})),C=w[0],T=w[1],n.appendChild(h(C,"viewer-fragment-shader-selector","Fragment Shader")),n.appendChild(r),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zbGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3VuaWZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL2Ryb3Bkb3duLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbW11bmljYXRpb25Qcm94eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlRkFCdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0VmVjdG9yMy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY29tbW9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9uZW50cy9lZGl0Q29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy9hdHRyaWJ1dGVCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci93ZWJnbF91dGlscy91bmlmb3JtQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY29tcG9zaXRlS2V5TWFwLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc2hhZGVyT3B0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3dlYmdsX3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvY3JlYXRlV2ViR0xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2NvbXBvbmVudHMvY3JlYXRlU2VjdGlvblRpdGxlLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIml0ZW0iLCJvbmNoYW5nZSIsImZvdW5kRWxlbWVudCIsImZpbmQiLCJlIiwiaWQiLCJzZXRJdGVtcyIsIml0ZW1zIiwiaW5uZXJIVE1MIiwibGVuZ3RoIiwiZGlzcGxheSIsImZvckVhY2giLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJwdXNoIiwiZ2V0SXRlbXMiLCJtYXAiLCJpZSIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJnZXRTZWxlY3RlZEl0ZW0iLCJjbGVhclNlbGVjdGlvbiIsInJlbW92ZUxhc3QiLCJ0ZXh0IiwiY291bnQiLCJzdWJzdHJpbmciLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiaGFzUHJvcGVydHkiLCJvYmoiLCJwcm9wIiwiYXNzZXJ0TmV2ZXIiLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY3F1aXJlVnNDb2RlQXBpIiwiZXZlbnRMaXN0ZW5lcnMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsImRhdGEiLCJnZXRTaGFkZXJEb2N1bWVudHMiLCJtZXNzYWdlSWQiLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsImNhbGxiYWNrIiwidGhpcyIsImFycmF5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlRkFCdXR0b24iLCJvbkNsaWNrIiwiYnV0dG9uIiwib25jbGljayIsIndpdGhMYWJlbCIsIndyYXBwZXIiLCJsYWJlbCIsImNyZWF0ZU11bHRpTnVtYmVySW5wdXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0T3B0aW9ucyIsImlucHV0R3JpZCIsImdldFZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY3JlYXRlRGl2IiwiY2hpbGRyZW4iLCJkaXYiLCJjb2xvcklucHV0UHJvcHMiLCJtaW4iLCJtYXgiLCJzdGVwIiwiQXR0cmlidXRlQnVmZmVyVHlwZSIsImdlbmVyYXRlVW5pZm9ybUluZm9zIiwiY29udGV4dCIsInByb2dyYW0iLCJudW1Vbmlmb3JtcyIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfVU5JRk9STVMiLCJyZXN1bHQiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInNldHRlciIsImxvY2F0aW9uIiwiRkxPQVRfVkVDMiIsInVuaWZvcm0yZiIsIkZMT0FUX1ZFQzMiLCJ1bmlmb3JtM2YiLCJGTE9BVF9WRUM0IiwidW5pZm9ybTRmIiwiU0FNUExFUl8yRCIsImdldFVuaWZvcm1TZXR0ZXIiLCJjdXJyZW50VmFsdWUiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJvblJlbmRlciIsImNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQiLCJpbm5lclRleHQiLCJjcmVhdGVVbmlmb3JtU2VsZWN0aW9uIiwiZWxlbWVudHMiLCJ2YWx1ZXMiLCJvZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm9wdGlvbnNFbGVtZW50Iiwib3B0aW9uc0NvbnRyb2xsZXIiLCJlbnRyaWVzIiwiY3JlYXRlVW5pZm9ybUZvclZlYzIiLCJjdXN0b21FbGVtZW50IiwiY3JlYXRlVW5pZm9ybUZvclRleHR1cmUiLCJjcmVhdGVVbmlmb3JtRm9yVmVjMyIsImNvbG9yRGl2Iiwic2V0Q29sb3IiLCJjb2xvciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbnRhaW5lciIsImNvbnRyb2xsZXIiLCJjcmVhdGVDb2xvcjMiLCJjb2xvckVsZW1lbnQiLCJjdXN0b20iLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZUNvbG9yNCIsImtleVNlbGVjdG9yIiwiTWFwIiwic2V0IiwiY2xlYXIiLCJnZW5lcmF0ZUF0dHJpYnV0ZUJ1ZmZlckluZm9zIiwibnVtQXR0cmlidXRlQnVmZmVycyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJidWZmZXJUeXBlIiwiZ2V0TnVtQ29tcG9uZW50cyIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJjb25jYXQiLCJidWZmZXJEYXRhIiwiRmxvYXQzMkFycmF5IiwiU1RBVElDX0RSQVciLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsIkZMT0FUIiwidmVydGV4QXR0cmliUG9pbnRlciIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwiZXJyb3IiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQiLCJ1bmlmb3Jtc0NhY2hlIiwiQ29tcG9zaXRlS2V5TWFwIiwiYXR0cmlidXRlQnVmZmVyc0NhY2hlIiwiYXBwZW5kV2l0aFNoYWRlck9wdGlvbnMiLCJzaGFkZXJDb250cm9sbGVyIiwidW5pZm9ybXMiLCJjb21wb25lbnRGcm9tQ2FjaGUiLCJjb21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsInJlbmRlciIsInNsb3QiLCJ0ZXh0dXJlRGF0YSIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJhdHRyaWJ1dGVCdWZmZXJzIiwiYXR0cmlidXRlQnVmZmVyIiwiYXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCIsImNvbXBpbGVTaGFkZXIiLCJyZW5kZXJpbmdDb250ZXh0Iiwic291cmNlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlV2ViR0xDYW52YXMiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiY29tcGlsZVNoYWRlcnMiLCJ2ZXJ0ZXhTaGFkZXJDb250ZW50IiwiZnJhZ21lbnRTaGFkZXJDb250ZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwidmVydGV4RXJyb3IiLCJmcmFnbWVudEVycm9yIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiTElOS19TVEFUVVMiLCJkZWxldGVQcm9ncmFtIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1c2VQcm9ncmFtIiwidmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsImNsZWFyQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidSIsImFiIiwicHJpbWl0aXZlVHlwZSIsIlRSSUFOR0xFUyIsImRyYXdBcnJheXMiLCJ2c2NvZGVBcGkiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsInNob3dDb250ZW50IiwiY29udGVudCIsInZpc2liaWxpdHkiLCJvblNoYWRlckNvbnRlbnRDaGFuZ2VkIiwic2VsZWN0ZWRGcmFnbWVudENvbnRlbnQiLCJzZWxlY3RlZFZlcnRleENvbnRlbnQiLCJ2ZXJ0ZXhTaGFkZXJFcnJvcnMiLCJmcmFnbWVudFNoYWRlckVycm9ycyIsImVycm9ycyIsImpvaW4iLCJ0aGVuIiwic2QiLCJmIiwidmVydGV4RHJvcGRvd25Db250cm9sbGVyIiwiZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIiLCJuZXdWZXJ0ZXgiLCJzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUiLCJuZXdDb250ZW50IiwidmVydGV4RHJvcGRvd25FbGVtZW50IiwibmV3RnJhZ21lbnQiLCJzZWxlY3RlZEZyYWdtZW50RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsImZyYWdtZW50RHJvcGRvd25FbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLHNDQ2xGOUMsSUNJS0MsRURKQ0MsRUFDQSxVLHVZRUlQQyxFQUFpQixDQUNyQkMsV0FBVyxHQUdBQyxFQUFpQixTQUU1QkMsRUFDQUMsRUFDQUMsR0FXQSxJQUFNQyxFQUFrQixFQUFILEtBQVFOLEdBQW1CSyxHQUMxQ0UsRUFBVUMsU0FBU0MsY0FBYyxVQUN2Q0YsRUFBUUgsVUFBWSxpQkFBaUJBLEVBRXJDLElBQUlNLEVBQW9DLEtBQ3BDQyxFQUFxRSxHQUNuRUMsRUFBa0IsU0FBQ0MsR0FFdkJWLEVBREFPLEVBQWVHLElBSWpCTixFQUFRTyxTQUFXLFdBQ2pCLElBQU1DLEVBQWVKLEVBQWFLLE1BQUssU0FBQ0MsR0FBTSxPQUFBQSxFQUFFSixLQUFLSyxLQUFPWCxFQUFReEIsU0FFaEVnQyxFQUFhRixLQUFLSyxHQUFJTixFQUFnQkcsRUFBYUYsTUFDbERELEVBQWdCLE9BeUN2QixNQUFPLENBQ0xMLEVBQ0EsQ0FDRVksU0F6Q2EsU0FBQ0MsR0FDaEJiLEVBQVFjLFVBQVksR0FDcEJWLEVBQWFXLE9BQVMsRUFFakJGLEVBQU1KLE1BQUssU0FBQ2xELEdBQU0sT0FBQUEsRUFBRW9ELE1BQU9SLGFBQVksRUFBWkEsRUFBY1EsUUFDNUNOLEVBQWdCLE9BR0ROLEVBQWdCTCxVQUFZLEVBQUQsQ0FBRSxDQUFFaUIsR0FBSSxHQUFJSyxRQUFTLEtBQVNILEdBQVMsRUFBSUEsSUFDOUVJLFNBQVEsU0FBQ1gsR0FDaEIsSUFBTVksRUFBU2pCLFNBQVNDLGNBQWMsVUFDdENnQixFQUFPMUMsTUFBUThCLEVBQUtLLEdBQ3BCTyxFQUFPQyxZQUFjYixFQUFLVSxRQUMxQkUsRUFBT0UsU0FBV2QsRUFBS0ssTUFBT1IsYUFBWSxFQUFaQSxFQUFjUSxJQUM1Q1gsRUFBUXFCLFlBQVlILEdBQ3BCZCxFQUFha0IsS0FBSyxDQUFFdEIsUUFBU2tCLEVBQVFaLEtBQUksUUEyQnpDaUIsU0F2QmEsV0FBTSxPQUFBbkIsRUFBYW9CLEtBQUksU0FBQ0MsR0FBTyxPQUFBQSxFQUFHbkIsU0F3Qi9Db0Isb0JBdkJ3QixTQUFDZixHQUMzQk4sRUFBZ0IsTUFDaEJELEVBQWFhLFNBQVEsU0FBQ1EsR0FDaEJBLEVBQUduQixLQUFLSyxLQUFPQSxHQUNqQmMsRUFBR3pCLFFBQVFvQixVQUFXLEVBQ3RCZixFQUFnQm9CLEVBQUduQixPQUVuQm1CLEVBQUd6QixRQUFRb0IsVUFBVyxNQWlCeEJPLGdCQVpvQixXQUFNLE9BQUF4QixHQWExQnlCLGVBWm1CLFdBQ3JCeEIsRUFBYWEsU0FBUSxTQUFDUSxHQUFPLE9BQUNBLEVBQUd6QixRQUFRb0IsVUFBVyxLQUNwRGYsRUFBZ0IsVUNyRVB3QixFQUFhLFNBQUNDLEVBQWNDLEdBQ3ZDLE9BQU9ELEVBQUtFLFVBQVUsRUFBR0YsRUFBS2YsT0FBU2dCLElBSTVCRSxFQUFTLFdBQ3BCLE1BQU8sdUNBQXVDQyxRQUFRLFNBQVMsU0FBVXRFLEdBQ3ZFLElBQUlTLEVBQXFCLEdBQWhCOEQsS0FBS0MsU0FBaUIsRUFFL0IsT0FEVyxLQUFMeEUsRUFBV1MsRUFBUyxFQUFKQSxFQUFXLEdBQ3hCZ0UsU0FBUyxRQUlUQyxFQUFjLFNBQ3pCQyxFQUNBQyxHQUVBLE9BQU9ELEVBQUluRCxlQUFlb0QsSUFHZkMsRUFBYyxTQUFDakUsR0FDMUIsTUFBTSxJQUFJa0UsTUFBTSwyQkFBMkJDLEtBQUtDLFVBQVVwRSxLQ3ZCL0MsRUFBWXFFLG1CQW9CekIsYUFHRSx3QkFGQSxLQUFBQyxlQUEwQyxHQUd4Q0MsT0FBT0MsaUJBQWlCLFdBQVcsU0FBQ0MsR0FDbEMsRUFBS0gsZUFBZTdCLFNBQVEsU0FBQ2lDLEdBQWEsT0FBQUEsRUFBU0QsRUFBTUUsWUFtRS9ELE9BL0RFLFlBQUFDLG1CQUFBLHNCQUNRQyxFQUFZcEIsSUFPbEIsT0FMQSxFQUFVcUIsWUFBWSxDQUNwQkMsS0FBTSxxQkFDTjVDLEdBQUkwQyxJQUdDLElBQUlHLFNBQWtELFNBQUNDLEdBQzVELElBQU1QLEVBQVcsU0FBQ1EsR0FDSyx1QkFBakJBLEVBQVFILE1BQWlDRyxFQUFRL0MsS0FBTzBDLElBQzFESSxFQUFRQyxFQUFRQyxRQUFRQyxPQUN4QixFQUFLQyxlQUFlWCxLQUl4QixFQUFLSixlQUFleEIsS0FBSzRCLE9BSTdCLFlBQUFZLGdCQUFBLFNBQWdCQyxHQUFoQixXQUNRVixFQUFZcEIsSUFRbEIsT0FOQSxFQUFVcUIsWUFBWSxDQUNwQkMsS0FBTSxrQkFDTjVDLEdBQUkwQyxFQUNKTSxRQUFTLENBQUVJLFNBQVEsS0FHZCxJQUFJUCxTQUFnQixTQUFDQyxHQUMxQixJQUFNUCxFQUFXLFNBQUNRLEdBQ0ssb0JBQWpCQSxFQUFRSCxNQUE4QkcsRUFBUS9DLEtBQU8wQyxJQUN2REksRUFBUUMsRUFBUUMsUUFBUTdCLE1BQ3hCLEVBQUsrQixlQUFlWCxLQUl4QixFQUFLSixlQUFleEIsS0FBSzRCLE9BSTdCLFlBQUFjLHdCQUFBLFNBQXdCQyxFQUFrQkMsR0FBMUMsV0FDRSxFQUFVWixZQUFZLENBQ3BCQyxLQUFNLGdDQUNOSSxRQUFTLENBQUVJLFNBQVVFLEtBR3ZCLElBQU1mLEVBQVcsU0FBQ1EsR0FDSyx5QkFBakJBLEVBQVFILE1BQW1DRyxFQUFRQyxRQUFRTSxXQUFhQSxHQUMxRUMsRUFBU1IsRUFBUUMsUUFBUTdCLE9BSzdCLE9BREFxQyxLQUFLckIsZUFBZXhCLEtBQUs0QixHQUNsQixXQUNMLEVBQUtXLGVBQWVYLEdBQ3BCLEVBQVVJLFlBQVksQ0FBRUMsS0FBTSxrQ0FBbUNJLFFBQVMsQ0FBRUksU0FBVUUsT0FJbEYsWUFBQUosZUFBUixTQUF1QlgsR0QvRkgsSUFBSWtCLEVBQVk5RCxFQUM5QitELEVBRGtCRCxFQ2dHZkQsS0FBS3JCLGVEaEdzQnhDLEVDZ0dONEMsR0QvRnhCbUIsRUFBUUQsRUFBTUUsUUFBUWhFLEtBRWYsR0FDWDhELEVBQU1HLE9BQU9GLEVBQU8sSUM4RnhCLEVBeEVBLEdDMUJhRyxFQUFpQixTQUM1QjFDLEVBQ0FqQyxFQUNBNEUsR0FFQSxJQUFNQyxFQUFTekUsU0FBU0MsY0FBYyxVQUl0QyxPQUhBd0UsRUFBT0MsUUFBVUYsRUFDakJDLEVBQU83RSxVQUFZQSxFQUNuQjZFLEVBQU92RCxZQUFjVyxFQUNkLENBQUU5QixRQUFTMEUsSUNUUEUsRUFBWSxTQUN2QjVFLEVBQ0FILEVBQ0FpQyxHQUVBLElBQU0rQyxFQUFVNUUsU0FBU0MsY0FBYyxPQUN2QzJFLEVBQVFoRixVQUFlQSxFQUFTLG1CQUNoQyxJQUFNaUYsRUFBUTdFLFNBQVNDLGNBQWMsU0FNckMsT0FMQTRFLEVBQU1qRixVQUFZLGdCQUNsQmlGLEVBQU0zRCxZQUFjVyxFQUNwQjlCLEVBQVFILFVBQWVHLEVBQVFILFVBQVMsbUJBQ3hDZ0YsRUFBUXhELFlBQVl5RCxHQUNwQkQsRUFBUXhELFlBQVlyQixHQUNiNkUsR0NiSUUsRUFBeUIsU0FDcENDLEVBQ0FwRixFQUNBcUYsRUFDQUMsRUFDQUMsR0FTQSxJQUFNQyxFQUFZbkYsU0FBU0MsY0FBYyxPQUN6Q2tGLEVBQVV2RixVQUFZLGtCQVl0QixJQVZBLElBQU1PLEVBQStELEdBTS9EaUYsRUFBWSxXQUFNLE9BQUFqRixFQUFhb0IsS0FBSSxTQUFDQyxHQUFPLE9BQUFBLEVBQUdqRCxVQUkzQzhHLEVBQU0sRUFBR0EsRUFBTUwsRUFBTUssSUFBTyxDQUNuQyxJQUFNQyxFQUFXdEYsU0FBU0MsY0FBYyxPQUN4Q3FGLEVBQVMxRixVQUFZLGlCQUVyQixJLGVBQVMyRixHQUNQLElBQU1uQixFQUFRaUIsRUFBTUosRUFBVU0sRUFDeEJoSCxFQUFRd0csRUFBYVgsR0FDckJvQixFQUFReEYsU0FBU0MsY0FBYyxTQUMvQndGLEVBQWMsQ0FBRTFGLFFBQVN5RixFQUFPakgsTUFBSyxHQUMzQ1AsT0FBTzBILE9BQU9GLEVBQU9OLEdBQ3JCTSxFQUFNNUYsVUFBWSxhQUNsQjRGLEVBQU1sQyxLQUFPLFNBQ2JrQyxFQUFNakgsTUFBUUEsYUFBSyxFQUFMQSxFQUFPNkQsV0FDckJvRCxFQUFNRyxRQUFVLFdBQ2R4RixFQUFhaUUsR0FBTzdGLE1BQVFxSCxPQUFPSixFQUFNakgsT0FDekNvQixXQUFXeUYsTUFFYmpGLEVBQWFrQixLQUFLb0UsR0FDbEJILEVBQVNsRSxZQUFZb0UsSUFkZEQsRUFBUyxFQUFHQSxFQUFTTixFQUFTTSxJLEVBQTlCQSxHQWlCVEosRUFBVS9ELFlBQVlrRSxHQUd4QixNQUFPLENBQ0xILEVBQ0EsQ0FDRVUsVUFwQ2MsU0FBQ0MsR0FDakIsT0FBQTNGLEVBQWFhLFNBQVEsU0FBQ1EsRUFBSTRDLEdBQ3hCNUMsRUFBR2pELE1BQVF1SCxFQUFVMUIsR0FDckI1QyxFQUFHekIsUUFBUXhCLE1BQVFpRCxFQUFHakQsTUFBTTZELGVBa0M1QmdELFVBQVMsRUFDVFcsWUFoQ2dCLFNBQUNDLEdBQ25CLE9BQUE3RixFQUFhYSxTQUFRLFNBQUNRLEdBQU8sT0FBQ0EsRUFBR3pCLFFBQVFrRyxTQUFXRCxTQXVEM0NFLEVBQWdCLFNBQUN2RyxHQUM1QixPQUFBbUYsRUFBZ0MsQ0FBQyxFQUFHLEVBQUcsR0FBSW5GLEVBQVUsRUFBRyxJQ2pGN0N3RyxFQUFZLFNBQUN2RyxFQUFtQndHLEdBQzNDLElBQU1DLEVBQU1yRyxTQUFTQyxjQUFjLE9BR25DLE9BRkFvRyxFQUFJekcsVUFBWUEsRUFDaEJ3RyxXQUFVcEYsU0FBUSxTQUFDckQsR0FBTSxPQUFBMEksRUFBSWpGLFlBQVl6RCxNQUNsQzBJLEcsK01DREhDLEVBQWtCLENBQ3RCQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsS0FBTSxPLHlMUkZSLFNBQVluSCxHQUNWLG1DQUNBLG1DQUNBLG1DQUNBLG1DQUpGLENBQVlBLE1BQVcsS0E4QmhCLElTaENLb0gsRVRxRENDLEVBQXVCLFNBQ2xDQyxFQUNBQyxHQVNBLElBUEEsSUFBTUMsRUFBY0YsRUFBUUcsb0JBQzFCRixFQUNBRCxFQUFRSSxpQkFHSkMsRUFBd0IsRyxXQUVyQjdDLEdBQ1AsSUFBTThDLEVBQVVOLEVBQVFPLGlCQUFpQk4sRUFBU3pDLEdBQzVDLEVBQVd3QyxFQUFRUSxtQkFBbUJQLEVBQVNLLEVBQVFySixNQUN2RHdKLEVBbkNzQixTQUM5Qi9ELEVBQ0FzRCxFQUNBVSxHQUVBLE9BQVFoRSxHQUNOLEtBQUtoRSxFQUFZaUksV0FDZixPQUFPLFNBQUNoSixHQUFtQixPQUFBcUksRUFBUVksVUFBUyxNQUFqQlosRUFBTyxHQUFXVSxHQUFhL0ksS0FDNUQsS0FBS2UsRUFBWW1JLFdBQ2YsT0FBTyxTQUFDbEosR0FBbUIsT0FBQXFJLEVBQVFjLFVBQVMsTUFBakJkLEVBQU8sR0FBV1UsR0FBYS9JLEtBQzVELEtBQUtlLEVBQVlxSSxXQUNmLE9BQU8sU0FBQ3BKLEdBQW1CLE9BQUFxSSxFQUFRZ0IsVUFBUyxNQUFqQmhCLEVBQU8sR0FBV1UsR0FBYS9JLEtBQzVELEtBQUtlLEVBQVl1SSxXQUNmLE9BQU8sU0FBQ3RKLEtBR1YsUUFDRWlFLEVBQVljLElBa0JDd0UsQ0FBaUJaLEVBQVE1RCxLQUFNc0QsRUFBUyxHQUNuRG1CLE9BQXdCQyxFQUc1QmYsRUFBTzVGLEtBQUssQ0FDVnhELEtBQU1xSixFQUFRckosS0FDZHlGLEtBQU00RCxFQUFRNUQsS0FDZDJFLE9BQVEsU0FBQzFKLEdBQW1CLE9BQUN3SixFQUFleEosR0FDNUMySixTQU5lLFdBQU0sT0FBQWIsRUFBT1UsT0FMdkIzRCxFQUFRLEVBQUdBLEVBQVEwQyxJQUFlMUMsRSxFQUFsQ0EsR0FlVCxPQUFPNkMsR1VuQ0lrQixFQUE0QixXQUN2QyxJQUFNOUIsRUFBTXJHLFNBQVNDLGNBQWMsT0FHbkMsT0FGQW9HLEVBQUl6RyxVQUFZLG9CQUNoQnlHLEVBQUkrQixVQUFZLHdCQUNUL0IsR0FHSWdDLEVBQXlCLFNBQUNDLEdBRy9CLE1BQXNDNUksR0FDMUMsU0FBQ1csR0FDTUEsSUFFTHJDLE9BQU91SyxPQUFPRCxHQUFVdEgsU0FBUSxTQUFDd0gsR0FDL0IsT0FBQUEsRUFBR3pJLFFBQVEwSSxVQUFVQyxJQUFJLGFBRzNCSixFQUFTakksRUFBS0ssSUFBSVgsUUFBUTBJLFVBQVVFLE9BQU8sYUFFN0MsR0FDQSxDQUFFbEosV0FBVyxJQVhSbUosRUFBYyxLQUFFQyxFQUFpQixLQW9CeEMsT0FQQUEsRUFBa0JsSSxTQUNoQjNDLE9BQU84SyxRQUFRUixHQUFVL0csS0FBSSxTQUFDLEdBQWlCLE9BQzdDYixHQURnQyxLQUVoQ0ssUUFGdUMsS0FFeEJBLGFBR25COEgsRUFBa0JwSCxvQkFBb0IsVUFDL0JtSCxHQUdJRyxFQUF1QixTQUFDZCxHQUM3QixNSkhObkQsRUFBZ0MsQ0FBQyxFQUFHLEdJR29CbUQsRUpITixFQUFHLEdJRzlDZSxFQUFhLEtBRXBCLE9BRnNDLEtBQ3JCbkQsVUFBVSxDQUFDLEVBQUcsSUFDeEJtRCxHQUdJQyxFQUEwQixTQUNyQ2hCLEdBRU0sTUFBb0MvQixJQUFuQzhDLEVBQWEsS0FFcEIsT0FGc0MsS0FDckJuRCxVQUFVLENBQUMsRUFBRyxFQUFHLElBQzNCbUQsR0FHSUUsRUFBdUIsU0FBQ2pCLEdBQzdCLE1BQW9DL0IsRUFBYytCLEdBQWpEZSxFQUFhLEtBQWtCLEtBQ3JCbkQsVUFBVSxDQUFDLEVBQUcsRUFBRyxJQUU1QixNRnZDb0IsU0FDMUJsRyxHQVNBLElBQU1vRixFQUFlLENBQUMsR0FBSyxHQUFLLElBQzFCb0UsRUFBV25KLFNBQVNDLGNBQWMsT0FDeENrSixFQUFTdkosVUFBWSxtQkFDckIsSUFBTXdKLEVBQVcsU0FBQ0MsR0FDaEJGLEVBQVNHLE1BQU1DLFdBQWEsT0FBa0IsSUFBWEYsRUFBTSxHQUFRLElBQWUsSUFBWEEsRUFBTSxHQUFRLElBQ3RELElBQVhBLEVBQU0sR0FBUSxPQUlsQkQsRUFBU3JFLEdBRVQsSUFJTXlFLEVBQVlyRCxFQUFVLGdCQUN0QixFQUF3QnJCLEVBQzVCQyxHQU51QixTQUFDc0UsR0FDeEJELEVBQVNDLEdBQ1QxSixXQUFXMEosS0FNWCxFQUNBLEVBQ0EvQyxHQUxLdkcsRUFBTyxLQUFFMEosRUFBVSxLQVMxQixPQUZBRCxFQUFVcEksWUFBWXJCLEdBQ3RCeUosRUFBVXBJLFlBQVkrSCxHQUNmLENBQ0xLLEUsT0FFS0MsR0FBVSxDQUNiNUQsVUFBVyxTQUFDdEgsR0FDVmtMLEVBQVc1RCxVQUFVdEgsR0FDckI2SyxFQUFTN0ssT0VGeUJtTCxDQUFhekIsR0FBOUMwQixFQUFZLEtBQWlCLEtBQ3BCOUQsVUFBVSxDQUFDLEVBQUcsRUFBRyxJQUVqQyxJQUFNK0MsRUFBaUJQLEVBQXVCLENBQzVDdUIsT0FBUSxDQUNON0ksUUFBUyxTQUNUaEIsUUFBU2lKLEdBRVhLLE1BQU8sQ0FDTHRJLFFBQVMsUUFDVGhCLFFBQVM0SixLQUliLE9BQU94RCxFQUFVLGtCQUFtQixDQUNsQ3lDLEVBQ0FJLEVBQ0FXLEtBSVNFLEVBQXVCLFNBQUM1QixHQUM3QixNSmxDTm5ELEVBQWdDLENBQUMsRUFBRyxFQUFHLEVBQUcsR0lrQ2NtRCxFSmxDQSxFQUFHLEdJa0NwRGUsRUFBYSxLQUFrQixLQUNyQm5ELFVBQVUsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUUvQixNRmhIb0IsU0FDMUJsRyxHQVNBLElBQU1vRixFQUFlLENBQUMsR0FBSyxHQUFLLEdBQUssR0FDL0JvRSxFQUFXbkosU0FBU0MsY0FBYyxPQUN4Q2tKLEVBQVN2SixVQUFZLG1CQUNyQixJQUFNd0osRUFBVyxTQUFDQyxHQUNoQkYsRUFBU0csTUFBTUMsV0FBYSxPQUFrQixJQUFYRixFQUFNLEdBQVEsSUFBZSxJQUFYQSxFQUFNLEdBQVEsSUFDdEQsSUFBWEEsRUFBTSxHQUFRLElBQ1pBLEVBQU0sR0FBRSxLQUdkRCxFQUFTckUsR0FFVCxJQUlNeUUsRUFBWXJELEVBQVUsZ0JBQ3RCLEVBQXdCckIsRUFDNUJDLEdBTnVCLFNBQUNzRSxHQUN4QkQsRUFBU0MsR0FDVDFKLFdBQVcwSixLQU1YLEVBQ0EsRUFDQS9DLEdBTEt2RyxFQUFPLEtBQUUwSixFQUFVLEtBUzFCLE9BRkFELEVBQVVwSSxZQUFZckIsR0FDdEJ5SixFQUFVcEksWUFBWStILEdBQ2YsQ0FDTEssRSxPQUVLQyxHQUFVLENBQ2I1RCxVQUFXLFNBQUN0SCxHQUNWa0wsRUFBVzVELFVBQVV0SCxHQUNyQjZLLEVBQVM3SyxPRXVFeUJ1TCxDQUFhN0IsR0FBOUMwQixFQUFZLEtBQWlCLEtBQ3BCOUQsVUFBVSxDQUFDLEVBQUcsRUFBRyxFQUFHLElBRXBDLElBQU0rQyxFQUFpQlAsRUFBdUIsQ0FDNUN1QixPQUFRLENBQ043SSxRQUFTLFNBQ1RoQixRQUFTaUosR0FFWEssTUFBTyxDQUNMdEksUUFBUyxRQUNUaEIsUUFBUzRKLEtBSWIsT0FBT3hELEVBQVUsa0JBQW1CLENBQ2xDeUMsRUFDQUksRUFDQVcsS0MzSUosYUFHRSxXQUFvQkksR0FBQSxLQUFBQSxjQUZaLEtBQUF4SSxJQUFNLElBQUl5SSxJQWVwQixPQVhFLFlBQUE3TCxJQUFBLFNBQUlVLEdBQ0YsT0FBT3FGLEtBQUszQyxJQUFJcEQsSUFBSStGLEtBQUs2RixZQUFZbEwsS0FHdkMsWUFBQW9MLElBQUEsU0FBSXBMLEVBQVdOLEdBQ2IyRixLQUFLM0MsSUFBSTBJLElBQUkvRixLQUFLNkYsWUFBWWxMLEdBQU1OLElBR3RDLFlBQUEyTCxNQUFBLFdBQ0VoRyxLQUFLM0MsSUFBSTJJLFNBRWIsRUFoQkEsSUZFQSxTQUFZeEQsR0FDVixtQ0FDQSxtQ0FGRixDQUFZQSxNQUFtQixLQW1CeEIsSUFXTXlELEVBQStCLFNBQzFDdkQsRUFDQUMsR0FTQSxJQVBBLElBQU11RCxFQUFzQnhELEVBQVFHLG9CQUNsQ0YsRUFDQUQsRUFBUXlELG1CQUdKcEQsRUFBZ0MsRyxXQUU3QjdDLEdBQ1AsSUFBTWtHLEVBQVMxRCxFQUFRMkQsZ0JBQWdCMUQsRUFBU3pDLEdBQzFDLEVBQVd3QyxFQUFRNEQsa0JBQWtCM0QsRUFBU3lELEVBQU96TSxNQUNyRDRNLEVBQVM3RCxFQUFROEQsZ0JBekJLLFNBQUNDLEdBQy9CLE9BQVFBLEdBQ04sS0FBS2pFLEVBQW9CZSxXQUN2QixPQUFPLEVBQ1QsS0FBS2YsRUFBb0JpQixXQUN2QixPQUFPLEVBQ1QsUUFDRW5GLEVBQVltSSxJQW9CUUMsQ0FBaUJOLEVBQU9oSCxNQW1COUMyRCxFQUFPNUYsS0FBSyxDQUNWeEQsS0FBTXlNLEVBQU96TSxLQUNieUYsS0FBTWdILEVBQU9oSCxLQUNiMkUsT0FBUSxTQUFDMUosR0FDUHFJLEVBQVFpRSxXQUFXakUsRUFBUWtFLGFBQWNMLEdBQ3pCLEdBQUdNLE9BQU0sTUFBVCxHQUFheE0sR0FDN0JxSSxFQUFRb0UsV0FDTnBFLEVBQVFrRSxhQUNSLElBQUlHLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUFLLEdBQUssSUFDckNyRSxFQUFRc0UsY0FHWmhELFNBOUJlLFdBQ2Z0QixFQUFRdUUsd0JBQXdCLEdBQ2hDdkUsRUFBUWlFLFdBQVdqRSxFQUFRa0UsYUFBY0wsR0FDekMsSUFDTW5ILEVBQU9zRCxFQUFRd0UsTUFJckJ4RSxFQUFReUUsb0JBQ04sRUFOVyxFQVFYL0gsR0FOZ0IsRUFDSCxFQUNBLE9BYlZjLEVBQVEsRUFBR0EsRUFBUWdHLElBQXVCaEcsRSxFQUExQ0EsR0F5Q1QsT0FBTzZDLEdHN0RJcUUsRUFBb0MsV0FDL0MsSUFBTWpGLEVBQU1yRyxTQUFTQyxjQUFjLE9BR25DLE9BRkFvRyxFQUFJekcsVUFBWSxvQkFDaEJ5RyxFQUFJK0IsVUFBWSxpQ0FDVC9CLEdBR0lrRixFQUFpQyxTQUM1Q3RELEdBRUEsSUFBTXpDLEVBQVF4RixTQUFTQyxjQUFjLFNBMEJyQyxPQXZCQXVGLEVBQU01RixVQUFZLGFBQ2xCNEYsRUFBTUcsUUFBVSxXQUNkLElBQ0UsSUFBTXNCLEVBQVN2RSxLQUFLOEksTUFBTWhHLEVBQU1qSCxPQUdoQyxHQUZBa04sUUFBUUMsSUFBSSxTQUFVekUsR0FFakIwRSxNQUFNQyxRQUFRM0UsR0FHTEEsRUFBTzRFLE9BQU0sU0FBQ3BMLEdBQ3hCLFFBQUFrTCxNQUFNQyxRQUFRbkwsSUFBa0IsSUFBYkEsRUFBRUssV0FHckIySyxRQUFRQyxJQUFJLG1EQU5kRCxRQUFRQyxJQUFJLDZCQVNkekQsRUFBT2hCLEdBQ1AsTUFBTzZFLEdBQ1BMLFFBQVFDLElBQUksd0JBS1RsRyxHQUdJdUcsRUFBaUMsU0FDNUM5RCxHQUVBLElBQU16QyxFQUFReEYsU0FBU0MsY0FBYyxTQXlCckMsT0F0QkF1RixFQUFNNUYsVUFBWSxhQUNsQjRGLEVBQU1HLFFBQVUsV0FDZCxJQUNFLElBQU1zQixFQUFTdkUsS0FBSzhJLE1BQU1oRyxFQUFNakgsT0FHaEMsR0FGQWtOLFFBQVFDLElBQUksU0FBVXpFLEdBRWpCMEUsTUFBTUMsUUFBUTNFLEdBR0xBLEVBQU80RSxPQUFNLFNBQUNwTCxHQUN4QixRQUFBa0wsTUFBTUMsUUFBUW5MLElBQWtCLElBQWJBLEVBQUVLLFdBR3JCMkssUUFBUUMsSUFBSSxtREFOZEQsUUFBUUMsSUFBSSw2QkFTZHpELEVBQU9oQixHQUNQLE1BQU82RSxHQUNQTCxRQUFRQyxJQUFJLHdCQUlUbEcsRywrTUNsRkh3RyxFQUFnQixJQUFJQyxHQUd4QixTQUFDcE4sR0FBUSxPQUFHQSxFQUFJaEIsS0FBSSxJQUFJZ0IsRUFBSXlFLFFBRXhCNEksRUFBd0IsSUFBSUQsR0FHaEMsU0FBQ3BOLEdBQVEsT0FBR0EsRUFBSWhCLEtBQUksSUFBSWdCLEVBQUl5RSxRQUVqQjZJLEVBQTBCLFNBQ3JDcE0sRUFDQXFNLEdBRXdCQSxFQUFpQkMsU0FBUzlLLEtBQUksU0FBQzJGLEdBQ3JELElBQU1vRixFQUFxQk4sRUFBYzdOLElBQUksS0FDeEMrSSxJQUdMLEdBQUlvRixFQUNGLE9BQU9BLEVBRVAsSUFBTUMsRUFBWTVILEVIaEJjLFNBQ3BDNkgsRUFDQUMsR0FFQSxPQUFRRCxFQUFZbEosTUFDbEIsS0FBS2hFLEVBQVlpSSxXQUNmLE9BQU93QixHQUFxQixTQUFDeEssR0FDM0JpTyxFQUFZdkUsT0FBTzFKLEdBQ25Ca08sT0FFSixLQUFLbk4sRUFBWW1JLFdBQ2YsT0FBT3lCLEdBQXFCLFNBQUMzSyxHQUMzQmlPLEVBQVl2RSxPQUFPMUosR0FDbkJrTyxPQUVKLEtBQUtuTixFQUFZcUksV0FDZixPQUFPa0MsR0FBcUIsU0FBQ3RMLEdBQzNCaU8sRUFBWXZFLE9BQU8xSixHQUNuQmtPLE9BRUosS0FBS25OLEVBQVl1SSxXQUNmLE9BQU9vQixHQUF3QixTQUFDMUssR0FDUnlELElBRXRCd0ssRUFBWXZFLE9BQU8sQ0FBRXlFLEtBQU1uTyxFQUFNbU8sS0FBTUMsYUFBYSxJQUNwREYsT0FFSixRQUNFLE9BQU90RSxLR1hMeUUsQ0FBdUIxRixFQUFTa0YsRUFBaUJLLFFBQ2pELEdBQ0F2RixFQUFRckosTUFHVixPQURBbU8sRUFBYy9CLElBQUksS0FBSy9DLEdBQVdxRixHQUMzQkEsS0FJS3ZMLFNBQVEsU0FBQ1AsR0FBTSxPQUFBVixFQUFRcUIsWUFBWVgsTUFFbkIyTCxFQUFpQlMsaUJBQWlCdEwsS0FDaEUsU0FBQ3VMLEdBQ0MsSUFBTVIsRUFBcUJKLEVBQXNCL04sSUFBSSxLQUNoRDJPLElBR0wsR0FBSVIsRUFDRixPQUFPQSxFQUVQLElBQU1DLEVBQVk1SCxFRGhEb0IsU0FDNUNvSSxFQUNBTixHQUVBLE9BQVFNLEVBQW9CekosTUFDMUIsS0FBS29ELEVBQW9CZSxXQUN2QixPQUFPOEQsR0FBK0IsU0FBQ2hOLEdBQ3JDd08sRUFBb0I5RSxPQUFPMUosR0FDM0JrTyxPQUVKLEtBQUsvRixFQUFvQmlCLFdBQ3ZCLE9BQU9vRSxHQUErQixTQUFDeE4sR0FDckN3TyxFQUFvQjlFLE9BQU8xSixHQUMzQmtPLE9BRUosUUFDRSxPQUFPbkIsS0NpQ0gwQixDQUNFRixFQUNBVixFQUFpQkssUUFFbkIsR0FDQUssRUFBZ0JqUCxNQUdsQixPQURBcU8sRUFBc0JqQyxJQUFJLEtBQUs2QyxHQUFtQlAsR0FDM0NBLEtBS1d2TCxTQUFRLFNBQUNQLEdBQU0sT0FBQVYsRUFBUXFCLFlBQVlYLE9DakVoRHdNLEVBQWdCLFNBQzNCQyxFQUNBNUosRUFDQTZKLEdBRUEsSUFBTUMsRUFBU0YsRUFBaUJHLGFBQWEvSixHQVM3QyxHQVJBNEosRUFBaUJJLGFBQWFGLEVBQVFELEdBQ3RDRCxFQUFpQkQsY0FBY0csR0FFaEJGLEVBQWlCSyxtQkFDOUJILEVBQ0FGLEVBQWlCTSxnQkFJakIsT0FBT0osRUFFUCxJQUFNdEIsRUFBUW9CLEVBQWlCTyxpQkFBaUJMLEdBRWhELE9BREFGLEVBQWlCUSxhQUFhTixHQUN2QixDQUNMdEIsTUFBSyxJQ0dFNkIsRUFBb0IsU0FDL0IvTixHQVVBLElBQU1nTyxFQUFTNU4sU0FBU0MsY0FBYyxVQUN0QzJOLEVBQU9oTyxVQUFZQSxFQUNuQixJQUFNZ0gsRUFBVWdILEVBQU9DLFdBQVcsU0FFbEMsSUFBS2pILEVBRUgsTUFBTSxJQUFJbkUsTUFBTSxrQ0FrRWxCLE1BQU8sQ0FDTG1MLEVBQ0EsQ0FDRUUsZUFsRW1CLFNBQ3JCQyxFQUNBQyxHQUVBLElBQU1DLEVBQWVoQixFQUNuQnJHLEVBQ0FBLEVBQVFzSCxjQUNSSCxHQUdJSSxFQUFpQmxCLEVBQ3JCckcsRUFDQUEsRUFBUXdILGdCQUNSSixHQUdFSyxPQUFzQnJHLEVBQ3RCM0YsRUFBWTRMLEVBQWMsV0FDNUJJLEVBQWN6TSxFQUFXcU0sRUFBYW5DLE1BQU8sSUFHL0MsSUFBSXdDLE9BQXdCdEcsRUFLNUIsR0FKSTNGLEVBQVk4TCxFQUFnQixXQUM5QkcsRUFBZ0IxTSxFQUFXdU0sRUFBZXJDLE1BQU8sSUFHL0N1QyxHQUFlQyxFQUVqQixNQUFPLENBQUNELEVBQWFDLEdBR3ZCLElBQU16SCxFRGpEbUIsU0FDM0JxRyxFQUNBZSxFQUNBRSxHQUVBLElBQU10SCxFQUFVcUcsRUFBaUJxQixnQkFVakMsR0FUQXJCLEVBQWlCc0IsYUFBYTNILEVBQVNvSCxHQUN2Q2YsRUFBaUJzQixhQUFhM0gsRUFBU3NILEdBQ3ZDakIsRUFBaUJ1QixZQUFZNUgsR0FFZHFHLEVBQWlCbkcsb0JBQzlCRixFQUNBcUcsRUFBaUJ3QixhQUlqQixPQUFPN0gsRUFJUCxNQUZBcUcsRUFBaUJ5QixjQUFjOUgsR0FFekIsSUFBSXBFLE1BQ1IsNEJBQTRCeUssRUFBaUIwQixrQkFBa0IvSCxJQzRCakQwSCxDQUFjM0gsRUFBU3FILEVBQWNFLEdBQy9DOUIsRUFBVzFGLEVBQXFCQyxFQUFTQyxHQUN6Q2dHLEVBQW1CMUMsRUFBNkJ2RCxFQUFTQyxHQUkvRCxNQUFPLENBQ0w0RixPQUFRLFdBRU5oQixRQUFRQyxJQUFJLGFBRVo5RSxFQUFRaUksV0FBV2hJLEdBR25CRCxFQUFRa0ksU0FBUyxFQUFHLEVBQUdsSSxFQUFRZ0gsT0FBT21CLE1BQU9uSSxFQUFRZ0gsT0FBT29CLFFBRzVEcEksRUFBUXFJLFdBQVcsRUFBRyxFQUFHLEVBQUcsR0FDNUJySSxFQUFRc0QsTUFBTXRELEVBQVFzSSxrQkFFdEI3QyxFQUFTckwsU0FBUSxTQUFDbU8sR0FBTSxPQUFBQSxFQUFFakgsY0FDMUIyRSxFQUFpQjdMLFNBQVEsU0FBQ29PLEdBQU8sT0FBQUEsRUFBR2xILGNBQ3BDLElBQU1tSCxFQUFnQnpJLEVBQVEwSSxVQUc5QjFJLEVBQVEySSxXQUFXRixFQUZKLEVBQ0QsSUFHaEJoRCxTQUFRLEVBQ1JRLGlCQUFnQixPLDYwQ0N4RkQsbUMsdUVDZGEsSUFBQ2hMLEVBQWNqQyxFQUN6Q0csRSxPRGNBeVAsRUFBWSxJQUFJLEVBQ2hCQyxFQUFTelAsU0FBUzBQLGVBQWUsVUFDakNDLEVBQWdCeEosRUFBVSxrQkFDMUJ5SixFQUFnQnpKLEVBQVUseUJBQzFCMEosRUFBMEIxSixFQUFVLGdDQUNwQyxFQUFpQ3dILEVBQWtCLGtCQUFsRG1DLEVBQVcsS0FBRUMsRUFBZSxLQUVuQ04sRUFBT3JPLFlBQVkwTyxHQUNuQkwsRUFBT3JPLFlBQVl5TyxHQUNuQkosRUFBT3JPLFlBQVl1TyxHQUViSyxFQUFjLFNBQUNDLEdBQ25CSCxFQUFZeEcsTUFBTTRHLFdBQ0osV0FBWkQsRUFBdUIsVUFBWSxXQUNyQ0osRUFBd0J2RyxNQUFNNEcsV0FDaEIsV0FBWkQsRUFBdUIsVUFBWSxZQVFqQ0UsRUFBeUIsV0FHN0IsR0FGQVAsRUFBYy9PLFVBQVksR0FFdEJ1UCxHQUEyQkMsRUFBdUIsQ0FDcEQsSUFBTXBKLEVBQVM4SSxFQUFnQmpDLGVBQzdCdUMsRUFDQUQsR0FHRixHQUFJekUsTUFBTUMsUUFBUTNFLEdBQVMsQ0FDekIrSSxFQUFZLFVBQ04sTUFHRi9JLEVBRkZxSixFQUFrQixLQUNsQkMsRUFBb0IsS0FHaEJDLEVBQW1CLEdBRXJCRixHQUNGRSxFQUFPblAsS0FBSyxpQkFBa0JpUCxHQUc1QkMsR0FDRkMsRUFBT25QLEtBQUssbUJBQW9Ca1AsR0FHbENWLEVBQXdCekgsVUFBWW9JLEVBQU9DLEtBQUssYUFFaERULEVBQVksVUFDWixFQUFvQkosRUFBZTNJLFFBR3JDK0ksRUFBWSxTQUloQkwsRUFBY3ZPLFlBQ1orRSxFQUFVLHVCQUF3QixFQzNFSHRFLEVENEVWdEMsRUM1RXdCSyxFRDRFRixHQzNFdkNHLEVBQVVDLFNBQVNDLGNBQWMsTUFDdkNGLEVBQVFtQixZQUFjVyxFQUN0QjlCLEVBQVFILFVBQWVBLEVBQVMsaUJBQ3pCLENBQUVHLFFBQU8sSUR3RWlDQSxRQUM3QyxFQUFhLE9BQVEseUJBQXlCLFdBQzVDeVAsRUFBVXJNLHFCQUFxQnVOLE1BQUssU0FBQ0MsR0FDbkMsSUFBTWhOLEVBQVFnTixFQUFHcFAsS0FBSSxTQUFDcVAsR0FBTSxPQUMxQmxRLEdBQUlrUSxFQUFFNU0sU0FDTmpELFFBQVM2UCxFQUFFOU0sYUFHYitNLEVBQXlCbFEsU0FBU2dELEdBQ2xDbU4sRUFBMkJuUSxTQUFTZ0QsU0FFckM1RCxXQUlELEVBQW9ETCxHQUN4RCxTQUFPcVIsR0FBUywwQywrREFDZEMsYUFFSUQsSUFDRkMsRUFBdUN4QixFQUFVekwsd0JBQy9DZ04sRUFBVXJRLElBQ1YsU0FBQ3VRLEdBQ0NaLEVBQXdCWSxFQUN4QmQsUUFLa0JZLEVBQ3BCLEdBQU12QixFQUFVM0wsZ0JBQWdCa04sRUFBVXJRLEtBRHRCLE0sY0FDcEIsVyxhQUNBLEssd0JBRkoyUCxFQUF3QixFQUd4QkYsSSxjQWpCR2UsRUFBcUIsS0FBRUwsRUFBd0IsS0FvQnREbEIsRUFBY3ZPLFlBQ1p1RCxFQUNFdU0sRUFDQSxnQ0FDQSxrQkFJRSxFQUF3RHhSLEdBQzVELFNBQU95UixHQUFXLDBDLCtEQUNoQkMsYUFFSUQsSUFDRkMsRUFBeUM1QixFQUFVekwsd0JBQ2pEb04sRUFBWXpRLElBQ1osU0FBQ3VRLEdBQ0NiLEVBQTBCYSxFQUMxQmQsUUFLb0JnQixFQUN0QixHQUFNM0IsRUFBVTNMLGdCQUFnQnNOLEVBQVl6USxLQUR0QixNLGNBQ3RCLFcsYUFDQSxLLHdCQUZKMFAsRUFBMEIsRUFHMUJELEksY0FqQkdrQixFQUF1QixLQUFFUCxFQUEwQixLQW9CMURuQixFQUFjdk8sWUFDWnVELEVBQ0UwTSxFQUNBLGtDQUNBLG9CQUlKMUIsRUFBY3ZPLFlBQVl3TyxHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgdHJhbnNsYXRpb25zID0ge1xyXG4gICAgc2hhZGVyczogXCJTSEFERVJTXCJcclxufSIsImltcG9ydCB7IGFzc2VydE5ldmVyIH0gZnJvbSBcIi4uLy4uL3V0aWxzXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9lZGl0VmVjdG9yM1wiO1xyXG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRDb2xvclwiO1xyXG5cclxuZXhwb3J0IGVudW0gVW5pZm9ybVR5cGUge1xyXG4gIEZMT0FUX1ZFQzIgPSAzNTY2NCxcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG4gIFNBTVBMRVJfMkQgPSAzNTY3OCxcclxufVxyXG5cclxuLy81MTIwIChCWVRFKSwgNTEyMSAoVU5TSUdORURfQllURSksIDUxMjIgKFNIT1JUKSwgNTEyMyAoVU5TSUdORURfU0hPUlQpLCA1MTI0IChJTlQpLFxyXG4vLyA1MTI1IChVTlNJR05FRF9JTlQpLCA1MTI2IChGTE9BVCksIDM1NjY0IChGTE9BVF9WRUMyKSxcclxuLy8gLCAzNTY2NyAoSU5UX1ZFQzIpLCAzNTY2OCAoSU5UX1ZFQzMpLCAzNTY2OSAoSU5UX1ZFQzQpLCAzNTY3MCAoQk9PTCksIDM1NjcxIChCT09MX1ZFQzIpLCAzNTY3MiAoQk9PTF9WRUMzKSwgMzU2NzMgKEJPT0xfVkVDNCksIDM1Njc0IChGTE9BVF9NQVQyKSwgMzU2NzUgKEZMT0FUX01BVDMpLCAzNTY3NiAoRkxPQVRfTUFUNClcclxuXHJcbmV4cG9ydCB0eXBlIFVuaWZvcm1JbmZvID0geyBuYW1lOiBzdHJpbmc7IG9uUmVuZGVyOiAoKSA9PiB2b2lkIH0gJiAoXHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI7XHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIHwge1xyXG4gICAgICB0eXBlOiBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzO1xyXG4gICAgICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMyB8IENvbG9yMykgPT4gdm9pZDtcclxuICAgIH1cclxuICB8IHtcclxuICAgICAgdHlwZTogVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDtcclxuICAgICAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjQgfCBDb2xvcjQpID0+IHZvaWQ7XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IFVuaWZvcm1UeXBlLlNBTVBMRVJfMkQ7XHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiB7IHNsb3Q6IG51bWJlcjsgdGV4dHVyZURhdGE6IGJvb2xlYW4gfSkgPT4gdm9pZDtcclxuICAgIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVbmlmb3JtU2V0dGVyID0gKFxyXG4gIHR5cGU6IFVuaWZvcm1UeXBlLFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBsb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb25cclxuKTogKCh2YWx1ZTogYW55KSA9PiB2b2lkKSA9PiB7XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjIpID0+IGNvbnRleHQudW5pZm9ybTJmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjMpID0+IGNvbnRleHQudW5pZm9ybTNmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IFZlY3RvcjQpID0+IGNvbnRleHQudW5pZm9ybTRmKGxvY2F0aW9uLCAuLi52YWx1ZSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLlNBTVBMRVJfMkQ6XHJcbiAgICAgIHJldHVybiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlRGF0YTogYm9vbGVhbiB9KSA9PiB7XHJcbiAgICAgICAgLy9jb250ZXh0LnRleGkodmFsdWUuc2xvdCk7XHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcih0eXBlKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVVbmlmb3JtSW5mb3MgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pOiBVbmlmb3JtSW5mb1tdID0+IHtcclxuICBjb25zdCBudW1Vbmlmb3JtcyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9VTklGT1JNU1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdDogVW5pZm9ybUluZm9bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtVW5pZm9ybXM7ICsraW5kZXgpIHtcclxuICAgIGNvbnN0IHVuaWZvcm0gPSBjb250ZXh0LmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSBjb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB1bmlmb3JtLm5hbWUpO1xyXG4gICAgY29uc3Qgc2V0dGVyID0gZ2V0VW5pZm9ybVNldHRlcih1bmlmb3JtLnR5cGUsIGNvbnRleHQsIGxvY2F0aW9uKTtcclxuICAgIGxldCBjdXJyZW50VmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBvblJlbmRlciA9ICgpID0+IHNldHRlcihjdXJyZW50VmFsdWUpO1xyXG5cclxuICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgbmFtZTogdW5pZm9ybS5uYW1lLFxyXG4gICAgICB0eXBlOiB1bmlmb3JtLnR5cGUsXHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiB1bmtub3duKSA9PiAoY3VycmVudFZhbHVlID0gdmFsdWUpLFxyXG4gICAgICBvblJlbmRlcixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuIiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVEcm9wZG93biA9IChcclxuICAvL2luaXRpYWxWYWx1ZTogRHJvcGRvd25JdGVtIHwgbnVsbCxcclxuICBvbkNoYW5nZTogKGl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwpID0+IHZvaWQsXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nLFxyXG4gIG9wdGlvbnM/OiB7IGVtcHR5SXRlbTogYm9vbGVhbiB9IC8vcGxhY2Vob2xkZXJcclxuKTogW1xyXG4gICAgSFRNTFNlbGVjdEVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgICBnZXRJdGVtczogKCkgPT4gRHJvcGRvd25JdGVtW107XHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgICBnZXRTZWxlY3RlZEl0ZW06ICgpID0+IERyb3Bkb3duSXRlbSB8IG51bGw7XHJcbiAgICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4gIF0gPT4ge1xyXG4gIGNvbnN0IGNvbWJpbmVkT3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGBkcm9wZG93bi1iYXNlICR7Y2xhc3NOYW1lfWA7XHJcblxyXG4gIGxldCBzZWxlY3RlZEl0ZW06IERyb3Bkb3duSXRlbSB8IG51bGwgPSBudWxsO1xyXG4gIGxldCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTE9wdGlvbkVsZW1lbnQ7IGl0ZW06IERyb3Bkb3duSXRlbSB9W10gPSBbXTtcclxuICBjb25zdCBzZXRTZWxlY3RlZEl0ZW0gPSAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4ge1xyXG4gICAgc2VsZWN0ZWRJdGVtID0gaXRlbTtcclxuICAgIG9uQ2hhbmdlKHNlbGVjdGVkSXRlbSk7XHJcbiAgfTtcclxuXHJcbiAgZWxlbWVudC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGZvdW5kRWxlbWVudCA9IGl0ZW1FbGVtZW50cy5maW5kKChlKSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKChpKSA9PiBpLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkKSkge1xyXG4gICAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3SXRlbXMgPSBjb21iaW5lZE9wdGlvbnMuZW1wdHlJdGVtID8gW3sgaWQ6IFwiXCIsIGRpc3BsYXk6IFwiXCIgfSwgLi4uaXRlbXNdIDogWy4uLml0ZW1zXTtcclxuICAgIG5ld0l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbS5kaXNwbGF5O1xyXG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSBpdGVtLmlkID09PSBzZWxlY3RlZEl0ZW0/LmlkO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgIGl0ZW1FbGVtZW50cy5wdXNoKHsgZWxlbWVudDogb3B0aW9uLCBpdGVtIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbXMgPSAoKSA9PiBpdGVtRWxlbWVudHMubWFwKChpZSkgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaCgoaWUpID0+IHtcclxuICAgICAgaWYgKGllLml0ZW0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaWUuZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKGllLml0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlKSk7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGVsZW1lbnQsXHJcbiAgICB7XHJcbiAgICAgIHNldEl0ZW1zLFxyXG4gICAgICBnZXRJdGVtcyxcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtQnlJZCxcclxuICAgICAgZ2V0U2VsZWN0ZWRJdGVtLFxyXG4gICAgICBjbGVhclNlbGVjdGlvbixcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcblxyXG4vL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNQcm9wZXJ0eSA9IDxUIGV4dGVuZHMge30sIFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXHJcbiAgb2JqOiBULFxyXG4gIHByb3A6IFBcclxuKTogb2JqIGlzIFQgJiBSZWNvcmQ8UCwgdW5rbm93bj4gPT4ge1xyXG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkocHJvcCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXNzZXJ0TmV2ZXIgPSAodmFsdWU6IG5ldmVyKTogbmV2ZXIgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIHVuaW9uIG1lbWJlcjogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XHJcbn07XHJcbiIsImltcG9ydCB7IHJlbW92ZSwgdXVpZHY0IH0gZnJvbSAnLi8uLi91dGlscyc7XHJcbmRlY2xhcmUgY29uc3QgYWNxdWlyZVZzQ29kZUFwaTogKCkgPT4ge1xyXG4gIC8vZ2V0U3RhdGU6ICgpID0+IGFueTtcclxuICAvL3NldFN0YXRlOiAoc3RhdGU6IGFueSkgPT4gdm9pZDtcclxuICBwb3N0TWVzc2FnZTogKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlcXVlc3QpID0+IHZvaWQ7XHJcbn07XHJcbmV4cG9ydCBjb25zdCB2c2NvZGVBcGkgPSBhY3F1aXJlVnNDb2RlQXBpKCk7XHJcblxyXG5leHBvcnQgdHlwZSBWc0NvZGVBcGlQcm94eU1lc3NhZ2VSZXF1ZXN0ID1cclxuICB8IHsgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIiwgaWQ6IHN0cmluZywgfVxyXG4gIHwgeyB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLCBpZDogc3RyaW5nLCBwYXlsb2FkOiB7IGZpbGVOYW1lOiBzdHJpbmcgfSB9XHJcbiAgfCB7IHR5cGU6IFwic3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfVxyXG4gIHwgeyB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlTmFtZTogc3RyaW5nIH0gfTtcclxuXHJcbmV4cG9ydCB0eXBlIFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlID0ge1xyXG4gIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCI7XHJcbiAgaWQ6IHN0cmluZyxcclxuICBwYXlsb2FkOiB7IGZpbGVzOiB7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmcgfVtdIH07XHJcbn0gfFxyXG57IHR5cGU6IFwiZ2V0RG9jdW1lbnRUZXh0XCIsIGlkOiBzdHJpbmcsIHBheWxvYWQ6IHsgZmlsZU5hbWU6IHN0cmluZywgdGV4dDogc3RyaW5nIH0gfSB8XHJcbnsgdHlwZTogXCJvbkRvY3VtZW50VGV4dENoYW5nZVwiLCBwYXlsb2FkOiB7IGZpbGVQYXRoOiBzdHJpbmcsIHRleHQ6IHN0cmluZyB9IH1cclxuXHJcbmV4cG9ydCB0eXBlIFVuc3Vic2NyaWJlID0gKCkgPT4gdm9pZDtcclxuXHJcbnR5cGUgUHJveHlSZXNwb25zZUxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZzQ29kZUFwaVByb3h5IHtcclxuICBldmVudExpc3RlbmVyczogUHJveHlSZXNwb25zZUxpc3RlbmVyW10gPSBbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKGV2ZW50LmRhdGEpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2hhZGVyRG9jdW1lbnRzKCkge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXRTaGFkZXJEb2N1bWVudHNcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHsgZmlsZVBhdGg6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZyB9W10+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXRTaGFkZXJEb2N1bWVudHNcIiAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLmZpbGVzKTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldERvY3VtZW50VGV4dChmaWxlTmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSB1dWlkdjQoKTtcclxuXHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcImdldERvY3VtZW50VGV4dFwiLFxyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgICBwYXlsb2FkOiB7IGZpbGVOYW1lIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJnZXREb2N1bWVudFRleHRcIiAmJiBtZXNzYWdlLmlkID09PSBtZXNzYWdlSWQpIHtcclxuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoZmlsZVBhdGg6IHN0cmluZywgY2FsbGJhY2s6IChuZXdDb250ZW50OiBzdHJpbmcpID0+IHZvaWQpOiBVbnN1YnNjcmliZSB7XHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IFZzQ29kZUFwaVByb3h5TWVzc2FnZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwib25Eb2N1bWVudFRleHRDaGFuZ2VcIiAmJiBtZXNzYWdlLnBheWxvYWQuZmlsZVBhdGggPT09IGZpbGVQYXRoKSB7XHJcbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZS5wYXlsb2FkLnRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInVuc3Vic2NyaWJlVG9Eb2N1bWVudFRleHRDaGFuZ2VcIiwgcGF5bG9hZDogeyBmaWxlTmFtZTogZmlsZVBhdGggfSB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogUHJveHlSZXNwb25zZUxpc3RlbmVyKSB7XHJcbiAgICByZW1vdmUodGhpcy5ldmVudExpc3RlbmVycywgbGlzdGVuZXIpXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVGQUJ1dHRvbiA9IChcclxuICB0ZXh0OiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljaztcclxuICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgcmV0dXJuIHsgZWxlbWVudDogYnV0dG9uIH07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgdGV4dDogc3RyaW5nXHJcbikgPT4ge1xyXG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIHdyYXBwZXIuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVNdWx0aU51bWJlcklucHV0ID0gPFQgZXh0ZW5kcyBudW1iZXJbXT4oXHJcbiAgaW5pdGlhbFZhbHVlOiBULFxyXG4gIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsXHJcbiAgcm93czogbnVtYmVyLFxyXG4gIGNvbHVtbnM6IG51bWJlcixcclxuICBpbnB1dE9wdGlvbnM/OiBQYXJ0aWFsPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IFQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGlucHV0R3JpZC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtZ3JpZFwiO1xyXG5cclxuICBjb25zdCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTElucHV0RWxlbWVudDsgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF07XHJcbiAgICAgIGllLmVsZW1lbnQudmFsdWUgPSBpZS52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcCgoaWUpID0+IGllLnZhbHVlKSBhcyBUO1xyXG4gIGNvbnN0IHNldFJlYWRvbmx5ID0gKHJlYWRvbmx5OiBib29sZWFuKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllKSA9PiAoaWUuZWxlbWVudC5yZWFkT25seSA9IHJlYWRvbmx5KSk7XHJcblxyXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKSB7XHJcbiAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dFJvdy5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtcm93XCI7XHJcblxyXG4gICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgY29sdW1uczsgY29sdW1uKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSByb3cgKiBjb2x1bW5zICsgY29sdW1uO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGluaXRpYWxWYWx1ZVtpbmRleF07XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICBjb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5wdXQsIGlucHV0T3B0aW9ucyk7XHJcbiAgICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gICAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZT8udG9TdHJpbmcoKTtcclxuICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBpdGVtRWxlbWVudHNbaW5kZXhdLnZhbHVlID0gTnVtYmVyKGlucHV0LnZhbHVlKTtcclxuICAgICAgICBvbkNoYW5nZT8uKGdldFZhbHVlcygpKTtcclxuICAgICAgfTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goaXRlbUVsZW1lbnQpO1xyXG4gICAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRHcmlkLmFwcGVuZENoaWxkKGlucHV0Um93KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBpbnB1dEdyaWQsXHJcbiAgICB7XHJcbiAgICAgIHNldFZhbHVlcyxcclxuICAgICAgZ2V0VmFsdWVzLFxyXG4gICAgICBzZXRSZWFkb25seSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIE1hdHJpeDMgPSBbXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXIsXHJcbiAgbnVtYmVyLFxyXG4gIG51bWJlcixcclxuICBudW1iZXJcclxuXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hdHJpeDMgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IE1hdHJpeDMpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxNYXRyaXgzPihbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sIG9uQ2hhbmdlLCAzLCAzKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjIgPSBbbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMiA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjI+KFswLCAwXSwgb25DaGFuZ2UsIDEsIDIpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjMgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjMpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3IzPihbMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCAzKTtcclxuXHJcbmV4cG9ydCB0eXBlIFZlY3RvcjQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZlY3RvcjQgPSAob25DaGFuZ2U/OiAobmV3VmFsdWU6IFZlY3RvcjQpID0+IHZvaWQpID0+XHJcbiAgY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxWZWN0b3I0PihbMCwgMCwgMCwgMF0sIG9uQ2hhbmdlLCAxLCA0KTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZURpdiA9IChjbGFzc05hbWU6IHN0cmluZywgY2hpbGRyZW4/OiBIVE1MRWxlbWVudFtdKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNoaWxkcmVuPy5mb3JFYWNoKChjKSA9PiBkaXYuYXBwZW5kQ2hpbGQoYykpO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcbiIsImltcG9ydCB7IGNyZWF0ZURpdiB9IGZyb20gXCIuL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vZWRpdFZlY3RvcjNcIjtcclxuXHJcbmNvbnN0IGNvbG9ySW5wdXRQcm9wcyA9IHtcclxuICBtaW46IFwiMFwiLFxyXG4gIG1heDogXCIxXCIsXHJcbiAgc3RlcDogXCIwLjFcIixcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3I0ID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjQpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNSwgMV0gYXMgQ29sb3I0O1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwke2NvbG9yWzNdfSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yNCkgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjQ+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICA0LFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3I0KSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbG9yMyA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbG9yMyA9IChcclxuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogQ29sb3IzKSA9PiB2b2lkXHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB2b2lkO1xyXG4gICAgc2V0UmVhZG9ubHk6IChyZWFkb25seTogYm9vbGVhbikgPT4gdm9pZDtcclxuICAgIGdldFZhbHVlczogKCkgPT4gQ29sb3IzO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgaW5pdGlhbFZhbHVlID0gWzAuNSwgMC41LCAwLjVdIGFzIENvbG9yMztcclxuICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29sb3JEaXYuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0LWNvbG9yXCI7XHJcbiAgY29uc3Qgc2V0Q29sb3IgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgY29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZCA9IGByZ2IoJHtjb2xvclswXSAqIDI1NX0sJHtjb2xvclsxXSAqIDI1NX0sJHtcclxuICAgICAgY29sb3JbMl0gKiAyNTVcclxuICAgIH0sMSlgO1xyXG4gIH07XHJcblxyXG4gIHNldENvbG9yKGluaXRpYWxWYWx1ZSk7XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlSW50ZXJuYWwgPSAoY29sb3I6IENvbG9yMykgPT4ge1xyXG4gICAgc2V0Q29sb3IoY29sb3IpO1xyXG4gICAgb25DaGFuZ2U/Lihjb2xvcik7XHJcbiAgfTtcclxuICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVEaXYoXCJyb3ctd2l0aC1nYXBcIik7XHJcbiAgY29uc3QgW2VsZW1lbnQsIGNvbnRyb2xsZXJdID0gY3JlYXRlTXVsdGlOdW1iZXJJbnB1dDxDb2xvcjM+KFxyXG4gICAgaW5pdGlhbFZhbHVlLFxyXG4gICAgb25DaGFuZ2VJbnRlcm5hbCxcclxuICAgIDEsXHJcbiAgICAzLFxyXG4gICAgY29sb3JJbnB1dFByb3BzXHJcbiAgKTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yRGl2KTtcclxuICByZXR1cm4gW1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAge1xyXG4gICAgICAuLi5jb250cm9sbGVyLFxyXG4gICAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogQ29sb3IzKSA9PiB7XHJcbiAgICAgICAgY29udHJvbGxlci5zZXRWYWx1ZXModmFsdWUpO1xyXG4gICAgICAgIHNldENvbG9yKHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXTtcclxufTtcclxuIiwiaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tIFwiLi8uLi8uLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBWZWN0b3IzLCBWZWN0b3I0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZWRpdFZlY3RvcjNcIjtcclxuZXhwb3J0IGVudW0gQXR0cmlidXRlQnVmZmVyVHlwZSB7XHJcbiAgRkxPQVRfVkVDMyA9IDM1NjY1LFxyXG4gIEZMT0FUX1ZFQzQgPSAzNTY2NixcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQXR0cmlidXRlQnVmZmVySW5mbyA9IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgb25SZW5kZXI6ICgpID0+IHZvaWQ7XHJcbn0gJiAoXHJcbiAgfCB7XHJcbiAgICAgIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMztcclxuICAgICAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZDtcclxuICAgIH1cclxuICB8IHtcclxuICAgICAgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0O1xyXG4gICAgICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNFtdKSA9PiB2b2lkO1xyXG4gICAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldE51bUNvbXBvbmVudHMgPSAoYnVmZmVyVHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSkgPT4ge1xyXG4gIHN3aXRjaCAoYnVmZmVyVHlwZSkge1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiAzO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiA0O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgYXNzZXJ0TmV2ZXIoYnVmZmVyVHlwZSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQXR0cmlidXRlQnVmZmVySW5mb3MgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1BdHRyaWJ1dGVCdWZmZXJzID0gY29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIGNvbnRleHQuQUNUSVZFX0FUVFJJQlVURVNcclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQ6IEF0dHJpYnV0ZUJ1ZmZlckluZm9bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtQXR0cmlidXRlQnVmZmVyczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgYXR0cmliID0gY29udGV4dC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaW5kZXgpO1xyXG4gICAgY29uc3QgbG9jYXRpb24gPSBjb250ZXh0LmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYi5uYW1lKTtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4gY29udGV4dC5kZWxldGVCdWZmZXIoYnVmZmVyKTtcclxuICAgIGNvbnN0IG51bUNvbXBvbmVudHMgPSBnZXROdW1Db21wb25lbnRzKGF0dHJpYi50eXBlKTtcclxuICAgIGNvbnN0IG9uUmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICBjb250ZXh0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcclxuICAgICAgY29udGV4dC5iaW5kQnVmZmVyKGNvbnRleHQuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xyXG4gICAgICBjb25zdCBzaXplID0gMjsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IGNvbnRleHQuRkxPQVQ7IC8vIHRoZSBkYXRhIGlzIDMyYml0IGZsb2F0c1xyXG4gICAgICBjb25zdCBub3JtYWxpemUgPSBmYWxzZTsgLy8gZG9uJ3Qgbm9ybWFsaXplIHRoZSBkYXRhXHJcbiAgICAgIGNvbnN0IHN0cmlkZSA9IDA7IC8vIDAgPSBtb3ZlIGZvcndhcmQgc2l6ZSAqIHNpemVvZih0eXBlKSBlYWNoIGl0ZXJhdGlvbiB0byBnZXQgdGhlIG5leHQgcG9zaXRpb25cclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gMDsgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYnVmZmVyXHJcbiAgICAgIGNvbnRleHQudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICBsb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICBuYW1lOiBhdHRyaWIubmFtZSxcclxuICAgICAgdHlwZTogYXR0cmliLnR5cGUsXHJcbiAgICAgIHVwZGF0ZTogKHZhbHVlOiBudW1iZXJbXVtdKSA9PiB7XHJcbiAgICAgICAgY29udGV4dC5iaW5kQnVmZmVyKGNvbnRleHQuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xyXG4gICAgICAgIGNvbnN0IGZsYXR0ZW4gPSBbXS5jb25jYXQoLi4udmFsdWUpO1xyXG4gICAgICAgIGNvbnRleHQuYnVmZmVyRGF0YShcclxuICAgICAgICAgIGNvbnRleHQuQVJSQVlfQlVGRkVSLFxyXG4gICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMC41LCAwLjcsIDBdKSxcclxuICAgICAgICAgIGNvbnRleHQuU1RBVElDX0RSQVdcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG4gICAgICBvblJlbmRlcixcclxuICAgICAgLy9kaXNwb3NlXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbiIsImltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZVZlY3RvcjIsXHJcbiAgY3JlYXRlVmVjdG9yMyxcclxuICBjcmVhdGVWZWN0b3I0LFxyXG4gIFZlY3RvcjIsXHJcbiAgVmVjdG9yMyxcclxuICBWZWN0b3I0LFxyXG59IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEcm9wZG93biB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUNvbG9yMywgY3JlYXRlQ29sb3I0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZWRpdENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtQ29tcG9uZW50ID0gKFxyXG4gIHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbyxcclxuICByZW5kZXI6ICgpID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby50eXBlKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMigodmFsdWUpID0+IHtcclxuICAgICAgICB1bmlmb3JtSW5mby51cGRhdGUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1Gb3JWZWMzKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHVuaWZvcm1JbmZvLnVwZGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdW5pZm9ybUluZm8udXBkYXRlKHZhbHVlKTtcclxuICAgICAgICByZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLlNBTVBMRVJfMkQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSgodmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50VXBkYXRlID0gdXVpZHY0KCk7XHJcbiAgICAgICAgLy9sb2FkIHdpdGggZGVib3VuY2UgPT4gdGhlblxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnVwZGF0ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybVNlbGVjdGlvbiA9IChlbGVtZW50czoge1xyXG4gIFtrZXk6IHN0cmluZ106IHsgZGlzcGxheTogc3RyaW5nOyBlbGVtZW50OiBIVE1MRWxlbWVudCB9O1xyXG59KSA9PiB7XHJcbiAgY29uc3QgW29wdGlvbnNFbGVtZW50LCBvcHRpb25zQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIChpdGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG5cclxuICAgICAgT2JqZWN0LnZhbHVlcyhlbGVtZW50cykuZm9yRWFjaCgob2UpID0+XHJcbiAgICAgICAgb2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBlbGVtZW50c1tpdGVtLmlkXS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICB9LFxyXG4gICAgXCJcIixcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRJdGVtcyhcclxuICAgIE9iamVjdC5lbnRyaWVzKGVsZW1lbnRzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcclxuICAgICAgaWQ6IGtleSxcclxuICAgICAgZGlzcGxheTogdmFsdWUuZGlzcGxheSxcclxuICAgIH0pKVxyXG4gICk7XHJcbiAgb3B0aW9uc0NvbnRyb2xsZXIuc2V0U2VsZWN0ZWRJdGVtQnlJZChcImN1c3RvbVwiKTtcclxuICByZXR1cm4gb3B0aW9uc0VsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVW5pZm9ybUZvclZlYzIgPSAodXBkYXRlOiAodmFsdWU6IFZlY3RvcjIpID0+IHZvaWQpID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IyKHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVVbmlmb3JtRm9yVGV4dHVyZSA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVTcmM6IHN0cmluZyB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjMoKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWM0ID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0KSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yNCh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjQodXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwLCAxXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlVW5pZm9ybVNlbGVjdGlvbih7XHJcbiAgICBjdXN0b206IHtcclxuICAgICAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICAgICAgZWxlbWVudDogY3VzdG9tRWxlbWVudCxcclxuICAgIH0sXHJcbiAgICBjb2xvcjoge1xyXG4gICAgICBkaXNwbGF5OiBcIkNvbG9yXCIsXHJcbiAgICAgIGVsZW1lbnQ6IGNvbG9yRWxlbWVudCxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjcmVhdGVEaXYoXCJjb2x1bW4td2l0aC1nYXBcIiwgW1xyXG4gICAgb3B0aW9uc0VsZW1lbnQsXHJcbiAgICBjdXN0b21FbGVtZW50LFxyXG4gICAgY29sb3JFbGVtZW50LFxyXG4gIF0pO1xyXG59O1xyXG4iLCJleHBvcnQgY2xhc3MgQ29tcG9zaXRlS2V5TWFwPFRLZXksIFRWYWx1ZT4ge1xyXG4gIHByaXZhdGUgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFRWYWx1ZT4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBrZXlTZWxlY3RvcjogKGNvbXBvc2l0ZUtleTogVEtleSkgPT4gc3RyaW5nKSB7fVxyXG5cclxuICBnZXQoa2V5OiBUS2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KHRoaXMua2V5U2VsZWN0b3Ioa2V5KSk7XHJcbiAgfVxyXG5cclxuICBzZXQoa2V5OiBUS2V5LCB2YWx1ZTogVFZhbHVlKSB7XHJcbiAgICB0aGlzLm1hcC5zZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMubWFwLmNsZWFyKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEF0dHJpYnV0ZUJ1ZmZlckluZm8sIEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSBmcm9tIFwiLi9hdHRyaWJ1dGVCdWZmZXJcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2VkaXRWZWN0b3IzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50ID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgcmVuZGVyOiAoKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIHN3aXRjaCAoYXR0cmlidXRlQnVmZmVySW5mby50eXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMygodmFsdWUpID0+IHtcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnVwZGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgcmVuZGVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzQoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVySW5mby51cGRhdGUodmFsdWUpO1xyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJOb3RTdXBwb3J0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyA9IChcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yM1tdKSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gIC8vY29uc3QgaXRlbUVsZW1lbnQgPSB7IGVsZW1lbnQ6IGlucHV0LCB2YWx1ZSB9O1xyXG4gIC8vT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoKGUpID0+XHJcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGUpID8gZS5sZW5ndGggPT09IDMgOiBmYWxzZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCF4eHgpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cGRhdGUocmVzdWx0KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBqc29uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vV3JvbmcgZm9ybWF0ISBTaG91bGQgYmUgW1t4MSx5MV0sIFt4Mix5Ml0sIC4uLl1cclxuICByZXR1cm4gaW5wdXQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcclxuICAgICAgY29uc29sZS5sb2coXCJyZXN1bHRcIiwgcmVzdWx0KTtcclxuXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHh4eCA9IHJlc3VsdC5ldmVyeSgoZSkgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gNCA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZXZlcnkgZWxlbWVudCBpZCB0aGUgYXJyYSBpcyBzYW1lIHNpemVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHVwZGF0ZShyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGpzb25cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBBdHRyaWJ1dGVCdWZmZXJUeXBlIH0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVW5pZm9ybUNvbXBvbmVudCB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL3VuaWZvcm1Db21wb25lbnRcIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4vY29tcG9zaXRlS2V5TWFwXCI7XHJcbmltcG9ydCB7IFNoYWRlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jcmVhdGVXZWJHTENhbnZhc1wiO1xyXG5pbXBvcnQgeyBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3dlYmdsX3V0aWxzL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50IH0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50XCI7XHJcblxyXG5jb25zdCB1bmlmb3Jtc0NhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfSxcclxuICBIVE1MRWxlbWVudFxyXG4+KChrZXkpID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuY29uc3QgYXR0cmlidXRlQnVmZmVyc0NhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9LFxyXG4gIEhUTUxFbGVtZW50XHJcbj4oKGtleSkgPT4gYCR7a2V5Lm5hbWV9OyR7a2V5LnR5cGV9YCk7XHJcblxyXG5leHBvcnQgY29uc3QgYXBwZW5kV2l0aFNoYWRlck9wdGlvbnMgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgc2hhZGVyQ29udHJvbGxlcjogU2hhZGVyQ29udHJvbGxlclxyXG4pID0+IHtcclxuICBjb25zdCB1bmlmb3JtRWxlbWVudHMgPSBzaGFkZXJDb250cm9sbGVyLnVuaWZvcm1zLm1hcCgodW5pZm9ybSkgPT4ge1xyXG4gICAgY29uc3QgY29tcG9uZW50RnJvbUNhY2hlID0gdW5pZm9ybXNDYWNoZS5nZXQoe1xyXG4gICAgICAuLi51bmlmb3JtLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGNvbXBvbmVudEZyb21DYWNoZSkge1xyXG4gICAgICByZXR1cm4gY29tcG9uZW50RnJvbUNhY2hlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZVVuaWZvcm1Db21wb25lbnQodW5pZm9ybSwgc2hhZGVyQ29udHJvbGxlci5yZW5kZXIpLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgdW5pZm9ybS5uYW1lXHJcbiAgICAgICk7XHJcbiAgICAgIHVuaWZvcm1zQ2FjaGUuc2V0KHsgLi4udW5pZm9ybSB9LCBjb21wb25lbnQpO1xyXG4gICAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtRWxlbWVudHMuZm9yRWFjaCgoZSkgPT4gZWxlbWVudC5hcHBlbmRDaGlsZChlKSk7XHJcblxyXG4gIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckVsZW1lbnRzID0gc2hhZGVyQ29udHJvbGxlci5hdHRyaWJ1dGVCdWZmZXJzLm1hcChcclxuICAgIChhdHRyaWJ1dGVCdWZmZXIpID0+IHtcclxuICAgICAgY29uc3QgY29tcG9uZW50RnJvbUNhY2hlID0gYXR0cmlidXRlQnVmZmVyc0NhY2hlLmdldCh7XHJcbiAgICAgICAgLi4uYXR0cmlidXRlQnVmZmVyLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChjb21wb25lbnRGcm9tQ2FjaGUpIHtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50RnJvbUNhY2hlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHdpdGhMYWJlbChcclxuICAgICAgICAgIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChcclxuICAgICAgICAgICAgYXR0cmlidXRlQnVmZmVyLFxyXG4gICAgICAgICAgICBzaGFkZXJDb250cm9sbGVyLnJlbmRlclxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXIubmFtZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyc0NhY2hlLnNldCh7IC4uLmF0dHJpYnV0ZUJ1ZmZlciB9LCBjb21wb25lbnQpO1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICBhdHRyaWJ1dGVCdWZmZXJFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlbGVtZW50LmFwcGVuZENoaWxkKGUpKTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXIgPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHR5cGU6IEdMZW51bSxcclxuICBzb3VyY2U6IHN0cmluZ1xyXG4pOiBXZWJHTFNoYWRlciB8IHsgZXJyb3I6IHN0cmluZyB9ID0+IHtcclxuICBjb25zdCBzaGFkZXIgPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LnNoYWRlclNvdXJjZShzaGFkZXIsIHNvdXJjZSk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHJlbmRlcmluZ0NvbnRleHQuZ2V0U2hhZGVyUGFyYW1ldGVyKFxyXG4gICAgc2hhZGVyLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5DT01QSUxFX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBzaGFkZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZXJyb3IsXHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9ncmFtID0gKFxyXG4gIHJlbmRlcmluZ0NvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLFxyXG4gIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlclxyXG4pID0+IHtcclxuICBjb25zdCBwcm9ncmFtID0gcmVuZGVyaW5nQ29udGV4dC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgcmVuZGVyaW5nQ29udGV4dC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxyXG4gICAgcHJvZ3JhbSxcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuTElOS19TVEFUVVNcclxuICApO1xyXG5cclxuICBpZiAocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYENyZWF0aW5nIHByb2dyYW0gZmFpbGVkOiAke3JlbmRlcmluZ0NvbnRleHQuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRWFzeUdMQXR0cmlidXRlQnVmZmVyIHt9XHJcblxyXG5leHBvcnQgY2xhc3MgRWFzeUdMVW5pZm9ybSB7fVxyXG5cclxuZXhwb3J0IGNsYXNzIEVhc3lHTFByb2dyYW0ge31cclxuIiwiaW1wb3J0IHtcclxuICBBdHRyaWJ1dGVCdWZmZXJJbmZvLFxyXG4gIGdlbmVyYXRlQXR0cmlidXRlQnVmZmVySW5mb3MsXHJcbn0gZnJvbSBcIi4vd2ViZ2xfdXRpbHMvYXR0cmlidXRlQnVmZmVyXCI7XHJcbmltcG9ydCB7IGhhc1Byb3BlcnR5LCByZW1vdmVMYXN0IH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2VuZXJhdGVVbmlmb3JtSW5mb3MsXHJcbiAgZ2V0VW5pZm9ybVNldHRlcixcclxuICBVbmlmb3JtSW5mbyxcclxufSBmcm9tIFwiLi93ZWJnbF91dGlscy91bmlmb3JtXCI7XHJcbmltcG9ydCB7IGNvbXBpbGVTaGFkZXIsIGNyZWF0ZVByb2dyYW0gfSBmcm9tIFwiLi93ZWJnbF91dGlscy91dGlsc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgQ29tcGlsZUVycm9ycyA9IFtcclxuICB2ZXJ0ZXhTaGFkZXJFcnJvcnM6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckVycm9yczogc3RyaW5nXHJcbl07XHJcblxyXG5leHBvcnQgdHlwZSBTaGFkZXJDb250cm9sbGVyID0ge1xyXG4gIHVuaWZvcm1zOiBVbmlmb3JtSW5mb1tdO1xyXG4gIGF0dHJpYnV0ZUJ1ZmZlcnM6IEF0dHJpYnV0ZUJ1ZmZlckluZm9bXTtcclxuICByZW5kZXI6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViR0xDYW52YXMgPSAoXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuKTogW1xyXG4gIEhUTUxDYW52YXNFbGVtZW50LFxyXG4gIHtcclxuICAgIGNvbXBpbGVTaGFkZXJzOiAoXHJcbiAgICAgIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICAgICAgZnJhZ21lbnRTaGFkZXJDb250ZW50OiBzdHJpbmdcclxuICAgICkgPT4gQ29tcGlsZUVycm9ycyB8IFNoYWRlckNvbnRyb2xsZXI7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gIGNhbnZhcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIik7XHJcblxyXG4gIGlmICghY29udGV4dCkge1xyXG4gICAgLy90b2RvIG1vdmUgdG8gZXJyb3JzXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHdlYmdsIGNvbnRleHRcIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb21waWxlU2hhZGVycyA9IChcclxuICAgIHZlcnRleFNoYWRlckNvbnRlbnQ6IHN0cmluZyxcclxuICAgIGZyYWdtZW50U2hhZGVyQ29udGVudDogc3RyaW5nXHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgICBjb250ZXh0LFxyXG4gICAgICBjb250ZXh0LlZFUlRFWF9TSEFERVIsXHJcbiAgICAgIHZlcnRleFNoYWRlckNvbnRlbnRcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKFxyXG4gICAgICBjb250ZXh0LFxyXG4gICAgICBjb250ZXh0LkZSQUdNRU5UX1NIQURFUixcclxuICAgICAgZnJhZ21lbnRTaGFkZXJDb250ZW50XHJcbiAgICApO1xyXG5cclxuICAgIGxldCB2ZXJ0ZXhFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgaWYgKGhhc1Byb3BlcnR5KHZlcnRleFNoYWRlciwgXCJlcnJvclwiKSkge1xyXG4gICAgICB2ZXJ0ZXhFcnJvciA9IHJlbW92ZUxhc3QodmVydGV4U2hhZGVyLmVycm9yLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZnJhZ21lbnRFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gICAgaWYgKGhhc1Byb3BlcnR5KGZyYWdtZW50U2hhZGVyLCBcImVycm9yXCIpKSB7XHJcbiAgICAgIGZyYWdtZW50RXJyb3IgPSByZW1vdmVMYXN0KGZyYWdtZW50U2hhZGVyLmVycm9yLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmVydGV4RXJyb3IgfHwgZnJhZ21lbnRFcnJvcikge1xyXG4gICAgICAvL3RvZG8gY2xlYW51cFxyXG4gICAgICByZXR1cm4gW3ZlcnRleEVycm9yLCBmcmFnbWVudEVycm9yXSBhcyBDb21waWxlRXJyb3JzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGNvbnRleHQsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgY29uc3QgdW5pZm9ybXMgPSBnZW5lcmF0ZVVuaWZvcm1JbmZvcyhjb250ZXh0LCBwcm9ncmFtKTtcclxuICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlcnMgPSBnZW5lcmF0ZUF0dHJpYnV0ZUJ1ZmZlckluZm9zKGNvbnRleHQsIHByb2dyYW0pO1xyXG5cclxuICAgIC8vZGVsZXRlIHNoYWRlcnNcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZW5kZXI6ICgpID0+IHtcclxuICAgICAgICAvL3dlYmdsVXRpbHMucmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShnbC5jYW52YXMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nXCIpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIC8vIFRlbGwgV2ViR0wgaG93IHRvIGNvbnZlcnQgZnJvbSBjbGlwIHNwYWNlIHRvIHBpeGVsc1xyXG4gICAgICAgIGNvbnRleHQudmlld3BvcnQoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIENsZWFyIHRoZSBjYW52YXNcclxuICAgICAgICBjb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgY29udGV4dC5jbGVhcihjb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAgICAgICB1bmlmb3Jtcy5mb3JFYWNoKCh1KSA9PiB1Lm9uUmVuZGVyKCkpO1xyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlcnMuZm9yRWFjaCgoYWIpID0+IGFiLm9uUmVuZGVyKCkpO1xyXG4gICAgICAgIGNvbnN0IHByaW1pdGl2ZVR5cGUgPSBjb250ZXh0LlRSSUFOR0xFUztcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gMztcclxuICAgICAgICBjb250ZXh0LmRyYXdBcnJheXMocHJpbWl0aXZlVHlwZSwgb2Zmc2V0LCBjb3VudCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVuaWZvcm1zLFxyXG4gICAgICBhdHRyaWJ1dGVCdWZmZXJzLFxyXG4gICAgfSBhcyBTaGFkZXJDb250cm9sbGVyO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBjYW52YXMsXHJcbiAgICB7XHJcbiAgICAgIGNvbXBpbGVTaGFkZXJzLFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyB0cmFuc2xhdGlvbnMgfSBmcm9tIFwiLi8uLi90cmFuc2xhdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IFVuc3Vic2NyaWJlLCBWc0NvZGVBcGlQcm94eSB9IGZyb20gXCIuL2NvbW11bmljYXRpb25Qcm94eVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVTZWN0aW9uVGl0bGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NyZWF0ZVNlY3Rpb25UaXRsZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVGQUJ1dHRvbiBhcyBjcmVhdGVCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2NyZWF0ZUZBQnV0dG9uXCI7XHJcbmltcG9ydCB7IHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgYXBwZW5kV2l0aFNoYWRlck9wdGlvbnMgYXMgdXBkYXRlU2hhZGVyT3B0aW9ucyB9IGZyb20gXCIuL3NoYWRlck9wdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRGl2IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21tb25cIjtcclxuaW1wb3J0IHtcclxuICBDb21waWxlRXJyb3JzLFxyXG4gIGNyZWF0ZVdlYkdMQ2FudmFzLFxyXG4gIFNoYWRlckNvbnRyb2xsZXIsXHJcbn0gZnJvbSBcIi4vY3JlYXRlV2ViR0xDYW52YXNcIjtcclxuXHJcbmNvbnN0IGNyZWF0ZVZpZXdlciA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCB2c2NvZGVBcGkgPSBuZXcgVnNDb2RlQXBpUHJveHkoKTtcclxuICBjb25zdCB2aWV3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdlclwiKTtcclxuICBjb25zdCB2aWV3ZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJDb21waWxhdGlvbkVycm9ycyA9IGNyZWF0ZURpdihcInZpZXdlci1jb250ZW50IHNoYWRlci1lcnJvcnNcIik7XHJcbiAgY29uc3QgW3dlYkdMQ2FudmFzLCB3ZWJHTENvbnRyb2xsZXJdID0gY3JlYXRlV2ViR0xDYW52YXMoXCJ2aWV3ZXItY29udGVudFwiKTtcclxuXHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHdlYkdMQ2FudmFzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQoc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh2aWV3ZXJPcHRpb25zKTtcclxuXHJcbiAgY29uc3Qgc2hvd0NvbnRlbnQgPSAoY29udGVudDogXCJjYW52YXNcIiB8IFwiZXJyb3JzXCIgfCBcIm5vbmVcIikgPT4ge1xyXG4gICAgd2ViR0xDYW52YXMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiY2FudmFzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImVycm9yc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogVW5zdWJzY3JpYmUgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlOiBVbnN1YnNjcmliZSB8IHVuZGVmaW5lZDtcclxuICBsZXQgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxldCBzZWxlY3RlZEZyYWdtZW50Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgY29uc3Qgb25TaGFkZXJDb250ZW50Q2hhbmdlZCA9ICgpID0+IHtcclxuICAgIHNoYWRlck9wdGlvbnMuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICBpZiAoc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQgJiYgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50KSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHdlYkdMQ29udHJvbGxlci5jb21waWxlU2hhZGVycyhcclxuICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQsXHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICBzaG93Q29udGVudChcImVycm9yc1wiKTtcclxuICAgICAgICBjb25zdCBbXHJcbiAgICAgICAgICB2ZXJ0ZXhTaGFkZXJFcnJvcnMsXHJcbiAgICAgICAgICBmcmFnbWVudFNoYWRlckVycm9ycyxcclxuICAgICAgICBdID0gcmVzdWx0IGFzIENvbXBpbGVFcnJvcnM7XHJcblxyXG4gICAgICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHZlcnRleFNoYWRlckVycm9ycykge1xyXG4gICAgICAgICAgZXJyb3JzLnB1c2goXCJWRVJURVggU0hBREVSOlwiLCB2ZXJ0ZXhTaGFkZXJFcnJvcnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZyYWdtZW50U2hhZGVyRXJyb3JzKSB7XHJcbiAgICAgICAgICBlcnJvcnMucHVzaChcIkZSQUdNRU5UIFNIQURFUjpcIiwgZnJhZ21lbnRTaGFkZXJFcnJvcnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuaW5uZXJUZXh0ID0gZXJyb3JzLmpvaW4oXCJcXHJcXG5cIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdXBkYXRlU2hhZGVyT3B0aW9ucyhzaGFkZXJPcHRpb25zLCByZXN1bHQgYXMgU2hhZGVyQ29udHJvbGxlcik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dDb250ZW50KFwibm9uZVwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgY3JlYXRlRGl2KFwidmlld2VyLXNoYWRlcnMtdGl0bGVcIiwgW1xyXG4gICAgICBjcmVhdGVTZWN0aW9uVGl0bGUodHJhbnNsYXRpb25zLnNoYWRlcnMsIFwiXCIpLmVsZW1lbnQsXHJcbiAgICAgIGNyZWF0ZUJ1dHRvbihcIlN5bmNcIiwgXCJ2aWV3ZXItcmVmcmVzaC1idXR0b25cIiwgKCkgPT4ge1xyXG4gICAgICAgIHZzY29kZUFwaS5nZXRTaGFkZXJEb2N1bWVudHMoKS50aGVuKChzZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZmlsZXMgPSBzZC5tYXAoKGYpID0+ICh7XHJcbiAgICAgICAgICAgIGlkOiBmLmZpbGVQYXRoLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBmLmZpbGVOYW1lLFxyXG4gICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgIHZlcnRleERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgICAgICBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhmaWxlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLmVsZW1lbnQsXHJcbiAgICBdKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFt2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIHZlcnRleERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIChuZXdWZXJ0ZXgpID0+IHtcclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlPy4oKTtcclxuXHJcbiAgICAgIGlmIChuZXdWZXJ0ZXgpIHtcclxuICAgICAgICBzZWxlY3RlZFZlcnRleEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2c2NvZGVBcGkuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdWZXJ0ZXguaWQsXHJcbiAgICAgICAgICAobmV3Q29udGVudCkgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFZlcnRleENvbnRlbnQgPSBuZXdDb250ZW50O1xyXG4gICAgICAgICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3VmVydGV4XHJcbiAgICAgICAgPyBhd2FpdCB2c2NvZGVBcGkuZ2V0RG9jdW1lbnRUZXh0KG5ld1ZlcnRleC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoXHJcbiAgICAgIHZlcnRleERyb3Bkb3duRWxlbWVudCxcclxuICAgICAgXCJ2aWV3ZXItdmVydGV4LXNoYWRlci1zZWxlY3RvclwiLFxyXG4gICAgICBcIlZlcnRleCBTaGFkZXJcIlxyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFtmcmFnbWVudERyb3Bkb3duRWxlbWVudCwgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oXHJcbiAgICBhc3luYyAobmV3RnJhZ21lbnQpID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2c2NvZGVBcGkuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdGcmFnbWVudC5pZCxcclxuICAgICAgICAgIChuZXdDb250ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3RnJhZ21lbnRcclxuICAgICAgICA/IGF3YWl0IHZzY29kZUFwaS5nZXREb2N1bWVudFRleHQobmV3RnJhZ21lbnQuaWQpXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBvblNoYWRlckNvbnRlbnRDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgKTtcclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKFxyXG4gICAgd2l0aExhYmVsKFxyXG4gICAgICBmcmFnbWVudERyb3Bkb3duRWxlbWVudCxcclxuICAgICAgXCJ2aWV3ZXItZnJhZ21lbnQtc2hhZGVyLXNlbGVjdG9yXCIsXHJcbiAgICAgIFwiRnJhZ21lbnQgU2hhZGVyXCJcclxuICAgIClcclxuICApO1xyXG5cclxuICB2aWV3ZXJPcHRpb25zLmFwcGVuZENoaWxkKHNoYWRlck9wdGlvbnMpO1xyXG59O1xyXG5cclxuY3JlYXRlVmlld2VyKCk7XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVTZWN0aW9uVGl0bGUgPSAodGV4dDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgZWxlbWVudC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IHNlY3Rpb24tdGl0bGVgO1xyXG4gIHJldHVybiB7IGVsZW1lbnQgfTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==