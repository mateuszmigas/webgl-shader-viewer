!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},i=function(e,t){return e.substring(0,e.length-t)},u=function(){function e(e){this.value=e,this.observers=[]}return e.prototype.attach=function(e){this.observers.push(e)},e.prototype.detach=function(e){o(this.observers,e)},e.prototype.setValue=function(e){this.value=e,this.notify()},e.prototype.getValue=function(){return this.value},e.prototype.notify=function(){if(null!==this.value){var e=this.value;this.observers.forEach((function(t){return t(e)}))}},e}(),a="SHADERS",c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},l={emptyItem:!0},f=function(e,t,n){var r=c(c({},l),n),o=document.createElement("select");o.className="dropdown-base "+t;var i=null,u=[],a=function(t){e(i=t)};o.onchange=function(){var e=u.find((function(e){return e.item.id===o.value}));e.item.id?a(e.item):a(null)};var f=function(e){a(null),u.forEach((function(t){t.item.id===e?(t.element.selected=!0,a(t.item)):t.element.selected=!1}))};return[o,{setItems:function(e){o.innerHTML="",u.length=0,e.find((function(e){return e.id===(null==i?void 0:i.id)}))||a(null),(r.emptyItem?s([{id:"",display:""}],e):s(e)).forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.display,t.selected=e.id===(null==i?void 0:i.id),o.appendChild(t),u.push({element:t,item:e})}))},getItems:function(){return u.map((function(e){return e.item}))},setSelectedItemById:f,setSelectedItemByIndex:function(e){return f(u[e].item.id)},getSelectedItem:function(){return i},clearSelection:function(){u.forEach((function(e){return e.element.selected=!1})),a(null)}}]},p=function(e,t){var n=f((function(n){n?(e.forEach((function(e){return e.element.classList.add("hidden")})),e.find((function(e){return e.id===n.id})).element.classList.remove("hidden"),null==t||t(n.id)):null==t||t(null)}),"",{emptyItem:!1}),r=n[0],o=n[1];return o.setItems(e.map((function(e){return{id:e.id,display:e.display}}))),o.setSelectedItemByIndex(0),r},d=function(e){return{id:"custom",display:"Custom",element:e}},h=function(e,t,n){var r=document.createElement("button");return r.onclick=n,r.className=t,r.textContent=e,{element:r}},m=function(e,t,n){var r=document.createElement("div");r.className=(null!=n?n:"")+" options-wrapper";var o=document.createElement("label");return o.className="options-label",o.textContent=t,e.className=e.className+" options-content",r.appendChild(o),r.appendChild(e),r},v=function(e,t){var n=document.createElement("div");return n.className=e,null==t||t.forEach((function(e){return n.appendChild(e)})),n},y=function(e,t,n,r,o){var i=document.createElement("div");i.className="edit-input-grid";for(var u=[],a=function(){return u.map((function(e){return e.value}))},c=0;c<n;c++){var s=document.createElement("div");s.className="edit-input-row";for(var l=function(n){var i=c*r+n,l=e[i],f=document.createElement("input"),p={element:f,value:l};Object.assign(f,o),f.className="edit-input",f.type="number",f.value=null==l?void 0:l.toString(),f.oninput=function(){u[i].value=Number(f.value),null==t||t(a())},u.push(p),s.appendChild(f)},f=0;f<r;f++)l(f);i.appendChild(s)}return[i,{setValues:function(e){return u.forEach((function(t,n){t.value=e[n],t.element.value=t.value.toString()}))},getValues:a,setReadonly:function(e){return u.forEach((function(t){return t.element.readOnly=e}))}}]},g=function(e){return y([0,0,0],e,1,3)},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},E={min:"0",max:"1",step:"0.1"},x=function(e,t){return e.hasOwnProperty(t)},A=function(e){throw new Error("Unhandled union member: "+JSON.stringify(e))},T=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r};!function(e){e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(r||(r={}));var w,C=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.attachToProgram(t)}return e.prototype.attachToProgram=function(e){var t=this.context.getUniformLocation(e,this.name);this.setter=S(this.type,this.context,t)},e.prototype.setValue=function(e){this.value=e},e.prototype.setUniform=function(){null!==this.value&&this.setter(this.value)},e.prototype.getUniformType=function(){return this.type},e.prototype.dispose=function(){},e}(),S=function(e,t,n){switch(e){case r.FLOAT_VEC2:return function(e){return t.uniform2f.apply(t,T([n],e))};case r.FLOAT_VEC3:return function(e){return t.uniform3f.apply(t,T([n],e))};case r.FLOAT_VEC4:return function(e){return t.uniform4f.apply(t,T([n],e))};case r.SAMPLER_2D:return function(e){};default:A(e)}},V=function(){function e(e){this.keySelector=e,this.map=new Map}return e.prototype.get=function(e){return this.map.get(this.keySelector(e))},e.prototype.set=function(e,t){this.map.set(this.keySelector(e),t)},e.prototype.has=function(e){return this.map.has(this.keySelector(e))},e.prototype.entriesStrKey=function(){return Array.from(this.map.entries())},e.prototype.deleteStrKey=function(e){this.map.delete(e)},e.prototype.delete=function(e){this.map.delete(this.keySelector(e))},e.prototype.clear=function(){this.map.clear()},e}(),O=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=new V((function(e){return e.name+";"+e.type})),I=function(e){switch(e.getUniformType()){case r.FLOAT_VEC2:return F((function(t){return e.setValue(t)}));case r.FLOAT_VEC3:return B((function(t){return e.setValue(t)}));case r.FLOAT_VEC4:var t=[1,0,0,1];return e.setValue(t),R(t,(function(t){return e.setValue(t)}));case r.SAMPLER_2D:return N((function(t){O();e.setValue({slot:t.slot,textureData:!0})}));default:return P()}},P=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported uniform",e},F=function(e){var t=y([0,0],e,1,2),n=t[0];return t[1].setValues([0,0]),n},N=function(e){var t=g(),n=t[0];return t[1].setValues([0,0,0]),n},B=function(e){var t=g(e),n=t[0];t[1].setValues([0,0,0]);var r=function(e){var t=[.5,.5,.5],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+",1)"};r(t);var o=v("row-with-gap"),i=y(t,(function(t){r(t),null==e||e(t)}),1,3,E),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,b(b({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(e),o=r[0];r[1].setValues([1,0,0]);var i=p([{id:"custom",display:"Custom",element:n},{id:"color",display:"Color",element:o}]);return v("column-with-gap",[i,n,o])},R=function(e,t){var n=y([0,0,0,0],t,1,4),r=n[0];n[1].setValues(e);var o=function(e){var t=[.5,.5,.5,1],n=document.createElement("div");n.className="edit-input-color";var r=function(e){n.style.background="rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+","+e[3]+")"};r(t);var o=v("row-with-gap"),i=y(t,(function(t){r(t),null==e||e(t)}),1,4,E),u=i[0],a=i[1];return o.appendChild(u),o.appendChild(n),[o,b(b({},a),{setValues:function(e){a.setValues(e),r(e)}})]}(t),i=o[0];o[1].setValues(e);var u=p([{id:"custom",display:"Custom",element:r},{id:"color",display:"Color",element:i}]);return v("column-with-gap",[u,r,i])},D=function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var o=e.getShaderInfoLog(r);return e.deleteShader(r),{error:o}},M=function(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;throw e.deleteProgram(r),new Error("Creating program failed: "+e.getProgramInfoLog(r))};!function(e){e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4"}(w||(w={}));var k=function(){function e(e,t,n,r){this.context=e,this.name=n,this.type=r,this.numElements=0,this.attachToProgram(t),this.buffer=e.createBuffer()}return e.prototype.attachToProgram=function(e){this.location=this.context.getAttribLocation(e,this.name)},e.prototype.setValue=function(e){this.numElements=e.length,this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var t=[].concat.apply([],e);console.log("setting value",t),this.context.bufferData(this.context.ARRAY_BUFFER,new Float32Array(t),this.context.STATIC_DRAW)},e.prototype.setAttributeBuffer=function(){if(null!==this.buffer){this.context.enableVertexAttribArray(this.location),this.context.bindBuffer(this.context.ARRAY_BUFFER,this.buffer);var e=j(this.type),t=this.context.FLOAT;this.context.vertexAttribPointer(this.location,e,t,!1,0,0)}},e.prototype.getAttributeBufferType=function(){return this.type},e.prototype.getNumElements=function(){return this.numElements},e.prototype.deleteBuffer=function(){this.context.deleteBuffer(this.buffer),this.buffer=null},e}(),j=function(e){switch(e){case w.FLOAT_VEC3:return 3;case w.FLOAT_VEC4:return 4;default:A(e)}},U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r},K=function(e){return e.name+";"+e.type},G=new V(K),J=function(e,t,n,r){var o,i,u=n.map((function(n){var o=U({},n),i=G.get(o);if(i)return i.attributeBufferInfo.attachToProgram(t),{key:o,value:i};var u=new k(e,t,n.name,n.type),a=Y(u.getAttributeBufferType(),!0,(function(e){return u.setValue(e)})),c=r.filter((function(e){return e.type===u.getAttributeBufferType()})),s=c.length?z(u,c):{element:a,unsubscribe:void 0},l=s.element,f=s.unsubscribe;return{key:o,value:{component:m(l,n.name),attributeBufferInfo:u,dispose:function(){u.deleteBuffer(),null==f||f()}}}}));return i=(o=u).map((function(e){return K(e.key)})),G.entriesStrKey().filter((function(e){return!i.includes(e[0])})).forEach((function(e){e[1].dispose(),G.deleteStrKey(e[0])})),o.forEach((function(e){G.has(e.key)||G.set(e.key,e.value)})),u.map((function(e){return e.value}))},Y=function(e,t,n){switch(e){case w.FLOAT_VEC3:return X(n,t);case w.FLOAT_VEC4:var r=[[0,0,0,1],[0,.5,0,1],[.9,0,0,1],[0,.5,0,1],[.7,0,0,1],[.7,.5,0,1]];return n(r),W(r,n,t);default:return q()}},q=function(){var e=document.createElement("div");return e.className="unsupported-error",e.innerText="Not supported attribute buffer",e},z=function(e,t){var n=t.map((function(t){var n=Y(e.getAttributeBufferType(),!1,(function(t){return e.setValue(t)}));return{id:O(),element:n,display:t.name,value:t.value}})),r=null,o=Y(e.getAttributeBufferType(),!1,(function(t){r=t,e.setValue(t)})),i=void 0;return{element:v("column-with-gap",H([p(H([d(o)],n),(function(t){null==i||i();var o=n.find((function(e){return e.id===t}));if(o){var u=function(t){return e.setValue(t)};o.value.attach(u),u(o.value.getValue()),i=function(){return o.value.detach(u)}}else e.setValue(r)})),o],n.map((function(e){return e.element})))),unsubscribe:function(){return i()}}},X=function(e,t){var n=document.createElement("input");return n.className="edit-input",n.disabled=!t,n.oninput=function(){try{var t=JSON.parse(n.value);if(console.log("result",t),Array.isArray(t))t.every((function(e){return!!Array.isArray(e)&&3===e.length}))||console.log("not every element id the arra is same size");else console.log("this is not an array type");e(t)}catch(e){console.log("this is not a json")}},n},W=function(e,t,n){var r=document.createElement("input");r.className="edit-input",r.disabled=!n,r.value=JSON.stringify(e);return r.oninput=function(){try{var e=JSON.parse(r.value);if(Array.isArray(e))e.every((function(e){return!!Array.isArray(e)&&4===e.length}));else;e,t(e)}catch(e){console.log("this is not a json")}},r},Q=function(e){var t=document.createElement("canvas");t.className=e;var n,r,o=t.getContext("webgl");if(n=t,r=function(e){t.width=e.width,t.height=e.height},new ResizeObserver((function(e){var t=e.find((function(e){return e.target===n}));if(t){var o=t.target.getBoundingClientRect();r({x:o.x,y:o.y,width:o.width,height:o.height})}})).observe(n),!o)throw new Error("Unable to create webgl context");return[t,{context:o}]},Z=acquireVsCodeApi(),$=function(){function e(){var e=this;this.eventListeners=[],window.addEventListener("message",(function(t){e.eventListeners.forEach((function(e){return e(t.data)}))}))}return e.prototype.getShaderDocuments=function(){var e=this,t=O();return Z.postMessage({type:"getShaderDocuments",id:t}),new Promise((function(n){var r=function(o){"getShaderDocuments"===o.type&&o.id===t&&(n(o.payload.files),e.removeListener(r))};e.eventListeners.push(r)}))},e.prototype.getDocumentText=function(e){var t=this,n=O();return Z.postMessage({type:"getDocumentText",id:n,payload:{fileName:e}}),new Promise((function(e){var r=function(o){"getDocumentText"===o.type&&o.id===n&&(e(o.payload.text),t.removeListener(r))};t.eventListeners.push(r)}))},e.prototype.subscribeToDocumentSave=function(e,t){var n=this;Z.postMessage({type:"subscribeToDocumentTextChange",payload:{fileName:e}});var r=function(n){"onDocumentTextChange"===n.type&&n.payload.filePath===e&&t(n.payload.text)};return this.eventListeners.push(r),function(){n.removeListener(r),Z.postMessage({type:"unsubscribeToDocumentTextChange",payload:{fileName:e}})}},e.prototype.removeListener=function(e){o(this.eventListeners,e)},e}(),ee=[{id:"cube",display:"Cube"},{id:"sphere",display:"Sphere"}],te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};te(void 0,void 0,void 0,(function(){var e,t,n,r,o,c,s,l,p,d,y,g,b,E,A,T,S,V,O,P,F,N,B,R,k;return ne(this,(function(j){var U,H,K;return e=[{name:"Binding - Cube normals",type:w.FLOAT_VEC4,value:new u([1,2,3,4])},{name:"Binding - Cube tangents",type:w.FLOAT_VEC4,value:new u([1,2,3,4])}],t=new $,n=document.getElementById("viewer"),r=v("viewer-options"),o=v("viewer-shader-options"),c=v("viewer-content shader-errors"),s=Q("viewer-content"),l=s[0],p=s[1],n.appendChild(l),n.appendChild(c),n.appendChild(r),d=function(e){l.style.visibility="canvas"===e?"visible":"collapse",c.style.visibility="errors"===e?"visible":"collapse"},y=function(){t.getShaderDocuments().then((function(e){var t=e.map((function(e){return{id:e.filePath,display:e.fileName}}));P.setItems(t),B.setItems(t)}))},T=null,S=function(){o.innerHTML="";var t=p.context;if(A&&E){var n=function(e,t,n){var r=D(e,e.VERTEX_SHADER,t),o=D(e,e.FRAGMENT_SHADER,n),u=void 0;x(r,"error")&&(u=i(r.error,1));var a=void 0;return x(o,"error")&&(a=i(o.error,1)),u||a?[u,a]:M(e,r,o)}(t,E,A);if(Array.isArray(n))d("errors"),c.innerText=function(e){var t=e[0],n=e[1],r=[];return t&&r.push("VERTEX SHADER:",t),n&&r.push("FRAGMENT SHADER:",n),r.join("\r\n")}(n);else{d("canvas");var r=n,u=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],o=0;o<n;++o){var i=e.getActiveUniform(t,o);r.push({name:i.name,type:i.type})}return r}(t,r),a=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],o=0;o<n;++o){var i=e.getActiveAttrib(t,o);r.push({name:i.name,type:i.type})}return r}(t,r),s=function(e,t,n){var r=n.map((function(n){var r=L({},n),o=_.get(r);if(o)return o.uniformInfo.attachToProgram(t),{key:r,value:o};var i=new C(e,t,n.name,n.type);return{key:r,value:{component:m(I(i),n.name),uniformInfo:i}}}));return _.clear(),r.forEach((function(e){return _.set(e.key,e.value)})),r.map((function(e){return e.value}))}(t,r,u);s.forEach((function(e){return o.appendChild(e.component)}));var l=J(t,r,a,e);l.forEach((function(e){return o.appendChild(e.component)}));var f=s.map((function(e){return e.uniformInfo})),h=l.map((function(e){return e.attributeBufferInfo}));null!==T&&cancelAnimationFrame(T);var v=function(){!function(e,t,n){e.useProgram(t),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n.uniformInfos.forEach((function(e){return e.setUniform()})),n.attributeBufferInfos.forEach((function(e){return e.setAttributeBuffer()}));var r=Math.min.apply(Math,n.attributeBufferInfos.map((function(e){return e.getNumElements()}))),o=e.TRIANGLES;console.log("drawing",r),e.drawArrays(o,0,r)}(t,r,{uniformInfos:f,attributeBufferInfos:h}),T=requestAnimationFrame(v)};v()}}else d("none")},r.appendChild(v("viewer-shaders-title",[(U=a,H="",K=document.createElement("h3"),K.textContent=U,K.className=H+" section-title",{element:K}).element,h("Sync","viewer-refresh-button",y).element])),V=f((function(e){return te(void 0,void 0,void 0,(function(){var n;return ne(this,(function(r){switch(r.label){case 0:return null==g||g(),e&&(g=t.subscribeToDocumentSave(e.id,(function(e){E=e,S()}))),e?[4,t.getDocumentText(e.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return E=n,S(),[2]}}))}))})),O=V[0],P=V[1],r.appendChild(m(O,"Vertex Shader")),F=f((function(e){return te(void 0,void 0,void 0,(function(){var n;return ne(this,(function(r){switch(r.label){case 0:return null==b||b(),e&&(b=t.subscribeToDocumentSave(e.id,(function(e){A=e,S()}))),e?[4,t.getDocumentText(e.id)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n="",r.label=3;case 3:return A=n,S(),[2]}}))}))})),N=F[0],B=F[1],r.appendChild(m(N,"Fragment Shader")),R=f((function(){return S()})),k=R[0],R[1].setItems(ee),r.appendChild(m(k,"Mesh")),r.appendChild(o),y(),[2]}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy93ZWJnbC91bmlmb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL29ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi90cmFuc2xhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvY29tcG9uZW50cy9kcm9wZG93bi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL3dyYXBwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy9jb21wb25lbnRzL2lucHV0TnVtYmVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaW5wdXRDb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy90eXBlR3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL2F0dHJpYnV0ZUJ1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3NyYy91dGlscy9jb21wb3NpdGVLZXlNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi91dWlkLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL3V0aWxzL3dlYmdsL3VuaWZvcm1Db21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvd2ViZ2wvYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvd2ViZ2xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvdXRpbHMvaHRtbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW11bmljYXRpb24vdmlld2VyRW5kcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9zcmMvbWVzaGVzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3ZXIvc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVW5pZm9ybVR5cGUiLCJyZW1vdmUiLCJhcnJheSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJyZW1vdmVMYXN0IiwidGV4dCIsImNvdW50Iiwic3Vic3RyaW5nIiwibGVuZ3RoIiwib2JzZXJ2ZXJzIiwiYXR0YWNoIiwib2JzZXJ2ZXIiLCJ0aGlzIiwicHVzaCIsImRldGFjaCIsInNldFZhbHVlIiwibmV3VmFsdWUiLCJub3RpZnkiLCJnZXRWYWx1ZSIsImZvckVhY2giLCJ0cmFuc2xhdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImVtcHR5SXRlbSIsImNyZWF0ZURyb3Bkb3duIiwib25DaGFuZ2UiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiY29tYmluZWRPcHRpb25zIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNlbGVjdGVkSXRlbSIsIml0ZW1FbGVtZW50cyIsInNldFNlbGVjdGVkSXRlbSIsIm9uY2hhbmdlIiwiZm91bmRFbGVtZW50IiwiZmluZCIsImUiLCJpZCIsInNldFNlbGVjdGVkSXRlbUJ5SWQiLCJpZSIsInNlbGVjdGVkIiwic2V0SXRlbXMiLCJpdGVtcyIsImlubmVySFRNTCIsImRpc3BsYXkiLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZ2V0SXRlbXMiLCJtYXAiLCJzZXRTZWxlY3RlZEl0ZW1CeUluZGV4IiwiZ2V0U2VsZWN0ZWRJdGVtIiwiY2xlYXJTZWxlY3Rpb24iLCJjcmVhdGVFbGVtZW50c0Ryb3Bkb3duIiwiZWxlbWVudHMiLCJvZSIsImNsYXNzTGlzdCIsImFkZCIsIm9wdGlvbnNFbGVtZW50Iiwib3B0aW9uc0NvbnRyb2xsZXIiLCJjcmVhdGVDdXN0b21FbGVtZW50T3B0aW9uIiwiY3JlYXRlQnV0dG9uIiwib25DbGljayIsImJ1dHRvbiIsIm9uY2xpY2siLCJ3aXRoTGFiZWwiLCJ3cmFwcGVyIiwibGFiZWwiLCJjcmVhdGVEaXYiLCJjaGlsZHJlbiIsImRpdiIsImNyZWF0ZU11bHRpTnVtYmVySW5wdXQiLCJpbml0aWFsVmFsdWUiLCJyb3dzIiwiY29sdW1ucyIsImlucHV0T3B0aW9ucyIsImlucHV0R3JpZCIsImdldFZhbHVlcyIsInJvdyIsImlucHV0Um93IiwiY29sdW1uIiwiaW5wdXQiLCJpdGVtRWxlbWVudCIsImFzc2lnbiIsInR5cGUiLCJ0b1N0cmluZyIsIm9uaW5wdXQiLCJOdW1iZXIiLCJzZXRWYWx1ZXMiLCJuZXdWYWx1ZXMiLCJzZXRSZWFkb25seSIsInJlYWRvbmx5IiwicmVhZE9ubHkiLCJjcmVhdGVWZWN0b3IzIiwiY29sb3JJbnB1dFByb3BzIiwibWluIiwibWF4Iiwic3RlcCIsImhhc1Byb3BlcnR5Iiwib2JqIiwicHJvcCIsImFzc2VydE5ldmVyIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiQXR0cmlidXRlQnVmZmVyVHlwZSIsImNvbnRleHQiLCJwcm9ncmFtIiwiYXR0YWNoVG9Qcm9ncmFtIiwibG9jYXRpb24iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJzZXR0ZXIiLCJjcmVhdGVVbmlmb3JtU2V0dGVyIiwic2V0VW5pZm9ybSIsImdldFVuaWZvcm1UeXBlIiwiZGlzcG9zZSIsIkZMT0FUX1ZFQzIiLCJ1bmlmb3JtMmYiLCJGTE9BVF9WRUMzIiwidW5pZm9ybTNmIiwiRkxPQVRfVkVDNCIsInVuaWZvcm00ZiIsIlNBTVBMRVJfMkQiLCJrZXlTZWxlY3RvciIsIk1hcCIsInNldCIsImhhcyIsImVudHJpZXNTdHJLZXkiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwiZGVsZXRlU3RyS2V5IiwiZGVsZXRlIiwiY2xlYXIiLCJ1dWlkdjQiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInVuaWZvcm1Db21wb25lbnRDYWNoZSIsIkNvbXBvc2l0ZUtleU1hcCIsImNyZWF0ZVVuaWZvcm1Db21wb25lbnQiLCJ1bmlmb3JtSW5mbyIsImNyZWF0ZVVuaWZvcm1Gb3JWZWMyIiwiY3JlYXRlVW5pZm9ybUZvclZlYzMiLCJjcmVhdGVVbmlmb3JtRm9yVmVjNCIsImNyZWF0ZVVuaWZvcm1Gb3JUZXh0dXJlIiwic2xvdCIsInRleHR1cmVEYXRhIiwiY3JlYXRlVW5pZm9ybU5vdFN1cHBvcnRlZCIsImlubmVyVGV4dCIsInVwZGF0ZSIsImN1c3RvbUVsZW1lbnQiLCJjb2xvckRpdiIsInNldENvbG9yIiwiY29sb3IiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb250YWluZXIiLCJjb250cm9sbGVyIiwiY3JlYXRlQ29sb3IzIiwiY29sb3JFbGVtZW50IiwiY3JlYXRlQ29sb3I0IiwiY29tcGlsZVNoYWRlciIsInJlbmRlcmluZ0NvbnRleHQiLCJzb3VyY2UiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVByb2dyYW0iLCJ2ZXJ0ZXhTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZGVsZXRlUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwibnVtRWxlbWVudHMiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJmbGF0dGVuIiwiY29uY2F0IiwiY29uc29sZSIsImxvZyIsImJ1ZmZlckRhdGEiLCJGbG9hdDMyQXJyYXkiLCJTVEFUSUNfRFJBVyIsInNldEF0dHJpYnV0ZUJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5Iiwic2l6ZSIsImdldE51bUNvbXBvbmVudHMiLCJGTE9BVCIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJnZXRBdHRyaWJ1dGVCdWZmZXJUeXBlIiwiZ2V0TnVtRWxlbWVudHMiLCJkZWxldGVCdWZmZXIiLCJidWZmZXJUeXBlIiwiY29tcG9uZW50Q2FjaGUiLCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYXR0cmlidXRlQnVmZmVycyIsImF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdzIiwibmV3VmFsdWVzU3RyS2V5cyIsImNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXIiLCJmcm9tQ2FjaGUiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvIiwiQXR0cmlidXRlQnVmZmVySW5mbyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudCIsImFwcGxpY2FibGVCaW5kaW5ncyIsImZpbHRlciIsImIiLCJjcmVhdGVEcm9wZG93bldpdGhCaW5kaW5ncyIsInVuc3Vic2NyaWJlIiwidW5kZWZpbmVkIiwiY29tcG9uZW50IiwidiIsImluY2x1ZGVzIiwibnciLCJhdHRyaWJ1dGVCdWZmZXJUeXBlIiwiZWRpdGFibGUiLCJvblVwZGF0ZSIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjMyIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNCIsImNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlck5vdFN1cHBvcnRlZCIsImJpbmRpbmciLCJsYXN0Q3VzdG9tVmFsdWUiLCJkaXNhYmxlZCIsInJlc3VsdCIsInBhcnNlIiwiaXNBcnJheSIsImV2ZXJ5IiwiY3JlYXRlV2ViR0xDYW52YXMiLCJjYW52YXMiLCJjYWxsYmFjayIsImdldENvbnRleHQiLCJyZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJSZXNpemVPYnNlcnZlciIsIm9ic2VydmVyRW50cnkiLCJ0YXJnZXQiLCJkb21SZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsInkiLCJvYnNlcnZlIiwidnNjb2RlQXBpIiwiYWNxdWlyZVZzQ29kZUFwaSIsImV2ZW50TGlzdGVuZXJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwibGlzdGVuZXIiLCJkYXRhIiwiZ2V0U2hhZGVyRG9jdW1lbnRzIiwibWVzc2FnZUlkIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiZmlsZXMiLCJyZW1vdmVMaXN0ZW5lciIsImdldERvY3VtZW50VGV4dCIsImZpbGVOYW1lIiwic3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUiLCJmaWxlUGF0aCIsIm1lc2hlcyIsIm1lc2hBdHRyaWJ1dGVzIiwidmlld2VyRW5kcG9pbnQiLCJ2aWV3ZXIiLCJnZXRFbGVtZW50QnlJZCIsInZpZXdlck9wdGlvbnMiLCJzaGFkZXJPcHRpb25zIiwic2hhZGVyQ29tcGlsYXRpb25FcnJvcnMiLCJ3ZWJHTENhbnZhcyIsIndlYkdMQ29udHJvbGxlciIsInNob3dDb250ZW50IiwiY29udGVudCIsInZpc2liaWxpdHkiLCJzeW5jU2hhZGVyRG9jdW1lbnRzIiwidGhlbiIsInNkIiwiZiIsInZlcnRleERyb3Bkb3duQ29udHJvbGxlciIsImZyYWdtZW50RHJvcGRvd25Db250cm9sbGVyIiwiYW5pbWF0aW9uRnJhbWVIYW5kbGUiLCJvblNoYWRlckNvbnRlbnRDaGFuZ2VkIiwic2VsZWN0ZWRGcmFnbWVudENvbnRlbnQiLCJzZWxlY3RlZFZlcnRleENvbnRlbnQiLCJ2ZXJ0ZXhTaGFkZXJDb250ZW50IiwiZnJhZ21lbnRTaGFkZXJDb250ZW50IiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsInZlcnRleEVycm9yIiwiZnJhZ21lbnRFcnJvciIsImNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSIsInZlcnRleFNoYWRlckVycm9ycyIsImZyYWdtZW50U2hhZGVyRXJyb3JzIiwiZXJyb3JzIiwiam9pbiIsImZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMiLCJwcm9ncmFtVW5pZm9ybXMiLCJudW1Vbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0UHJvZ3JhbVVuaWZvcm1zIiwicHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMiLCJudW1BdHRyaWJ1dGVCdWZmZXJzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJnZXRBY3RpdmVBdHRyaWIiLCJnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyIsInVuaWZvcm1Db21wb25lbnRzIiwidW5pZm9ybXMiLCJVbmlmb3JtSW5mbyIsInVjIiwiY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMiLCJhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzIiwiYWIiLCJhYmMiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbmRlckluZm8iLCJ1c2VQcm9ncmFtIiwidmlld3BvcnQiLCJjbGVhckNvbG9yIiwiQ09MT1JfQlVGRkVSX0JJVCIsInVuaWZvcm1JbmZvcyIsInUiLCJhdHRyaWJ1dGVCdWZmZXJJbmZvcyIsInByaW1pdGl2ZVR5cGUiLCJUUklBTkdMRVMiLCJkcmF3QXJyYXlzIiwicmVuZGVyUHJvZ3JhbSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5ld1ZlcnRleCIsInNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZSIsIm5ld0NvbnRlbnQiLCJ2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQiLCJuZXdGcmFnbWVudCIsInNlbGVjdGVkRnJhZ21lbnRGaWxlV2F0Y2hlclVuc3Vic2NyaWJlIiwiZnJhZ21lbnREcm9wZG93bkVsZW1lbnQiLCJtZXNoRHJvcGRvd25FbGVtZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJ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SSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCBpdGVtOiBUKSA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTGFzdCA9ICh0ZXh0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpID0+IHtcclxuICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSBjb3VudCk7XHJcbn07XHJcbiIsImltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMsIFZlY3RvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBVbmlmb3JtVHlwZSB7XHJcbiAgRkxPQVRfVkVDMiA9IDM1NjY0LFxyXG4gIEZMT0FUX1ZFQzMgPSAzNTY2NSxcclxuICBGTE9BVF9WRUM0ID0gMzU2NjYsXHJcbiAgU0FNUExFUl8yRCA9IDM1Njc4LFxyXG59XHJcblxyXG4vLzUxMjAgKEJZVEUpLCA1MTIxIChVTlNJR05FRF9CWVRFKSwgNTEyMiAoU0hPUlQpLCA1MTIzIChVTlNJR05FRF9TSE9SVCksIDUxMjQgKElOVCksXHJcbi8vIDUxMjUgKFVOU0lHTkVEX0lOVCksIDUxMjYgKEZMT0FUKSwgMzU2NjQgKEZMT0FUX1ZFQzIpLFxyXG4vLyAsIDM1NjY3IChJTlRfVkVDMiksIDM1NjY4IChJTlRfVkVDMyksIDM1NjY5IChJTlRfVkVDNCksIDM1NjcwIChCT09MKSwgMzU2NzEgKEJPT0xfVkVDMiksIDM1NjcyIChCT09MX1ZFQzMpLCAzNTY3MyAoQk9PTF9WRUM0KSwgMzU2NzQgKEZMT0FUX01BVDIpLCAzNTY3NSAoRkxPQVRfTUFUMyksIDM1Njc2IChGTE9BVF9NQVQ0KVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuaWZvcm1JbmZvPFQgPSBhbnk+IHtcclxuICBwcml2YXRlIHZhbHVlOiBUIHwgbnVsbDtcclxuICBwcml2YXRlIHNldHRlcjogKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXHJcbiAgICBwcml2YXRlIHR5cGU6IFVuaWZvcm1UeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb250ZXh0LmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB0aGlzLm5hbWUpO1xyXG4gICAgdGhpcy5zZXR0ZXIgPSBjcmVhdGVVbmlmb3JtU2V0dGVyKHRoaXMudHlwZSwgdGhpcy5jb250ZXh0LCBsb2NhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZShuZXdWYWx1ZTogVCkge1xyXG4gICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2V0VW5pZm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGVyKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VW5pZm9ybVR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1TZXR0ZXIgPSAoXHJcbiAgdHlwZTogVW5pZm9ybVR5cGUsXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIGxvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvblxyXG4pOiAoKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMjpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMikgPT4gY29udGV4dC51bmlmb3JtMmYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yMykgPT4gY29udGV4dC51bmlmb3JtM2YobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogVmVjdG9yNCkgPT4gY29udGV4dC51bmlmb3JtNGYobG9jYXRpb24sIC4uLnZhbHVlKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuU0FNUExFUl8yRDpcclxuICAgICAgcmV0dXJuICh2YWx1ZTogeyBzbG90OiBudW1iZXI7IHRleHR1cmVEYXRhOiBib29sZWFuIH0pID0+IHtcclxuICAgICAgICAvL2NvbnRleHQudGV4aSh2YWx1ZS5zbG90KTtcclxuICAgICAgfTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGFzc2VydE5ldmVyKHR5cGUpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0ICogYXMgQXJyYXlVdGlscyBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2FycmF5XCI7XHJcbmV4cG9ydCB0eXBlIE9ic2VydmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4ge1xyXG4gIG9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBUIHwgbnVsbCkge31cclxuXHJcbiAgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikge1xyXG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgfVxyXG5cclxuICBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSB7XHJcbiAgICBBcnJheVV0aWxzLnJlbW92ZSh0aGlzLm9ic2VydmVycywgb2JzZXJ2ZXIpO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUobmV3VmFsdWU6IFQpIHtcclxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIHRoaXMubm90aWZ5KCk7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBub3RpZnkoKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2gobyA9PiBvKHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnMgPSB7XHJcbiAgICBzaGFkZXJzOiBcIlNIQURFUlNcIlxyXG59IiwiZXhwb3J0IHR5cGUgRHJvcGRvd25JdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheTogc3RyaW5nO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgZW1wdHlJdGVtOiB0cnVlLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duID0gKFxyXG4gIG9uQ2hhbmdlOiAoaXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCkgPT4gdm9pZCxcclxuICBjbGFzc05hbWU/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHsgZW1wdHlJdGVtOiBib29sZWFuIH1cclxuKTogW1xyXG4gIEhUTUxTZWxlY3RFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldEl0ZW1zOiAoaXRlbXM6IERyb3Bkb3duSXRlbVtdKSA9PiB2b2lkO1xyXG4gICAgZ2V0SXRlbXM6ICgpID0+IERyb3Bkb3duSXRlbVtdO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtQnlJZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW1CeUluZGV4OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcclxuICAgIGdldFNlbGVjdGVkSXRlbTogKCkgPT4gRHJvcGRvd25JdGVtIHwgbnVsbDtcclxuICAgIGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY29tYmluZWRPcHRpb25zID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYGRyb3Bkb3duLWJhc2UgJHtjbGFzc05hbWV9YDtcclxuXHJcbiAgbGV0IHNlbGVjdGVkSXRlbTogRHJvcGRvd25JdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgbGV0IGl0ZW1FbGVtZW50czogeyBlbGVtZW50OiBIVE1MT3B0aW9uRWxlbWVudDsgaXRlbTogRHJvcGRvd25JdGVtIH1bXSA9IFtdO1xyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbSA9IChpdGVtOiBEcm9wZG93bkl0ZW0gfCBudWxsKSA9PiB7XHJcbiAgICBzZWxlY3RlZEl0ZW0gPSBpdGVtO1xyXG4gICAgb25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZm91bmRFbGVtZW50ID0gaXRlbUVsZW1lbnRzLmZpbmQoZSA9PiBlLml0ZW0uaWQgPT09IGVsZW1lbnQudmFsdWUpO1xyXG5cclxuICAgIGlmIChmb3VuZEVsZW1lbnQuaXRlbS5pZCkgc2V0U2VsZWN0ZWRJdGVtKGZvdW5kRWxlbWVudC5pdGVtKTtcclxuICAgIGVsc2Ugc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldEl0ZW1zID0gKGl0ZW1zOiBEcm9wZG93bkl0ZW1bXSkgPT4ge1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgaXRlbUVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgaWYgKCFpdGVtcy5maW5kKGkgPT4gaS5pZCA9PT0gc2VsZWN0ZWRJdGVtPy5pZCkpIHtcclxuICAgICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld0l0ZW1zID0gY29tYmluZWRPcHRpb25zLmVtcHR5SXRlbVxyXG4gICAgICA/IFt7IGlkOiBcIlwiLCBkaXNwbGF5OiBcIlwiIH0sIC4uLml0ZW1zXVxyXG4gICAgICA6IFsuLi5pdGVtc107XHJcbiAgICBuZXdJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xyXG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBpdGVtLmRpc3BsYXk7XHJcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbT8uaWQ7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgaXRlbUVsZW1lbnRzLnB1c2goeyBlbGVtZW50OiBvcHRpb24sIGl0ZW0gfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRJdGVtcyA9ICgpID0+IGl0ZW1FbGVtZW50cy5tYXAoaWUgPT4gaWUuaXRlbSk7XHJcbiAgY29uc3Qgc2V0U2VsZWN0ZWRJdGVtQnlJZCA9IChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRTZWxlY3RlZEl0ZW0obnVsbCk7XHJcbiAgICBpdGVtRWxlbWVudHMuZm9yRWFjaChpZSA9PiB7XHJcbiAgICAgIGlmIChpZS5pdGVtLmlkID09PSBpZCkge1xyXG4gICAgICAgIGllLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHNldFNlbGVjdGVkSXRlbShpZS5pdGVtKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZS5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNldFNlbGVjdGVkSXRlbUJ5SW5kZXggPSAoaW5kZXg6IG51bWJlcikgPT5cclxuICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQoaXRlbUVsZW1lbnRzW2luZGV4XS5pdGVtLmlkKTtcclxuXHJcbiAgY29uc3QgZ2V0U2VsZWN0ZWRJdGVtID0gKCkgPT4gc2VsZWN0ZWRJdGVtO1xyXG4gIGNvbnN0IGNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goaWUgPT4gKGllLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZSkpO1xyXG4gICAgc2V0U2VsZWN0ZWRJdGVtKG51bGwpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBlbGVtZW50LFxyXG4gICAge1xyXG4gICAgICBzZXRJdGVtcyxcclxuICAgICAgZ2V0SXRlbXMsXHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SWQsXHJcbiAgICAgIHNldFNlbGVjdGVkSXRlbUJ5SW5kZXgsXHJcbiAgICAgIGdldFNlbGVjdGVkSXRlbSxcclxuICAgICAgY2xlYXJTZWxlY3Rpb24sXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRWxlbWVudHNEcm9wZG93biA9IChcclxuICBlbGVtZW50czogeyBpZDogc3RyaW5nOyBkaXNwbGF5OiBzdHJpbmc7IGVsZW1lbnQ6IEhUTUxFbGVtZW50IH1bXSxcclxuICBvbkNoYW5nZT86IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbb3B0aW9uc0VsZW1lbnQsIG9wdGlvbnNDb250cm9sbGVyXSA9IGNyZWF0ZURyb3Bkb3duKFxyXG4gICAgaXRlbSA9PiB7XHJcbiAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgIG9uQ2hhbmdlPy4obnVsbCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtZW50cy5mb3JFYWNoKG9lID0+IG9lLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcbiAgICAgIGVsZW1lbnRzLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtLmlkKS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgIG9uQ2hhbmdlPy4oaXRlbS5pZCk7XHJcbiAgICB9LFxyXG4gICAgXCJcIixcclxuICAgIHsgZW1wdHlJdGVtOiBmYWxzZSB9XHJcbiAgKTtcclxuICBvcHRpb25zQ29udHJvbGxlci5zZXRJdGVtcyhcclxuICAgIGVsZW1lbnRzLm1hcChlID0+ICh7XHJcbiAgICAgIGlkOiBlLmlkLFxyXG4gICAgICBkaXNwbGF5OiBlLmRpc3BsYXksXHJcbiAgICB9KSlcclxuICApO1xyXG4gIG9wdGlvbnNDb250cm9sbGVyLnNldFNlbGVjdGVkSXRlbUJ5SW5kZXgoMCk7XHJcbiAgcmV0dXJuIG9wdGlvbnNFbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUN1c3RvbUVsZW1lbnRPcHRpb24gPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+ICh7XHJcbiAgaWQ6IFwiY3VzdG9tXCIsXHJcbiAgZGlzcGxheTogXCJDdXN0b21cIixcclxuICBlbGVtZW50LFxyXG59KTtcclxuIiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUJ1dHRvbiA9IChcclxuICB0ZXh0OiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgb25DbGljazogKCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbi5vbmNsaWNrID0gb25DbGljaztcclxuICBidXR0b24uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgcmV0dXJuIHsgZWxlbWVudDogYnV0dG9uIH07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCB3aXRoTGFiZWwgPSAoXHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4pID0+IHtcclxuICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZSA/PyBcIlwifSBvcHRpb25zLXdyYXBwZXJgO1xyXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGxhYmVsLmNsYXNzTmFtZSA9IFwib3B0aW9ucy1sYWJlbFwiO1xyXG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcclxuICBlbGVtZW50LmNsYXNzTmFtZSA9IGAke2VsZW1lbnQuY2xhc3NOYW1lfSBvcHRpb25zLWNvbnRlbnRgO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgcmV0dXJuIHdyYXBwZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRGl2ID0gKGNsYXNzTmFtZTogc3RyaW5nLCBjaGlsZHJlbj86IEhUTUxFbGVtZW50W10pID0+IHtcclxuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgY2hpbGRyZW4/LmZvckVhY2goYyA9PiBkaXYuYXBwZW5kQ2hpbGQoYykpO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVNdWx0aU51bWJlcklucHV0ID0gPFQgZXh0ZW5kcyBudW1iZXJbXT4oXHJcbiAgaW5pdGlhbFZhbHVlOiBULFxyXG4gIG9uQ2hhbmdlOiAobmV3VmFsdWU6IFQpID0+IHZvaWQsXHJcbiAgcm93czogbnVtYmVyLFxyXG4gIGNvbHVtbnM6IG51bWJlcixcclxuICBpbnB1dE9wdGlvbnM/OiBQYXJ0aWFsPEhUTUxJbnB1dEVsZW1lbnQ+XHJcbik6IFtcclxuICBIVE1MRGl2RWxlbWVudCxcclxuICB7XHJcbiAgICBzZXRWYWx1ZXM6ICh2YWx1ZTogVCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IFQ7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbnB1dEdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGlucHV0R3JpZC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtZ3JpZFwiO1xyXG5cclxuICBjb25zdCBpdGVtRWxlbWVudHM6IHsgZWxlbWVudDogSFRNTElucHV0RWxlbWVudDsgdmFsdWU6IG51bWJlciB9W10gPSBbXTtcclxuICBjb25zdCBzZXRWYWx1ZXMgPSAobmV3VmFsdWVzOiBUKSA9PlxyXG4gICAgaXRlbUVsZW1lbnRzLmZvckVhY2goKGllLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZS52YWx1ZSA9IG5ld1ZhbHVlc1tpbmRleF07XHJcbiAgICAgIGllLmVsZW1lbnQudmFsdWUgPSBpZS52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgY29uc3QgZ2V0VmFsdWVzID0gKCkgPT4gaXRlbUVsZW1lbnRzLm1hcChpZSA9PiBpZS52YWx1ZSkgYXMgVDtcclxuICBjb25zdCBzZXRSZWFkb25seSA9IChyZWFkb25seTogYm9vbGVhbikgPT5cclxuICAgIGl0ZW1FbGVtZW50cy5mb3JFYWNoKGllID0+IChpZS5lbGVtZW50LnJlYWRPbmx5ID0gcmVhZG9ubHkpKTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcclxuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Um93LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1yb3dcIjtcclxuXHJcbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHJvdyAqIGNvbHVtbnMgKyBjb2x1bW47XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFZhbHVlW2luZGV4XTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgIGNvbnN0IGl0ZW1FbGVtZW50ID0geyBlbGVtZW50OiBpbnB1dCwgdmFsdWUgfTtcclxuICAgICAgT2JqZWN0LmFzc2lnbihpbnB1dCwgaW5wdXRPcHRpb25zKTtcclxuICAgICAgaW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LWlucHV0XCI7XHJcbiAgICAgIGlucHV0LnR5cGUgPSBcIm51bWJlclwiO1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlPy50b1N0cmluZygpO1xyXG4gICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIGl0ZW1FbGVtZW50c1tpbmRleF0udmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xyXG4gICAgICAgIG9uQ2hhbmdlPy4oZ2V0VmFsdWVzKCkpO1xyXG4gICAgICB9O1xyXG4gICAgICBpdGVtRWxlbWVudHMucHVzaChpdGVtRWxlbWVudCk7XHJcbiAgICAgIGlucHV0Um93LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dEdyaWQuYXBwZW5kQ2hpbGQoaW5wdXRSb3cpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIGlucHV0R3JpZCxcclxuICAgIHtcclxuICAgICAgc2V0VmFsdWVzLFxyXG4gICAgICBnZXRWYWx1ZXMsXHJcbiAgICAgIHNldFJlYWRvbmx5LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yMiA9IFtudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVWZWN0b3IyID0gKG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBWZWN0b3IyKSA9PiB2b2lkKSA9PlxyXG4gIGNyZWF0ZU11bHRpTnVtYmVySW5wdXQ8VmVjdG9yMj4oWzAsIDBdLCBvbkNoYW5nZSwgMSwgMik7XHJcblxyXG5leHBvcnQgdHlwZSBWZWN0b3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yMyA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yMykgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjM+KFswLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDMpO1xyXG5cclxuZXhwb3J0IHR5cGUgVmVjdG9yNCA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVmVjdG9yNCA9IChvbkNoYW5nZT86IChuZXdWYWx1ZTogVmVjdG9yNCkgPT4gdm9pZCkgPT5cclxuICBjcmVhdGVNdWx0aU51bWJlcklucHV0PFZlY3RvcjQ+KFswLCAwLCAwLCAwXSwgb25DaGFuZ2UsIDEsIDQpO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVNdWx0aU51bWJlcklucHV0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYgfSBmcm9tIFwiLi93cmFwcGVyc1wiO1xyXG5cclxuY29uc3QgY29sb3JJbnB1dFByb3BzID0ge1xyXG4gIG1pbjogXCIwXCIsXHJcbiAgbWF4OiBcIjFcIixcclxuICBzdGVwOiBcIjAuMVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3I0ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xvcjQgPSAoXHJcbiAgb25DaGFuZ2U/OiAobmV3VmFsdWU6IENvbG9yNCkgPT4gdm9pZFxyXG4pOiBbXHJcbiAgSFRNTERpdkVsZW1lbnQsXHJcbiAge1xyXG4gICAgc2V0VmFsdWVzOiAodmFsdWU6IENvbG9yNCkgPT4gdm9pZDtcclxuICAgIHNldFJlYWRvbmx5OiAocmVhZG9ubHk6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgICBnZXRWYWx1ZXM6ICgpID0+IENvbG9yNDtcclxuICB9XHJcbl0gPT4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IFswLjUsIDAuNSwgMC41LCAxXSBhcyBDb2xvcjQ7XHJcbiAgY29uc3QgY29sb3JEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbG9yRGl2LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dC1jb2xvclwiO1xyXG4gIGNvbnN0IHNldENvbG9yID0gKGNvbG9yOiBDb2xvcjQpID0+IHtcclxuICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmQgPSBgcmdiKCR7Y29sb3JbMF0gKiAyNTV9LCR7Y29sb3JbMV0gKiAyNTV9LCR7XHJcbiAgICAgIGNvbG9yWzJdICogMjU1XHJcbiAgICB9LCR7Y29sb3JbM119KWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3I0KSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yND4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDQsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjQpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sb3IzID0gW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sb3IzID0gKFxyXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBDb2xvcjMpID0+IHZvaWRcclxuKTogW1xyXG4gIEhUTUxEaXZFbGVtZW50LFxyXG4gIHtcclxuICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHZvaWQ7XHJcbiAgICBzZXRSZWFkb25seTogKHJlYWRvbmx5OiBib29sZWFuKSA9PiB2b2lkO1xyXG4gICAgZ2V0VmFsdWVzOiAoKSA9PiBDb2xvcjM7XHJcbiAgfVxyXG5dID0+IHtcclxuICBjb25zdCBpbml0aWFsVmFsdWUgPSBbMC41LCAwLjUsIDAuNV0gYXMgQ29sb3IzO1xyXG4gIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBjb2xvckRpdi5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXQtY29sb3JcIjtcclxuICBjb25zdCBzZXRDb2xvciA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYHJnYigke2NvbG9yWzBdICogMjU1fSwke2NvbG9yWzFdICogMjU1fSwke1xyXG4gICAgICBjb2xvclsyXSAqIDI1NVxyXG4gICAgfSwxKWA7XHJcbiAgfTtcclxuXHJcbiAgc2V0Q29sb3IoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb25DaGFuZ2VJbnRlcm5hbCA9IChjb2xvcjogQ29sb3IzKSA9PiB7XHJcbiAgICBzZXRDb2xvcihjb2xvcik7XHJcbiAgICBvbkNoYW5nZT8uKGNvbG9yKTtcclxuICB9O1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdihcInJvdy13aXRoLWdhcFwiKTtcclxuICBjb25zdCBbZWxlbWVudCwgY29udHJvbGxlcl0gPSBjcmVhdGVNdWx0aU51bWJlcklucHV0PENvbG9yMz4oXHJcbiAgICBpbml0aWFsVmFsdWUsXHJcbiAgICBvbkNoYW5nZUludGVybmFsLFxyXG4gICAgMSxcclxuICAgIDMsXHJcbiAgICBjb2xvcklucHV0UHJvcHNcclxuICApO1xyXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xyXG4gIHJldHVybiBbXHJcbiAgICBjb250YWluZXIsXHJcbiAgICB7XHJcbiAgICAgIC4uLmNvbnRyb2xsZXIsXHJcbiAgICAgIHNldFZhbHVlczogKHZhbHVlOiBDb2xvcjMpID0+IHtcclxuICAgICAgICBjb250cm9sbGVyLnNldFZhbHVlcyh2YWx1ZSk7XHJcbiAgICAgICAgc2V0Q29sb3IodmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgaGFzUHJvcGVydHkgPSA8VCBleHRlbmRzIHt9LCBQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxyXG4gIG9iajogVCxcclxuICBwcm9wOiBQXHJcbik6IG9iaiBpcyBUICYgUmVjb3JkPFAsIHVua25vd24+ID0+IHtcclxuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KHByb3ApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFzc2VydE5ldmVyID0gKHZhbHVlOiBuZXZlcik6IG5ldmVyID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCB1bmlvbiBtZW1iZXI6ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBhc3NlcnROZXZlciB9IGZyb20gXCIuLi90eXBlR3VhcmRzXCI7XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVCdWZmZXJUeXBlIHtcclxuICBGTE9BVF9WRUMzID0gMzU2NjUsXHJcbiAgRkxPQVRfVkVDNCA9IDM1NjY2LFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQnVmZmVySW5mbyB7XHJcbiAgcHJpdmF0ZSBidWZmZXI6IFdlYkdMQnVmZmVyIHwgbnVsbDtcclxuICBwcml2YXRlIGxvY2F0aW9uOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBudW1FbGVtZW50czogbnVtYmVyID0gMDtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxyXG4gICAgcHJpdmF0ZSB0eXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlXHJcbiAgKSB7XHJcbiAgICB0aGlzLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIHRoaXMuYnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuICAgIHRoaXMubG9jYXRpb24gPSB0aGlzLmNvbnRleHQuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgdGhpcy5uYW1lKTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlKG5ld1ZhbHVlOiBudW1iZXJbXVtdKSB7XHJcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gbmV3VmFsdWUubGVuZ3RoO1xyXG4gICAgdGhpcy5jb250ZXh0LmJpbmRCdWZmZXIodGhpcy5jb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xyXG4gICAgY29uc3QgZmxhdHRlbiA9IFtdLmNvbmNhdCguLi5uZXdWYWx1ZSk7XHJcbiAgICBjb25zb2xlLmxvZyhcInNldHRpbmcgdmFsdWVcIiwgZmxhdHRlbik7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LmJ1ZmZlckRhdGEoXHJcbiAgICAgIHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoZmxhdHRlbiksXHJcbiAgICAgIHRoaXMuY29udGV4dC5TVEFUSUNfRFJBV1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldEF0dHJpYnV0ZUJ1ZmZlcigpIHtcclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMuY29udGV4dC5iaW5kQnVmZmVyKHRoaXMuY29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuICAgICAgY29uc3Qgc2l6ZSA9IGdldE51bUNvbXBvbmVudHModGhpcy50eXBlKTsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgY29uc3QgdHlwZSA9IHRoaXMuY29udGV4dC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAvLyBkb24ndCBub3JtYWxpemUgdGhlIGRhdGFcclxuICAgICAgY29uc3Qgc3RyaWRlID0gMDsgLy8gMCA9IG1vdmUgZm9yd2FyZCBzaXplICogc2l6ZW9mKHR5cGUpIGVhY2ggaXRlcmF0aW9uIHRvIGdldCB0aGUgbmV4dCBwb3NpdGlvblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcclxuICAgICAgdGhpcy5jb250ZXh0LnZlcnRleEF0dHJpYlBvaW50ZXIoXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbixcclxuICAgICAgICBzaXplLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgbm9ybWFsaXplLFxyXG4gICAgICAgIHN0cmlkZSxcclxuICAgICAgICBvZmZzZXRcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0TnVtRWxlbWVudHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5udW1FbGVtZW50cztcclxuICB9XHJcblxyXG4gIGRlbGV0ZUJ1ZmZlcigpIHtcclxuICAgIHRoaXMuY29udGV4dC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xyXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyA9IChidWZmZXJUeXBlOiBBdHRyaWJ1dGVCdWZmZXJUeXBlKSA9PiB7XHJcbiAgc3dpdGNoIChidWZmZXJUeXBlKSB7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDMzpcclxuICAgICAgcmV0dXJuIDM7XHJcbiAgICBjYXNlIEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgcmV0dXJuIDQ7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBhc3NlcnROZXZlcihidWZmZXJUeXBlKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBjbGFzcyBDb21wb3NpdGVLZXlNYXA8VEtleSwgVFZhbHVlPiB7XHJcbiAgcHJpdmF0ZSBtYXAgPSBuZXcgTWFwPHN0cmluZywgVFZhbHVlPigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleVNlbGVjdG9yOiAoY29tcG9zaXRlS2V5OiBUS2V5KSA9PiBzdHJpbmcpIHt9XHJcblxyXG4gIGdldChrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5nZXQodGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIHNldChrZXk6IFRLZXksIHZhbHVlOiBUVmFsdWUpIHtcclxuICAgIHRoaXMubWFwLnNldCh0aGlzLmtleVNlbGVjdG9yKGtleSksIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXk6IFRLZXkpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcC5oYXModGhpcy5rZXlTZWxlY3RvcihrZXkpKTtcclxuICB9XHJcblxyXG4gIGVudHJpZXNTdHJLZXkoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC5lbnRyaWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlU3RyS2V5KGtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZShrZXk6IFRLZXkpIHtcclxuICAgIHRoaXMubWFwLmRlbGV0ZSh0aGlzLmtleVNlbGVjdG9yKGtleSkpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLm1hcC5jbGVhcigpO1xyXG4gIH1cclxufVxyXG4iLCIvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbmV4cG9ydCBjb25zdCB1dWlkdjQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xyXG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXHJcbiAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICB9KTtcclxufTtcclxuIiwiaW1wb3J0IHtcclxuICBjcmVhdGVWZWN0b3IyLFxyXG4gIGNyZWF0ZVZlY3RvcjMsXHJcbiAgY3JlYXRlVmVjdG9yNCxcclxuICBWZWN0b3IyLFxyXG4gIFZlY3RvcjMsXHJcbiAgVmVjdG9yNCxcclxufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dE51bWJlclwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZURyb3Bkb3duLFxyXG4gIGNyZWF0ZUVsZW1lbnRzRHJvcGRvd24sXHJcbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvZHJvcGRvd25cIjtcclxuaW1wb3J0IHsgY3JlYXRlQ29sb3IzLCBjcmVhdGVDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9pbnB1dENvbG9yXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1JbmZvLCBVbmlmb3JtVHlwZSB9IGZyb20gXCIuL3VuaWZvcm1cIjtcclxuaW1wb3J0IHsgQ29tcG9zaXRlS2V5TWFwIH0gZnJvbSBcIi4uL2NvbXBvc2l0ZUtleU1hcFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3dyYXBwZXJzXCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5cclxuY29uc3QgdW5pZm9ybUNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxcclxuICB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfSxcclxuICB7IGNvbXBvbmVudDogSFRNTEVsZW1lbnQ7IHVuaWZvcm1JbmZvOiBVbmlmb3JtSW5mbyB9XHJcbj4oa2V5ID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnRzID0gKFxyXG4gIGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICBwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcbiAgdW5pZm9ybXM6IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBVbmlmb3JtVHlwZSB9W11cclxuKSA9PiB7XHJcbiAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSB1bmlmb3Jtcy5tYXAodW5pZm9ybSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSB7XHJcbiAgICAgIC4uLnVuaWZvcm0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGZyb21DYWNoZSA9IHVuaWZvcm1Db21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS51bmlmb3JtSW5mby5hdHRhY2hUb1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgIHJldHVybiB7IGtleSwgdmFsdWU6IGZyb21DYWNoZSB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgdW5pZm9ybUluZm8gPSBuZXcgVW5pZm9ybUluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZSxcclxuICAgICAgICB1bmlmb3JtLnR5cGVcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50ID0gd2l0aExhYmVsKFxyXG4gICAgICAgIGNyZWF0ZVVuaWZvcm1Db21wb25lbnQodW5pZm9ybUluZm8pLFxyXG4gICAgICAgIHVuaWZvcm0ubmFtZVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4geyBrZXksIHZhbHVlOiB7IGNvbXBvbmVudCwgdW5pZm9ybUluZm8gfSB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB1bmlmb3JtQ29tcG9uZW50Q2FjaGUuY2xlYXIoKTtcclxuICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+IHVuaWZvcm1Db21wb25lbnRDYWNoZS5zZXQodWMua2V5LCB1Yy52YWx1ZSkpO1xyXG5cclxuICByZXR1cm4gdW5pZm9ybUNvbXBvbmVudHMubWFwKHVjID0+IHVjLnZhbHVlKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Db21wb25lbnQgPSAodW5pZm9ybUluZm86IFVuaWZvcm1JbmZvKSA9PiB7XHJcbiAgc3dpdGNoICh1bmlmb3JtSW5mby5nZXRVbmlmb3JtVHlwZSgpKSB7XHJcbiAgICBjYXNlIFVuaWZvcm1UeXBlLkZMT0FUX1ZFQzI6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtRm9yVmVjMih2YWx1ZSA9PiB1bmlmb3JtSW5mby5zZXRWYWx1ZSh2YWx1ZSkpO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5GTE9BVF9WRUMzOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzModmFsdWUgPT4gdW5pZm9ybUluZm8uc2V0VmFsdWUodmFsdWUpKTtcclxuICAgIGNhc2UgVW5pZm9ybVR5cGUuRkxPQVRfVkVDNDpcclxuICAgICAgY29uc3QgaW5pdGlhbFZhbHVlOiBWZWN0b3I0ID0gWzEsIDAsIDAsIDFdO1xyXG4gICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZShpbml0aWFsVmFsdWUpO1xyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclZlYzQoaW5pdGlhbFZhbHVlLCB2YWx1ZSA9PlxyXG4gICAgICAgIHVuaWZvcm1JbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgICApO1xyXG4gICAgY2FzZSBVbmlmb3JtVHlwZS5TQU1QTEVSXzJEOlxyXG4gICAgICByZXR1cm4gY3JlYXRlVW5pZm9ybUZvclRleHR1cmUodmFsdWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRzZXRWYWx1ZSA9IHV1aWR2NCgpO1xyXG4gICAgICAgIC8vbG9hZCB3aXRoIGRlYm91bmNlID0+IHRoZW5cclxuICAgICAgICB1bmlmb3JtSW5mby5zZXRWYWx1ZSh7IHNsb3Q6IHZhbHVlLnNsb3QsIHRleHR1cmVEYXRhOiB0cnVlIH0pO1xyXG4gICAgICB9KTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjcmVhdGVVbmlmb3JtTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaWZvcm1Ob3RTdXBwb3J0ZWQgPSAoKSA9PiB7XHJcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBkaXYuY2xhc3NOYW1lID0gXCJ1bnN1cHBvcnRlZC1lcnJvclwiO1xyXG4gIGRpdi5pbm5lclRleHQgPSBcIk5vdCBzdXBwb3J0ZWQgdW5pZm9ybVwiO1xyXG4gIHJldHVybiBkaXY7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVbmlmb3JtRm9yVmVjMiA9ICh1cGRhdGU6ICh2YWx1ZTogVmVjdG9yMikgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IFtjdXN0b21FbGVtZW50LCBjdXN0b21Db250cm9sbGVyXSA9IGNyZWF0ZVZlY3RvcjIodXBkYXRlKTtcclxuICBjdXN0b21Db250cm9sbGVyLnNldFZhbHVlcyhbMCwgMF0pO1xyXG4gIHJldHVybiBjdXN0b21FbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlVW5pZm9ybUZvclRleHR1cmUgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IHsgc2xvdDogbnVtYmVyOyB0ZXh0dXJlU3JjOiBzdHJpbmcgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3IzKCk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoWzAsIDAsIDBdKTtcclxuICByZXR1cm4gY3VzdG9tRWxlbWVudDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWMzID0gKHVwZGF0ZTogKHZhbHVlOiBWZWN0b3IzKSA9PiB2b2lkKSA9PiB7XHJcbiAgY29uc3QgW2N1c3RvbUVsZW1lbnQsIGN1c3RvbUNvbnRyb2xsZXJdID0gY3JlYXRlVmVjdG9yMyh1cGRhdGUpO1xyXG4gIGN1c3RvbUNvbnRyb2xsZXIuc2V0VmFsdWVzKFswLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IFtjb2xvckVsZW1lbnQsIGNvbG9yQ29udHJvbGxlcl0gPSBjcmVhdGVDb2xvcjModXBkYXRlKTtcclxuICBjb2xvckNvbnRyb2xsZXIuc2V0VmFsdWVzKFsxLCAwLCAwXSk7XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50ID0gY3JlYXRlRWxlbWVudHNEcm9wZG93bihbXHJcbiAgICB7XHJcbiAgICAgIGlkOiBcImN1c3RvbVwiLFxyXG4gICAgICBkaXNwbGF5OiBcIkN1c3RvbVwiLFxyXG4gICAgICBlbGVtZW50OiBjdXN0b21FbGVtZW50LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6IFwiY29sb3JcIixcclxuICAgICAgZGlzcGxheTogXCJDb2xvclwiLFxyXG4gICAgICBlbGVtZW50OiBjb2xvckVsZW1lbnQsXHJcbiAgICB9LFxyXG4gIF0pO1xyXG5cclxuICByZXR1cm4gY3JlYXRlRGl2KFwiY29sdW1uLXdpdGgtZ2FwXCIsIFtcclxuICAgIG9wdGlvbnNFbGVtZW50LFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIGNvbG9yRWxlbWVudCxcclxuICBdKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVVuaWZvcm1Gb3JWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNCxcclxuICB1cGRhdGU6ICh2YWx1ZTogVmVjdG9yNCkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBjb25zdCBbY3VzdG9tRWxlbWVudCwgY3VzdG9tQ29udHJvbGxlcl0gPSBjcmVhdGVWZWN0b3I0KHVwZGF0ZSk7XHJcbiAgY3VzdG9tQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3QgW2NvbG9yRWxlbWVudCwgY29sb3JDb250cm9sbGVyXSA9IGNyZWF0ZUNvbG9yNCh1cGRhdGUpO1xyXG4gIGNvbG9yQ29udHJvbGxlci5zZXRWYWx1ZXMoaW5pdGlhbFZhbHVlKTtcclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnQgPSBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFtcclxuICAgIHsgaWQ6IFwiY3VzdG9tXCIsIGRpc3BsYXk6IFwiQ3VzdG9tXCIsIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQgfSxcclxuICAgIHsgaWQ6IFwiY29sb3JcIiwgZGlzcGxheTogXCJDb2xvclwiLCBlbGVtZW50OiBjb2xvckVsZW1lbnQgfSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBvcHRpb25zRWxlbWVudCxcclxuICAgIGN1c3RvbUVsZW1lbnQsXHJcbiAgICBjb2xvckVsZW1lbnQsXHJcbiAgXSk7XHJcbn07XHJcbiIsImltcG9ydCB7IHJlbW92ZUxhc3QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2FycmF5XCI7XHJcbmltcG9ydCB7IGhhc1Byb3BlcnR5IH0gZnJvbSBcIi4uL3R5cGVHdWFyZHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBVbmlmb3JtSW5mbywgVW5pZm9ybVR5cGUgfSBmcm9tIFwiLi91bmlmb3JtXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGlsZVNoYWRlciA9IChcclxuICByZW5kZXJpbmdDb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdHlwZTogR0xlbnVtLFxyXG4gIHNvdXJjZTogc3RyaW5nXHJcbik6IFdlYkdMU2hhZGVyIHwgeyBlcnJvcjogc3RyaW5nIH0gPT4ge1xyXG4gIGNvbnN0IHNoYWRlciA9IHJlbmRlcmluZ0NvbnRleHQuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gcmVuZGVyaW5nQ29udGV4dC5nZXRTaGFkZXJQYXJhbWV0ZXIoXHJcbiAgICBzaGFkZXIsXHJcbiAgICByZW5kZXJpbmdDb250ZXh0LkNPTVBJTEVfU1RBVFVTXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHNoYWRlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSByZW5kZXJpbmdDb250ZXh0LmdldFNoYWRlckluZm9Mb2coc2hhZGVyKTtcclxuICAgIHJlbmRlcmluZ0NvbnRleHQuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlcnJvcixcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXBpbGVTaGFkZXJzRnJvbVNvdXJjZSA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgdmVydGV4U2hhZGVyQ29udGVudDogc3RyaW5nLFxyXG4gIGZyYWdtZW50U2hhZGVyQ29udGVudDogc3RyaW5nXHJcbikgPT4ge1xyXG4gIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoXHJcbiAgICBjb250ZXh0LFxyXG4gICAgY29udGV4dC5WRVJURVhfU0hBREVSLFxyXG4gICAgdmVydGV4U2hhZGVyQ29udGVudFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihcclxuICAgIGNvbnRleHQsXHJcbiAgICBjb250ZXh0LkZSQUdNRU5UX1NIQURFUixcclxuICAgIGZyYWdtZW50U2hhZGVyQ29udGVudFxyXG4gICk7XHJcblxyXG4gIGxldCB2ZXJ0ZXhFcnJvcjogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG4gIGlmIChoYXNQcm9wZXJ0eSh2ZXJ0ZXhTaGFkZXIsIFwiZXJyb3JcIikpIHtcclxuICAgIHZlcnRleEVycm9yID0gcmVtb3ZlTGFzdCh2ZXJ0ZXhTaGFkZXIuZXJyb3IsIDEpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGZyYWdtZW50RXJyb3I6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICBpZiAoaGFzUHJvcGVydHkoZnJhZ21lbnRTaGFkZXIsIFwiZXJyb3JcIikpIHtcclxuICAgIGZyYWdtZW50RXJyb3IgPSByZW1vdmVMYXN0KGZyYWdtZW50U2hhZGVyLmVycm9yLCAxKTtcclxuICB9XHJcblxyXG4gIGlmICh2ZXJ0ZXhFcnJvciB8fCBmcmFnbWVudEVycm9yKSB7XHJcbiAgICAvL3RvZG8gY2xlYW51cFxyXG4gICAgcmV0dXJuIFt2ZXJ0ZXhFcnJvciwgZnJhZ21lbnRFcnJvcl0gYXMgU2hhZGVyQ29tcGlsZUVycm9ycztcclxuICB9XHJcblxyXG4gIHJldHVybiBjcmVhdGVQcm9ncmFtKGNvbnRleHQsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2dyYW0gPSAoXHJcbiAgcmVuZGVyaW5nQ29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsXHJcbiAgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0IHByb2dyYW0gPSByZW5kZXJpbmdDb250ZXh0LmNyZWF0ZVByb2dyYW0oKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gIHJlbmRlcmluZ0NvbnRleHQuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICByZW5kZXJpbmdDb250ZXh0LmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSByZW5kZXJpbmdDb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgcmVuZGVyaW5nQ29udGV4dC5MSU5LX1NUQVRVU1xyXG4gICk7XHJcblxyXG4gIGlmIChyZXN1bHQpIHtcclxuICAgIHJldHVybiBwcm9ncmFtO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZW5kZXJpbmdDb250ZXh0LmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ3JlYXRpbmcgcHJvZ3JhbSBmYWlsZWQ6ICR7cmVuZGVyaW5nQ29udGV4dC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtVW5pZm9ybXMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbVxyXG4pID0+IHtcclxuICBjb25zdCBudW1Vbmlmb3JtcyA9IGNvbnRleHQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihcclxuICAgIHByb2dyYW0sXHJcbiAgICBjb250ZXh0LkFDVElWRV9VTklGT1JNU1xyXG4gICk7XHJcbiAgY29uc3QgcmVzdWx0OiB7IG5hbWU6IHN0cmluZzsgdHlwZTogVW5pZm9ybVR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1Vbmlmb3JtczsgKytpbmRleCkge1xyXG4gICAgY29uc3QgdW5pZm9ybSA9IGNvbnRleHQuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IHVuaWZvcm0ubmFtZSwgdHlwZTogdW5pZm9ybS50eXBlIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtXHJcbikgPT4ge1xyXG4gIGNvbnN0IG51bUF0dHJpYnV0ZUJ1ZmZlcnMgPSBjb250ZXh0LmdldFByb2dyYW1QYXJhbWV0ZXIoXHJcbiAgICBwcm9ncmFtLFxyXG4gICAgY29udGV4dC5BQ1RJVkVfQVRUUklCVVRFU1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdDogeyBuYW1lOiBzdHJpbmc7IHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfVtdID0gW107XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBudW1BdHRyaWJ1dGVCdWZmZXJzOyArK2luZGV4KSB7XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXIgPSBjb250ZXh0LmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpbmRleCk7XHJcbiAgICByZXN1bHQucHVzaCh7IG5hbWU6IGF0dHJpYnV0ZUJ1ZmZlci5uYW1lLCB0eXBlOiBhdHRyaWJ1dGVCdWZmZXIudHlwZSB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyUHJvZ3JhbSA9IChcclxuICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxyXG4gIHJlbmRlckluZm86IHtcclxuICAgIHVuaWZvcm1JbmZvczogVW5pZm9ybUluZm9bXTtcclxuICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm9zOiBBdHRyaWJ1dGVCdWZmZXJJbmZvW107XHJcbiAgICAvL3RleHR1cmVzXHJcbiAgfVxyXG4pID0+IHtcclxuICBjb250ZXh0LnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgY29udGV4dC52aWV3cG9ydCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcclxuICBjb250ZXh0LmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgY29udGV4dC5jbGVhcihjb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICByZW5kZXJJbmZvLnVuaWZvcm1JbmZvcy5mb3JFYWNoKHUgPT4gdS5zZXRVbmlmb3JtKCkpO1xyXG4gIHJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVySW5mb3MuZm9yRWFjaChhYiA9PiBhYi5zZXRBdHRyaWJ1dGVCdWZmZXIoKSk7XHJcbiAgY29uc3QgbnVtRWxlbWVudHMgPSBNYXRoLm1pbihcclxuICAgIC4uLnJlbmRlckluZm8uYXR0cmlidXRlQnVmZmVySW5mb3MubWFwKGFiID0+IGFiLmdldE51bUVsZW1lbnRzKCkpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgcHJpbWl0aXZlVHlwZSA9IGNvbnRleHQuVFJJQU5HTEVTO1xyXG4gIGNvbnN0IG9mZnNldCA9IDA7XHJcbiAgY29uc29sZS5sb2coXCJkcmF3aW5nXCIsIG51bUVsZW1lbnRzKTtcclxuXHJcbiAgY29udGV4dC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgbnVtRWxlbWVudHMpO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU2hhZGVyQ29tcGlsZUVycm9ycyA9IFtcclxuICB2ZXJ0ZXhTaGFkZXJFcnJvcnM6IHN0cmluZyxcclxuICBmcmFnbWVudFNoYWRlckVycm9yczogc3RyaW5nXHJcbl07XHJcbmV4cG9ydCBjb25zdCBmb3JtYXRTaGFkZXJDb21waWxlRXJyb3JzID0gKHJlc3VsdDogU2hhZGVyQ29tcGlsZUVycm9ycykgPT4ge1xyXG4gIGNvbnN0IFt2ZXJ0ZXhTaGFkZXJFcnJvcnMsIGZyYWdtZW50U2hhZGVyRXJyb3JzXSA9IHJlc3VsdDtcclxuXHJcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBpZiAodmVydGV4U2hhZGVyRXJyb3JzKSB7XHJcbiAgICBlcnJvcnMucHVzaChcIlZFUlRFWCBTSEFERVI6XCIsIHZlcnRleFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZnJhZ21lbnRTaGFkZXJFcnJvcnMpIHtcclxuICAgIGVycm9ycy5wdXNoKFwiRlJBR01FTlQgU0hBREVSOlwiLCBmcmFnbWVudFNoYWRlckVycm9ycyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXJyb3JzLmpvaW4oXCJcXHJcXG5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdXVpZFwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUN1c3RvbUVsZW1lbnRPcHRpb24sXHJcbiAgY3JlYXRlRWxlbWVudHNEcm9wZG93bixcclxufSBmcm9tIFwiLi8uLi8uLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IENvbXBvc2l0ZUtleU1hcCB9IGZyb20gXCIuLi8uLi91dGlscy9jb21wb3NpdGVLZXlNYXBcIjtcclxuaW1wb3J0IHsgVW5zdWJzY3JpYmUsIGZvbyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vdHlwZXNcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMywgVmVjdG9yNCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL2lucHV0TnVtYmVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZURpdiwgd2l0aExhYmVsIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlQnVmZmVySW5mbywgQXR0cmlidXRlQnVmZmVyVHlwZSB9IGZyb20gXCIuL2F0dHJpYnV0ZUJ1ZmZlclwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL29ic2VydmFibGVcIjtcclxuXHJcbnR5cGUgQ2FjaGVLZXkgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbn07XHJcblxyXG50eXBlIENhY2hlVmFsdWUgPSB7XHJcbiAgY29tcG9uZW50OiBIVE1MRWxlbWVudDtcclxuICBhdHRyaWJ1dGVCdWZmZXJJbmZvOiBBdHRyaWJ1dGVCdWZmZXJJbmZvO1xyXG4gIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBrZXlTZWxlY3RvciA9IChrZXk6IENhY2hlS2V5KTogc3RyaW5nID0+IGAke2tleS5uYW1lfTske2tleS50eXBlfWA7XHJcbmNvbnN0IGNvbXBvbmVudENhY2hlID0gbmV3IENvbXBvc2l0ZUtleU1hcDxDYWNoZUtleSwgQ2FjaGVWYWx1ZT4oa2V5U2VsZWN0b3IpO1xyXG5cclxuY29uc3QgcmVidWlsZENhY2hlID0gKG5ld1ZhbHVlczogeyBrZXk6IENhY2hlS2V5OyB2YWx1ZTogQ2FjaGVWYWx1ZSB9W10pID0+IHtcclxuICBjb25zdCBuZXdWYWx1ZXNTdHJLZXlzID0gbmV3VmFsdWVzLm1hcCh2ID0+IGtleVNlbGVjdG9yKHYua2V5KSk7XHJcbiAgY29uc3QgY29tcG9uZW50c1RvUmVtb3ZlID0gY29tcG9uZW50Q2FjaGVcclxuICAgIC5lbnRyaWVzU3RyS2V5KClcclxuICAgIC5maWx0ZXIoZSA9PiAhbmV3VmFsdWVzU3RyS2V5cy5pbmNsdWRlcyhlWzBdKSk7XHJcblxyXG4gIGNvbXBvbmVudHNUb1JlbW92ZS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgY1sxXS5kaXNwb3NlKCk7XHJcbiAgICBjb21wb25lbnRDYWNoZS5kZWxldGVTdHJLZXkoY1swXSk7XHJcbiAgfSk7XHJcblxyXG4gIG5ld1ZhbHVlcy5mb3JFYWNoKG53ID0+IHtcclxuICAgIGlmICghY29tcG9uZW50Q2FjaGUuaGFzKG53LmtleSkpIGNvbXBvbmVudENhY2hlLnNldChudy5rZXksIG53LnZhbHVlKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmcgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGU7XHJcbiAgdmFsdWU6IE9ic2VydmFibGU8YW55PjtcclxuICAvL3N1YnNjcmliZVRvQ2hhbmdlV2l0aExhdGVzdDogKG5ld1ZhbHVlOiBhbnkpID0+IFVuc3Vic2NyaWJlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudHMgPSAoXHJcbiAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxyXG4gIHByb2dyYW06IFdlYkdMUHJvZ3JhbSxcclxuICBhdHRyaWJ1dGVCdWZmZXJzOiB7IG5hbWU6IHN0cmluZzsgdHlwZTogQXR0cmlidXRlQnVmZmVyVHlwZSB9W10sXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M6IEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdbXVxyXG4pID0+IHtcclxuICBjb25zdCBjb21wb25lbnRzID0gYXR0cmlidXRlQnVmZmVycy5tYXAoYXR0cmlidXRlQnVmZmVyID0+IHtcclxuICAgIGNvbnN0IGtleSA9IHtcclxuICAgICAgLi4uYXR0cmlidXRlQnVmZmVyLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2FjaGUgPSBjb21wb25lbnRDYWNoZS5nZXQoa2V5KTtcclxuXHJcbiAgICBpZiAoZnJvbUNhY2hlKSB7XHJcbiAgICAgIGZyb21DYWNoZS5hdHRyaWJ1dGVCdWZmZXJJbmZvLmF0dGFjaFRvUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgcmV0dXJuIHsga2V5LCB2YWx1ZTogZnJvbUNhY2hlIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJJbmZvID0gbmV3IEF0dHJpYnV0ZUJ1ZmZlckluZm8oXHJcbiAgICAgICAgY29udGV4dCxcclxuICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lLFxyXG4gICAgICAgIGF0dHJpYnV0ZUJ1ZmZlci50eXBlXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvL2NvbnN0IG9uQ2hhbmdlID0gKClcclxuICAgICAgY29uc3QgY3VzdG9tRWxlbWVudCA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChcclxuICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLmdldEF0dHJpYnV0ZUJ1ZmZlclR5cGUoKSxcclxuICAgICAgICB0cnVlLFxyXG4gICAgICAgIHZhbHVlID0+IGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBhcHBsaWNhYmxlQmluZGluZ3MgPSBhdHRyaWJ1dGVCdWZmZXJCaW5kaW5ncy5maWx0ZXIoXHJcbiAgICAgICAgYiA9PiBiLnR5cGUgPT09IGF0dHJpYnV0ZUJ1ZmZlckluZm8uZ2V0QXR0cmlidXRlQnVmZmVyVHlwZSgpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB7IGVsZW1lbnQsIHVuc3Vic2NyaWJlIH0gPSBhcHBsaWNhYmxlQmluZGluZ3MubGVuZ3RoXHJcbiAgICAgICAgPyBjcmVhdGVEcm9wZG93bldpdGhCaW5kaW5ncyhhdHRyaWJ1dGVCdWZmZXJJbmZvLCBhcHBsaWNhYmxlQmluZGluZ3MpXHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IGN1c3RvbUVsZW1lbnQsXHJcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBrZXksXHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIGNvbXBvbmVudDogd2l0aExhYmVsKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlci5uYW1lKSxcclxuICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uZGVsZXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlPy4oKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmVidWlsZENhY2hlKGNvbXBvbmVudHMpO1xyXG4gIHJldHVybiBjb21wb25lbnRzLm1hcChjID0+IGMudmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50ID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlclR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUsXHJcbiAgZWRpdGFibGU6IGJvb2xlYW4sXHJcbiAgb25VcGRhdGU6ICh2YWx1ZTogYW55KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIHN3aXRjaCAoYXR0cmlidXRlQnVmZmVyVHlwZSkge1xyXG4gICAgY2FzZSBBdHRyaWJ1dGVCdWZmZXJUeXBlLkZMT0FUX1ZFQzM6XHJcbiAgICAgIHJldHVybiBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMob25VcGRhdGUsIGVkaXRhYmxlKTtcclxuICAgIGNhc2UgQXR0cmlidXRlQnVmZmVyVHlwZS5GTE9BVF9WRUM0OlxyXG4gICAgICBjb25zdCBpbml0aWFsVmFsdWU6IFZlY3RvcjRbXSA9IFtcclxuICAgICAgICBbMCwgMCwgMCwgMV0sXHJcbiAgICAgICAgWzAsIDAuNSwgMCwgMV0sXHJcbiAgICAgICAgWzAuOSwgMCwgMCwgMV0sXHJcbiAgICAgICAgWzAsIDAuNSwgMCwgMV0sXHJcbiAgICAgICAgWzAuNywgMCwgMCwgMV0sXHJcbiAgICAgICAgWzAuNywgMC41LCAwLCAxXSxcclxuICAgICAgXTtcclxuICAgICAgb25VcGRhdGUoaW5pdGlhbFZhbHVlKTtcclxuICAgICAgcmV0dXJuIGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcklucHV0VmVjNChpbml0aWFsVmFsdWUsIG9uVXBkYXRlLCBlZGl0YWJsZSk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVyTm90U3VwcG9ydGVkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgZGl2LmNsYXNzTmFtZSA9IFwidW5zdXBwb3J0ZWQtZXJyb3JcIjtcclxuICBkaXYuaW5uZXJUZXh0ID0gXCJOb3Qgc3VwcG9ydGVkIGF0dHJpYnV0ZSBidWZmZXJcIjtcclxuICByZXR1cm4gZGl2O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZURyb3Bkb3duV2l0aEJpbmRpbmdzID0gKFxyXG4gIGF0dHJpYnV0ZUJ1ZmZlckluZm86IEF0dHJpYnV0ZUJ1ZmZlckluZm8sXHJcbiAgYXR0cmlidXRlQnVmZmVyQmluZGluZ3M6IEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdbXVxyXG4pID0+IHtcclxuICBjb25zdCBvcHRpb25zID0gYXR0cmlidXRlQnVmZmVyQmluZGluZ3MubWFwKGJpbmRpbmcgPT4ge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlckNvbXBvbmVudChcclxuICAgICAgYXR0cmlidXRlQnVmZmVySW5mby5nZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCksXHJcbiAgICAgIGZhbHNlLFxyXG4gICAgICB2YWx1ZSA9PiBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKHZhbHVlKVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdXVpZHY0KCksXHJcbiAgICAgIGVsZW1lbnQsXHJcbiAgICAgIGRpc3BsYXk6IGJpbmRpbmcubmFtZSxcclxuICAgICAgdmFsdWU6IGJpbmRpbmcudmFsdWUsXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICBsZXQgbGFzdEN1c3RvbVZhbHVlOiBhbnkgPSBudWxsO1xyXG4gIGxldCBjdXN0b21FbGVtZW50ID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50KFxyXG4gICAgYXR0cmlidXRlQnVmZmVySW5mby5nZXRBdHRyaWJ1dGVCdWZmZXJUeXBlKCksXHJcbiAgICBmYWxzZSxcclxuICAgIHZhbHVlID0+IHtcclxuICAgICAgbGFzdEN1c3RvbVZhbHVlID0gdmFsdWU7XHJcbiAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm8uc2V0VmFsdWUodmFsdWUpO1xyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIGxldCBkZXRhY2g6ICgpID0+IHZvaWQgPSB1bmRlZmluZWQ7XHJcbiAgY29uc3QgZWxlbWVudCA9IGNyZWF0ZURpdihcImNvbHVtbi13aXRoLWdhcFwiLCBbXHJcbiAgICBjcmVhdGVFbGVtZW50c0Ryb3Bkb3duKFxyXG4gICAgICBbY3JlYXRlQ3VzdG9tRWxlbWVudE9wdGlvbihjdXN0b21FbGVtZW50KSwgLi4ub3B0aW9uc10sXHJcbiAgICAgIGlkID0+IHtcclxuICAgICAgICBkZXRhY2g/LigpO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zLmZpbmQobyA9PiBvLmlkID09PSBpZCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbikge1xyXG4gICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAodmFsdWU6IGFueSkgPT4gYXR0cmlidXRlQnVmZmVySW5mby5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICBvcHRpb24udmFsdWUuYXR0YWNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgIGNhbGxiYWNrKG9wdGlvbi52YWx1ZS5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgIGRldGFjaCA9ICgpID0+IG9wdGlvbi52YWx1ZS5kZXRhY2goY2FsbGJhY2spO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhdHRyaWJ1dGVCdWZmZXJJbmZvLnNldFZhbHVlKGxhc3RDdXN0b21WYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApLFxyXG4gICAgY3VzdG9tRWxlbWVudCxcclxuICAgIC4uLm9wdGlvbnMubWFwKG8gPT4gby5lbGVtZW50KSxcclxuICBdKTtcclxuXHJcbiAgcmV0dXJuIHsgZWxlbWVudCwgdW5zdWJzY3JpYmU6ICgpID0+IGRldGFjaCgpIH07XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVBdHRyaWJ1dGVCdWZmZXJJbnB1dFZlYzMgPSAoXHJcbiAgdXBkYXRlOiAodmFsdWU6IFZlY3RvcjNbXSkgPT4gdm9pZCxcclxuICBlZGl0YWJsZTogYm9vbGVhblxyXG4pID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICBpbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtaW5wdXRcIjtcclxuICBpbnB1dC5kaXNhYmxlZCA9ICFlZGl0YWJsZTtcclxuICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShpbnB1dC52YWx1ZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdWx0XCIsIHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYW4gYXJyYXkgdHlwZVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB4eHggPSByZXN1bHQuZXZlcnkoZSA9PlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShlKSA/IGUubGVuZ3RoID09PSAzIDogZmFsc2VcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICgheHh4KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBldmVyeSBlbGVtZW50IGlkIHRoZSBhcnJhIGlzIHNhbWUgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXBkYXRlKHJlc3VsdCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEganNvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQXR0cmlidXRlQnVmZmVySW5wdXRWZWM0ID0gKFxyXG4gIGluaXRpYWxWYWx1ZTogVmVjdG9yNFtdLFxyXG4gIHVwZGF0ZTogKHZhbHVlOiBWZWN0b3I0W10pID0+IHZvaWQsXHJcbiAgZWRpdGFibGU6IGJvb2xlYW5cclxuKSA9PiB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgLy9jb25zdCBpdGVtRWxlbWVudCA9IHsgZWxlbWVudDogaW5wdXQsIHZhbHVlIH07XHJcbiAgLy9PYmplY3QuYXNzaWduKGlucHV0LCBpbnB1dE9wdGlvbnMpO1xyXG4gIGlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1pbnB1dFwiO1xyXG4gIGlucHV0LmRpc2FibGVkID0gIWVkaXRhYmxlO1xyXG4gIGlucHV0LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKTtcclxuICBsZXQgY3VycmVudFZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gIGlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGlucHV0LnZhbHVlKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhcInJlc3VsdFwiLCByZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGFuIGFycmF5IHR5cGVcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgeHh4ID0gcmVzdWx0LmV2ZXJ5KGUgPT5cclxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgPyBlLmxlbmd0aCA9PT0gNCA6IGZhbHNlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoIXh4eCkge1xyXG4gICAgICAgICAgLy8gIGNvbnNvbGUubG9nKFwibm90IGV2ZXJ5IGVsZW1lbnQgaWQgdGhlIGFycmEgaXMgc2FtZSBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjdXJyZW50VmFsdWUgPSByZXN1bHQ7XHJcbiAgICAgIHVwZGF0ZShyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGpzb25cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICAvL1dyb25nIGZvcm1hdCEgU2hvdWxkIGJlIFtbeDEseTFdLCBbeDIseTJdLCAuLi5dXHJcbiAgcmV0dXJuIGlucHV0O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCB9IGZyb20gXCIuLi91dGlscy9odG1sXCI7XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJHTENhbnZhcyA9IChcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4pOiBbXHJcbiAgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAge1xyXG4gICAgY29udGV4dDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gIH1cclxuXSA9PiB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICBjYW52YXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuICBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdChjYW52YXMsIHJlY3QgPT4ge1xyXG4gICAgY2FudmFzLndpZHRoID0gcmVjdC53aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSByZWN0LmhlaWdodDtcclxuICB9KTtcclxuXHJcbiAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAvL3RvZG8gbW92ZSB0byBlcnJvcnNcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgd2ViZ2wgY29udGV4dFwiKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICBjYW52YXMsXHJcbiAgICB7XHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICB9LFxyXG4gIF07XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBvYnNlcnZlRWxlbWVudEJvdW5kaW5nUmVjdCA9IChcclxuICBlbGVtZW50OiBFbGVtZW50LFxyXG4gIGNhbGxiYWNrOiAocmVjdGFuZ2xlOiB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgfSkgPT4gdm9pZFxyXG4pOiAoKCkgPT4gdm9pZCkgPT4ge1xyXG4gIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVsZW1lbnRzID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyRW50cnkgPSBlbGVtZW50cy5maW5kKGUgPT4gZS50YXJnZXQgPT09IGVsZW1lbnQpO1xyXG5cclxuICAgIGlmIChvYnNlcnZlckVudHJ5KSB7XHJcbiAgICAgIGNvbnN0IGRvbVJlY3QgPSBvYnNlcnZlckVudHJ5LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgIHg6IGRvbVJlY3QueCxcclxuICAgICAgICB5OiBkb21SZWN0LnksXHJcbiAgICAgICAgd2lkdGg6IGRvbVJlY3Qud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBkb21SZWN0LmhlaWdodCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XHJcbiAgcmV0dXJuICgpID0+IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxufTtcclxuIiwiaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSBcIi4uL2FycmF5XCI7XHJcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gXCIuLi91dWlkXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VSZXF1ZXN0LCBNZXNzYWdlUmVzcG9uc2UgfSBmcm9tIFwiLi9tZXNzYWdlc1wiO1xyXG5cclxuZGVjbGFyZSBjb25zdCBhY3F1aXJlVnNDb2RlQXBpOiAoKSA9PiB7XHJcbiAgLy9nZXRTdGF0ZTogKCkgPT4gYW55O1xyXG4gIC8vc2V0U3RhdGU6IChzdGF0ZTogYW55KSA9PiB2b2lkO1xyXG4gIHBvc3RNZXNzYWdlOiAobWVzc2FnZTogTWVzc2FnZVJlcXVlc3QpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdnNjb2RlQXBpID0gYWNxdWlyZVZzQ29kZUFwaSgpO1xyXG5cclxudHlwZSBSZXNwb25zZUxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3ZXJFbmRwb2ludCB7XHJcbiAgZXZlbnRMaXN0ZW5lcnM6IFJlc3BvbnNlTGlzdGVuZXJbXSA9IFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBldmVudCA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihldmVudC5kYXRhKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNoYWRlckRvY3VtZW50cygpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xyXG5cclxuICAgIHZzY29kZUFwaS5wb3N0TWVzc2FnZSh7XHJcbiAgICAgIHR5cGU6IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIsXHJcbiAgICAgIGlkOiBtZXNzYWdlSWQsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2U8eyBmaWxlUGF0aDogc3RyaW5nOyBmaWxlTmFtZTogc3RyaW5nIH1bXT4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0U2hhZGVyRG9jdW1lbnRzXCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC5maWxlcyk7XHJcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXREb2N1bWVudFRleHQoZmlsZU5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdXVpZHY0KCk7XHJcblxyXG4gICAgdnNjb2RlQXBpLnBvc3RNZXNzYWdlKHtcclxuICAgICAgdHlwZTogXCJnZXREb2N1bWVudFRleHRcIixcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgcGF5bG9hZDogeyBmaWxlTmFtZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiZ2V0RG9jdW1lbnRUZXh0XCIgJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUlkKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UucGF5bG9hZC50ZXh0KTtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvRG9jdW1lbnRTYXZlKFxyXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcclxuICAgIGNhbGxiYWNrOiAobmV3Q29udGVudDogc3RyaW5nKSA9PiB2b2lkXHJcbiAgKTogKCkgPT4gdm9pZCB7XHJcbiAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICB0eXBlOiBcInN1YnNjcmliZVRvRG9jdW1lbnRUZXh0Q2hhbmdlXCIsXHJcbiAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2UpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG1lc3NhZ2UudHlwZSA9PT0gXCJvbkRvY3VtZW50VGV4dENoYW5nZVwiICYmXHJcbiAgICAgICAgbWVzc2FnZS5wYXlsb2FkLmZpbGVQYXRoID09PSBmaWxlUGF0aFxyXG4gICAgICApIHtcclxuICAgICAgICBjYWxsYmFjayhtZXNzYWdlLnBheWxvYWQudGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICB2c2NvZGVBcGkucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgIHR5cGU6IFwidW5zdWJzY3JpYmVUb0RvY3VtZW50VGV4dENoYW5nZVwiLFxyXG4gICAgICAgIHBheWxvYWQ6IHsgZmlsZU5hbWU6IGZpbGVQYXRoIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IFJlc3BvbnNlTGlzdGVuZXIpIHtcclxuICAgIHJlbW92ZSh0aGlzLmV2ZW50TGlzdGVuZXJzLCBsaXN0ZW5lcik7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBtZXNoZXMgPSBbXHJcbiAge1xyXG4gICAgaWQ6IFwiY3ViZVwiLFxyXG4gICAgZGlzcGxheTogXCJDdWJlXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCJzcGhlcmVcIixcclxuICAgIGRpc3BsYXk6IFwiU3BoZXJlXCIsXHJcbiAgfSxcclxuXTtcclxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuL3V0aWxzL29ic2VydmFibGVcIjtcclxuaW1wb3J0IHsgdHJhbnNsYXRpb25zIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90cmFuc2xhdGlvbnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlRHJvcGRvd24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNlY3Rpb25UaXRsZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvaGVhZGVyXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUJ1dHRvbiBhcyBjcmVhdGVCdXR0b24gfSBmcm9tIFwiLi9jb21wb25lbnRzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBjcmVhdGVEaXYsIHdpdGhMYWJlbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvd3JhcHBlcnNcIjtcclxuaW1wb3J0IHsgY3JlYXRlVW5pZm9ybUNvbXBvbmVudHMgfSBmcm9tIFwiLi91dGlscy93ZWJnbC91bmlmb3JtQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7XHJcbiAgY29tcGlsZVNoYWRlcnNGcm9tU291cmNlLFxyXG4gIGZvcm1hdFNoYWRlckNvbXBpbGVFcnJvcnMsXHJcbiAgZ2V0UHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMsXHJcbiAgZ2V0UHJvZ3JhbVVuaWZvcm1zLFxyXG4gIHJlbmRlclByb2dyYW0sXHJcbiAgU2hhZGVyQ29tcGlsZUVycm9ycyxcclxufSBmcm9tIFwiLi91dGlscy93ZWJnbC9pbmRleFwiO1xyXG5pbXBvcnQge1xyXG4gIEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmcsXHJcbiAgY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyxcclxufSBmcm9tIFwiLi91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgY3JlYXRlV2ViR0xDYW52YXMgfSBmcm9tIFwiLi9jb21wb25lbnRzL3dlYmdsQ2FudmFzXCI7XHJcbmltcG9ydCB7IFZpZXdlckVuZHBvaW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb21tdW5pY2F0aW9uL3ZpZXdlckVuZHBvaW50XCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZUJ1ZmZlclR5cGUgfSBmcm9tIFwiLi91dGlscy93ZWJnbC9hdHRyaWJ1dGVCdWZmZXJcIjtcclxuaW1wb3J0IHsgbWVzaGVzIH0gZnJvbSBcIi4vbWVzaGVzXCI7XHJcblxyXG5jb25zdCBjcmVhdGVWaWV3ZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgbWVzaEF0dHJpYnV0ZXM6IEF0dHJpYnV0ZUJ1ZmZlckJpbmRpbmdbXSA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJCaW5kaW5nIC0gQ3ViZSBub3JtYWxzXCIsXHJcbiAgICAgIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNCxcclxuICAgICAgdmFsdWU6IG5ldyBPYnNlcnZhYmxlKFsxLCAyLCAzLCA0XSksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkJpbmRpbmcgLSBDdWJlIHRhbmdlbnRzXCIsXHJcbiAgICAgIHR5cGU6IEF0dHJpYnV0ZUJ1ZmZlclR5cGUuRkxPQVRfVkVDNCxcclxuICAgICAgdmFsdWU6IG5ldyBPYnNlcnZhYmxlKFsxLCAyLCAzLCA0XSksXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIC8vb25jaGFuZ2UgdWRwYXRlIGVud0xvY2FsXHJcbiAgY29uc3Qgdmlld2VyRW5kcG9pbnQgPSBuZXcgVmlld2VyRW5kcG9pbnQoKTtcclxuICBjb25zdCB2aWV3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdlclwiKTtcclxuICBjb25zdCB2aWV3ZXJPcHRpb25zID0gY3JlYXRlRGl2KFwidmlld2VyLW9wdGlvbnNcIik7XHJcbiAgY29uc3Qgc2hhZGVyT3B0aW9ucyA9IGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXItb3B0aW9uc1wiKTtcclxuICBjb25zdCBzaGFkZXJDb21waWxhdGlvbkVycm9ycyA9IGNyZWF0ZURpdihcInZpZXdlci1jb250ZW50IHNoYWRlci1lcnJvcnNcIik7XHJcbiAgY29uc3QgW3dlYkdMQ2FudmFzLCB3ZWJHTENvbnRyb2xsZXJdID0gY3JlYXRlV2ViR0xDYW52YXMoXCJ2aWV3ZXItY29udGVudFwiKTtcclxuXHJcbiAgdmlld2VyLmFwcGVuZENoaWxkKHdlYkdMQ2FudmFzKTtcclxuICB2aWV3ZXIuYXBwZW5kQ2hpbGQoc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMpO1xyXG4gIHZpZXdlci5hcHBlbmRDaGlsZCh2aWV3ZXJPcHRpb25zKTtcclxuXHJcbiAgY29uc3Qgc2hvd0NvbnRlbnQgPSAoY29udGVudDogXCJjYW52YXNcIiB8IFwiZXJyb3JzXCIgfCBcIm5vbmVcIikgPT4ge1xyXG4gICAgd2ViR0xDYW52YXMuc3R5bGUudmlzaWJpbGl0eSA9XHJcbiAgICAgIGNvbnRlbnQgPT09IFwiY2FudmFzXCIgPyBcInZpc2libGVcIiA6IFwiY29sbGFwc2VcIjtcclxuICAgIHNoYWRlckNvbXBpbGF0aW9uRXJyb3JzLnN0eWxlLnZpc2liaWxpdHkgPVxyXG4gICAgICBjb250ZW50ID09PSBcImVycm9yc1wiID8gXCJ2aXNpYmxlXCIgOiBcImNvbGxhcHNlXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3luY1NoYWRlckRvY3VtZW50cyA9ICgpID0+IHtcclxuICAgIHZpZXdlckVuZHBvaW50LmdldFNoYWRlckRvY3VtZW50cygpLnRoZW4oc2QgPT4ge1xyXG4gICAgICBjb25zdCBmaWxlcyA9IHNkLm1hcChmID0+ICh7XHJcbiAgICAgICAgaWQ6IGYuZmlsZVBhdGgsXHJcbiAgICAgICAgZGlzcGxheTogZi5maWxlTmFtZSxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgdmVydGV4RHJvcGRvd25Db250cm9sbGVyLnNldEl0ZW1zKGZpbGVzKTtcclxuICAgICAgZnJhZ21lbnREcm9wZG93bkNvbnRyb2xsZXIuc2V0SXRlbXMoZmlsZXMpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZTogKCkgPT4gdm9pZCB8IHVuZGVmaW5lZDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IHNlbGVjdGVkVmVydGV4Q29udGVudDogc3RyaW5nIHwgbnVsbDtcclxuICBsZXQgc2VsZWN0ZWRGcmFnbWVudENvbnRlbnQ6IHN0cmluZyB8IG51bGw7XHJcbiAgbGV0IGFuaW1hdGlvbkZyYW1lSGFuZGxlOiBudW1iZXIgPSBudWxsO1xyXG5cclxuICBjb25zdCBvblNoYWRlckNvbnRlbnRDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgc2hhZGVyT3B0aW9ucy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdlYkdMQ29udHJvbGxlci5jb250ZXh0O1xyXG5cclxuICAgIGlmIChzZWxlY3RlZEZyYWdtZW50Q29udGVudCAmJiBzZWxlY3RlZFZlcnRleENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGlsZVNoYWRlcnNGcm9tU291cmNlKFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50LFxyXG4gICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcbiAgICAgICAgc2hvd0NvbnRlbnQoXCJlcnJvcnNcIik7XHJcbiAgICAgICAgc2hhZGVyQ29tcGlsYXRpb25FcnJvcnMuaW5uZXJUZXh0ID0gZm9ybWF0U2hhZGVyQ29tcGlsZUVycm9ycyhcclxuICAgICAgICAgIHJlc3VsdCBhcyBTaGFkZXJDb21waWxlRXJyb3JzXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93Q29udGVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjb25zdCBwcm9ncmFtID0gcmVzdWx0IGFzIFdlYkdMUHJvZ3JhbTtcclxuICAgICAgICBjb25zdCBwcm9ncmFtVW5pZm9ybXMgPSBnZXRQcm9ncmFtVW5pZm9ybXMoY29udGV4dCwgcHJvZ3JhbSk7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMgPSBnZXRQcm9ncmFtQXR0cmlidXRlQnVmZmVycyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgdW5pZm9ybUNvbXBvbmVudHMgPSBjcmVhdGVVbmlmb3JtQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgcHJvZ3JhbVVuaWZvcm1zXHJcbiAgICAgICAgKTtcclxuICAgICAgICB1bmlmb3JtQ29tcG9uZW50cy5mb3JFYWNoKHVjID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKHVjLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVCdWZmZXJDb21wb25lbnRzID0gY3JlYXRlQXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cyhcclxuICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICBwcm9ncmFtLFxyXG4gICAgICAgICAgcHJvZ3JhbUF0dHJpYnV0ZUJ1ZmZlcnMsXHJcbiAgICAgICAgICBtZXNoQXR0cmlidXRlc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5mb3JFYWNoKGFiID0+XHJcbiAgICAgICAgICBzaGFkZXJPcHRpb25zLmFwcGVuZENoaWxkKGFiLmNvbXBvbmVudClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCB1bmlmb3JtSW5mb3MgPSB1bmlmb3JtQ29tcG9uZW50cy5tYXAodWMgPT4gdWMudW5pZm9ybUluZm8pO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZUJ1ZmZlckluZm9zID0gYXR0cmlidXRlQnVmZmVyQ29tcG9uZW50cy5tYXAoXHJcbiAgICAgICAgICBhYmMgPT4gYWJjLmF0dHJpYnV0ZUJ1ZmZlckluZm9cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoYW5pbWF0aW9uRnJhbWVIYW5kbGUgIT09IG51bGwpXHJcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUhhbmRsZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbmRlclByb2dyYW0oY29udGV4dCwgcHJvZ3JhbSwge1xyXG4gICAgICAgICAgICB1bmlmb3JtSW5mb3MsXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZUJ1ZmZlckluZm9zLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhbmltYXRpb25GcmFtZUhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlbmRlcigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93Q29udGVudChcIm5vbmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmlld2VyT3B0aW9ucy5hcHBlbmRDaGlsZChcclxuICAgIGNyZWF0ZURpdihcInZpZXdlci1zaGFkZXJzLXRpdGxlXCIsIFtcclxuICAgICAgY3JlYXRlU2VjdGlvblRpdGxlKHRyYW5zbGF0aW9ucy5zaGFkZXJzLCBcIlwiKS5lbGVtZW50LFxyXG4gICAgICBjcmVhdGVCdXR0b24oXCJTeW5jXCIsIFwidmlld2VyLXJlZnJlc2gtYnV0dG9uXCIsIHN5bmNTaGFkZXJEb2N1bWVudHMpXHJcbiAgICAgICAgLmVsZW1lbnQsXHJcbiAgICBdKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IFt2ZXJ0ZXhEcm9wZG93bkVsZW1lbnQsIHZlcnRleERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld1ZlcnRleCA9PiB7XHJcbiAgICAgIHNlbGVjdGVkVmVydGV4RmlsZVdhdGNoZXJVbnN1YnNjcmliZT8uKCk7XHJcblxyXG4gICAgICBpZiAobmV3VmVydGV4KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhGaWxlV2F0Y2hlclVuc3Vic2NyaWJlID0gdmlld2VyRW5kcG9pbnQuc3Vic2NyaWJlVG9Eb2N1bWVudFNhdmUoXHJcbiAgICAgICAgICBuZXdWZXJ0ZXguaWQsXHJcbiAgICAgICAgICBuZXdDb250ZW50ID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWZXJ0ZXhDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkVmVydGV4Q29udGVudCA9IG5ld1ZlcnRleFxyXG4gICAgICAgID8gYXdhaXQgdmlld2VyRW5kcG9pbnQuZ2V0RG9jdW1lbnRUZXh0KG5ld1ZlcnRleC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKHZlcnRleERyb3Bkb3duRWxlbWVudCwgXCJWZXJ0ZXggU2hhZGVyXCIpKTtcclxuXHJcbiAgY29uc3QgW2ZyYWdtZW50RHJvcGRvd25FbGVtZW50LCBmcmFnbWVudERyb3Bkb3duQ29udHJvbGxlcl0gPSBjcmVhdGVEcm9wZG93bihcclxuICAgIGFzeW5jIG5ld0ZyYWdtZW50ID0+IHtcclxuICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmU/LigpO1xyXG5cclxuICAgICAgaWYgKG5ld0ZyYWdtZW50KSB7XHJcbiAgICAgICAgc2VsZWN0ZWRGcmFnbWVudEZpbGVXYXRjaGVyVW5zdWJzY3JpYmUgPSB2aWV3ZXJFbmRwb2ludC5zdWJzY3JpYmVUb0RvY3VtZW50U2F2ZShcclxuICAgICAgICAgIG5ld0ZyYWdtZW50LmlkLFxyXG4gICAgICAgICAgbmV3Q29udGVudCA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3Q29udGVudDtcclxuICAgICAgICAgICAgb25TaGFkZXJDb250ZW50Q2hhbmdlZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGVjdGVkRnJhZ21lbnRDb250ZW50ID0gbmV3RnJhZ21lbnRcclxuICAgICAgICA/IGF3YWl0IHZpZXdlckVuZHBvaW50LmdldERvY3VtZW50VGV4dChuZXdGcmFnbWVudC5pZClcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoXHJcbiAgICB3aXRoTGFiZWwoZnJhZ21lbnREcm9wZG93bkVsZW1lbnQsIFwiRnJhZ21lbnQgU2hhZGVyXCIpXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW21lc2hEcm9wZG93bkVsZW1lbnQsIG1lc2hEcm9wZG93bkNvbnRyb2xsZXJdID0gY3JlYXRlRHJvcGRvd24oKCkgPT5cclxuICAgIG9uU2hhZGVyQ29udGVudENoYW5nZWQoKVxyXG4gICk7XHJcbiAgbWVzaERyb3Bkb3duQ29udHJvbGxlci5zZXRJdGVtcyhtZXNoZXMpO1xyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQod2l0aExhYmVsKG1lc2hEcm9wZG93bkVsZW1lbnQsIFwiTWVzaFwiKSk7XHJcblxyXG4gIHZpZXdlck9wdGlvbnMuYXBwZW5kQ2hpbGQoc2hhZGVyT3B0aW9ucyk7XHJcblxyXG4gIHN5bmNTaGFkZXJEb2N1bWVudHMoKTtcclxufTtcclxuXHJcbmNyZWF0ZVZpZXdlcigpO1xyXG4iLCJleHBvcnQgY29uc3QgY3JlYXRlU2VjdGlvblRpdGxlID0gKHRleHQ6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xyXG4gIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBzZWN0aW9uLXRpdGxlYDtcclxuICByZXR1cm4geyBlbGVtZW50IH07XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=